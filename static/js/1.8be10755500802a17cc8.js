webpackJsonp([1,3,4],{"2s5e":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("4YfN"),o=(n=a)&&n.__esModule?n:{default:n},i=r("R4Sj");var s=r("VSB1").yx.classArr;t.default={name:"insuranceClassDrop",props:{index:{default:0},itemdata:{}},components:{},data:function(){return{indeterminate:!0,checkAll:!1,checkAllGroup:[],classDict:[],financeCodeConfig:[],isRequireFinanceCode:[]}},computed:(0,o.default)({},(0,i.mapState)("apply",["orderData"]),{obj:function(){return this.itemdata},checkAllGroupText:function(){var e=this,t=[];return this.checkAllGroup.forEach(function(r){var n=e.classDict.find(function(e){return e.dictCode==r});n&&t.push(n.dictName)}),t.join("，")}}),mounted:function(){var e=this;this.financeCodeConfig=this.itemdata.financeCodeConfigArr,this.isRequireFinanceCode=this.itemdata.isRequireFinanceCodeArr;var t=s[parseInt(this.itemdata.period)-1];this.isRequireFinanceCode.forEach(function(t){e.itemdata.financeCode.indexOf(t)<0&&e.itemdata.financeCode.push(t)}),this.classDict=_.map(t,function(t){return t.disabled=-1==e.financeCodeConfig.indexOf(t.dictCode)||e.isRequireFinanceCode.indexOf(t.dictCode)>-1,t}),this.checkAllGroup=this.itemdata.financeCode,this.checkAllGroupChange(this.checkAllGroup,!0)},methods:{checkAllGroupChange:function(e,t){var r=s[parseInt(this.itemdata.period)-1].filter(function(e){return 0==e.disabled});e.length>0&&e.length===r.length?(this.indeterminate=!1,this.checkAll=!0):e.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1),t||this.change()},handleCheckAll:function(e){var t=this;if(this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll){var r=this.classDict.filter(function(e){return!e.disabled||t.isRequireFinanceCode.indexOf(e.dictCode)>-1});this.checkAllGroup=r.map(function(e){return e.dictCode})}else{r=this.classDict.filter(function(e){return t.isRequireFinanceCode.indexOf(e.dictCode)>-1});this.checkAllGroup=r.map(function(e){return e.dictCode})}this.change()},close:function(){this.$emit("on-close")},change:function(){var e=this;this.$nextTick(function(){e.$emit("on-change",{i:e.index,financeCode:e.checkAllGroup,financeCodeText:e.checkAllGroupText})})}}}},"3drL":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r("rVsN")),a=(r("R4Sj"),l(r("VfUO"))),o=r("VSB1"),i=r("ZgZx"),s=l(r("iClD"));function l(e){return e&&e.__esModule?e:{default:e}}var c=o.yx.classArr;t.default={name:"itemInfo",mixins:[a.default],props:{},components:{},data:function(){return{visible:!1,inited:!1,showDrop:void 0,showClassDrop:void 0,DICT_whetherIns:[],DICT_whetherTheft:[],DICT_theftIncreaseType:[],DICT_gpsIncreaseFinanceType:[],theftTotalLimit:"",isInputPrice:o.yx.isInputPrice,isPickerPrice:o.yx.isPickerPrice,isRatioPrice:o.yx.isRatioPrice,formatAmount:s.default.number,gpsIncreaseIncreasePriceDisabled:!1,DICT_isGif:[{dictCode:"0",dictName:"否"},{dictCode:"1",dictName:"是"}]}},watch:{isOnline:{handler:function(e,t){e||(this.theftInsuranceInfo.isGift="")}}},computed:{isTheftItemDisabled:function(){var e=o.yx.isTheftItemDisabled(this.orderData.loan);return e&&this.theftInsuranceInfo&&(this.theftInsuranceInfo.isFinanceInsurance="0"),e},isGpsIncreaseItemDisabled:function(){return o.yx.isGpsIncreaseItemDisabled(this.orderData.loan)},isOnline:function(){return"030100000"===this.orderData.loan.baseInfo.custPrimaryChannel},createAmountRule:function(){var e=this;return function(t){var r=e.insuranceInfo.insuranceItemList[t],n=(r.isRequireFinanceCodeArr,[]),a=(e.insuranceInfo.insuranceChannel,o.yx.isEmpty(r.insurancMinPrice)?0:parseFloat(r.insurancMinPrice||0)),i=o.yx.isEmpty(r.insuranceMaxPrice)?"":parseFloat(r.insuranceMaxPrice||0),s=e.isHasBusiIns(r),l="1"==e.insuranceInfo.isFinanceInsurance&&0==t;return n.push({validator:function(r,n,c){var u=e.yearName(t)+"保险金额";o.yx.isEmpty(n)?s||l?c(new Error(u+"不能为空")):c():s?o.yx.amountReg.test(n)?parseFloat(n)<=0?c(new Error(u+"必须大于0")):!o.yx.isEmpty(a)&&parseFloat(n)<a?c(new Error(u+"只能输入"+a+"-"+i)):!o.yx.isEmpty(i)&&parseFloat(n)>i?c(new Error(u+"只能输入"+a+"-"+i)):String(n).length>12?c(new Error(u+"不能超过12位")):c():c(new Error(u+"填写错误")):c()},trigger:"change"}),n}},createTheftIncreasePriceRule:function(){var e={financeName:"盗抢责任险加价",isRequire:!1,financeType:this.theftInsuranceInfo.increasePriceType,financePriceMax:this.calcTheftTotalLimit()-this.calcTheftBasePrice(),financePriceMin:0},t=[],r="1"==e.isRequire,n=o.yx.isEmpty(e.financePriceMin)?0:parseFloat(e.financePriceMin||0),a=o.yx.isEmpty(e.financePriceMax)?"":parseFloat(e.financePriceMax||0);return t.push((0,i.amountValidator)("盗抢责任险加价",r,a,n)),t},isGift:function(){return!(!this.isBuyTheftInsurance||!(this.isOnline&&"0"==this.theftInsuranceInfo.isGift||!this.isOnline&&this.isBuyTheftInsurance))}},mounted:function(){var e=this;this.queryDictData(["whether","theftIncreasedType","billingPlace","insuranceMode","insuranceTypes"]).then(function(t){e.DICT_whetherIns=t.whether,e.DICT_whetherTheft=t.whether,e.DICT_theftIncreaseType=t.theftIncreasedType,e.DICT_gpsIncreaseFinanceType=t.theftIncreasedType,e.queryInitData("itemInfo",function(){if(e.gpsInfo&&"04970000"==e.orderData.orderinfo.channelOneLevel&&(e.DICT_gpsIncreaseFinanceType=e.dp.theftIncreasedType.filter(function(e){return"1"!=e.dictCode})),e.theftInsuranceInfo&&"04970000"==e.orderData.orderinfo.channelOneLevel&&(e.DICT_theftIncreaseType=e.dp.theftIncreasedType.filter(function(e){return"1"!=e.dictCode})),e.theftInsuranceInfo&&e.updateTheftBasePrice(),e.otherFinanceInfo){var t=e.otherFinanceInfo.findIndex(function(t){return e.isGpsIncreaseBasePriceCode(t.financeCode)});t>-1&&e.handleGpsIncreaseBasePriceChange(t)}e.$nextTick(function(){e.todoRecount(),e.inited=!0})})})},methods:{createItemPlaceholder:function(e,t){return e&&t?e+"~"+t:"请输入"},isDisabledItem:function(e){var t=e.financeCode;return o.yx.isCarItemCode(t)},isGpsIncreaseBasePriceCode:function(e){return o.yx.isGpsIncreaseBasePriceCode(e)},isGpsIncreaseIncreasePriceCode:function(e){return o.yx.isGpsIncreaseIncreasePriceCode(e)},toUpper:function(e){return String(e).toUpperCase()},todoInsuranceInfoSwitch:function(){var e=this,t=this.insuranceInfo,r=this.financePeriodYear;return"1"!=t.isFinanceInsurance&&(t.insuranceChannel="",t.insuranceMode=""),_.each(t.insuranceItemList,function(n){var a=e.isHasBusiIns(n);"1"!=t.isFinanceInsurance||_.isEmpty(n.isRequireFinanceCode)&&parseInt(n.period||0)>r?(n.financeCode="string"==typeof n.financeCode?n.financeCode.split(","):n.financeCode||[],n.insuranceKind="string"==typeof n.insuranceKind?n.insuranceKind.split(","):n.insuranceKind||[],n.insuranceAmount=0):1!=n.financeCode.length||a?a||n.insuranceKind.splice(0):(n.insuranceKind.splice(0),n.insuranceAmount=(0,o.stringToNumber)(e.baseInfo.carVesselCompulsoryInsurancePrice))}),t},createClassRule:function(e){var t=this,r=this.insuranceInfo.insuranceItemList[e],n=[],a="1"==this.insuranceInfo.isFinanceInsurance&&0==e,o=r.isRequireFinanceCodeArr;return n.push({validator:function(r,n,i){var s=t.yearName(e);if(o.length>n.length){var l=[];o.forEach(function(e){n.indexOf(e)<0&&l.push(e)});var u=[];c[e].forEach(function(e){l.indexOf(e.dictCode)>-1&&u.push(e.dictName)});var d=u.join(",");i(new Error(s+d+"必融"))}else a&&!n.length?i(new Error(s+"保险必融")):i()},trigger:"change"}),n},createKindRule:function(e){var t=this,r=this.insuranceInfo.insuranceItemList[e],n=[];return this.isHasBusiIns(r,e)&&n.push({type:"array",validator:function(r,n,a){var o=t.yearName(e)+"";0==n.length?a(new Error(o+"险种不能为空")):a()},trigger:"change"}),n},isHasBusiIns:function(e){var t=c[parseInt(e.period)-1][0].dictCode;return e.financeCode.indexOf(t)>-1},getInsuranceClassText:function(e,t){var r=[],n=this.insuranceInfo.insuranceItemList[t];return e.forEach(function(e){var t=c[parseInt(n.period)-1].find(function(t){return t.dictCode==e});t&&r.push(t.dictName)}),r.sort(function(e,t){return e>t?1:-1}),r.join("，")},getInsuranceKindText:function(e){var t=this,r=[];return e.forEach(function(e){var n=t.dp.insuranceTypes.find(function(t){return t.dictCode==e});n&&r.push(n.dictName)}),r.join("，")},yearName:function(e){var t=this.insuranceInfo.insuranceItemList[e];return"第"+["一","二","三","四","五"][e=parseInt(t.period)-1]+"年"},insuranceClassClickFn:function(e){this.showClassDrop===e?this.showClassDrop="":this.showClassDrop=e,this.showDrop=""},insuranceClassClickOutFn:function(e){this.showClassDrop=""},insuranceClassDropChange:function(e){var t=this,r=this.insuranceInfo.insuranceItemList[e.i];r.financeCode=e.financeCode,r.financeCodeText=e.financeCodeText,this.isHasBusiIns(r)||(r.insuranceAmount="0"),this.$nextTick(function(){t.inited&&t.handleChange(r.financeCode,"insuranceInfo.insuranceItemList."+e.i+".financeCode")})},insuranceClickFn:function(e){this.showDrop===e?this.showDrop="":this.showDrop=e,this.showClassDrop=""},insuranceClickOutFn:function(e){this.showDrop=""},insuranceDropChange:function(e){var t=this,r=this.insuranceInfo.insuranceItemList[e.i];r.insuranceKind=e.insuranceKind,r.insuranceKindText=e.insuranceKindText,this.$nextTick(function(){t.inited&&t.handleChange(r.insuranceKind,"insuranceInfo.insuranceItemList."+e.i+".insuranceKind")})},createGpsBasePriceRule:function(){var e={financeName:"GPS基础价",isRequire:this.gpsInfo.isRequireBasePrice,financeType:this.gpsInfo.basePriceType,financePriceMax:this.gpsInfo.basePriceMax,financePriceMin:this.gpsInfo.basePriceMin};return this.createRule(e)},createGpsIncreasePriceRule:function(){var e={financeName:"GPS加价金额",isRequire:this.gpsInfo.isRequireIncreasePrice,financeType:this.gpsInfo.increasePriceType,financePriceMax:this.gpsInfo.increasePriceMax,financePriceMin:this.gpsInfo.increasePriceMin};return this.createRule(e)},updateTheftBasePrice:function(){this.theftInsuranceInfo.basePrice=""+this.calcTheftBasePrice(),this.theftTotalLimit=""+this.calcTheftTotalLimit()},calcTheftBasePrice:function(){var e=this.theftInsuranceInfo.increaseFinancePeriod||0,t=this.sellingAmount||0;return 0==e||0==t?0:150+300*(Math.ceil(t/3e5)-1)+150*(parseInt(e)-1)},calcTheftTotalLimit:function(){var e=this.theftInsuranceInfo.increaseFinancePeriod||0,t=this.sellingAmount||0;return 0==e?0:500+300*(Math.ceil(t/3e5)-1)+500*(parseInt(e)-1)},handleGpsIncreaseBasePriceChange:function(e){var t=this,r=this.otherFinanceInfo[e];if(r&&this.isGpsIncreaseBasePriceCode(r.financeCode)){var n=r.financePrice,a=this.otherFinanceInfo.find(function(e){return t.isGpsIncreaseIncreasePriceCode(e.financeCode)});a&&0===(0,o.stringToNumber)(n)?o.yx.isPickerPrice(a.financeType)&&a.financeGear.find(function(e){return 0==e.value})||o.yx.isInputPrice(a.financeType)?(a.financePrice="0",this.gpsIncreaseIncreasePriceDisabled=!0):this.gpsIncreaseIncreasePriceDisabled=!1:a&&0!==(0,o.stringToNumber)(n)&&(this.gpsIncreaseIncreasePriceDisabled=!1)}},handleBlur:function(e){var t=this,r=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v");if(!this.checkFieldIsChange("itemInfo."+r))return!1;var n=r.split(".");"otherFinanceInfo"==n[0]&&this.handleGpsIncreaseBasePriceChange(n[1]),this.$nextTick(function(){t.cacheData("itemInfo"),t.todoRecount()})},handleChange:function(e,t){var r=this;if(!this.checkFieldIsChange("itemInfo."+t))return!1;var n=t.split(".");"theftInsuranceInfo.increaseFinancePeriod"!=t&&"theftInsuranceInfo.isFinanceInsurance"!=t||this.updateTheftBasePrice(),"gpsInfo.gpsSupplier"===t&&"5"===e&&(this.theftInsuranceInfo.isGift=""),"insuranceInfo"==n[0]&&this.todoInsuranceInfoSwitch(),"otherFinanceInfo"==n[0]&&this.handleGpsIncreaseBasePriceChange(n[1]),"theftInsuranceInfo.isFinanceInsurance"===t&&(this.theftInsuranceInfo.isGift=""),this.$nextTick(function(){r.cacheData("itemInfo"),r.todoRecount()})},validate:function(e){var t=this,r=[];["insuranceInfo","gpsInfo","theftInsuranceInfo","otherFinanceInfo"].forEach(function(e){t.$refs[e]&&r.push(t.$refs[e].validate())}),n.default.all(r).then(function(t){var r=_.every(t);e&&e(r)})}}}},"3zeM":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("rVsN")),a=s(r("Vr9E")),o=s(r("c71f")),i=r("VSB1");function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"orderContactorForm",mixins:[a.default],props:{},components:{},data:function(){return{contactorRule:o.default.contactorRule}},computed:{contactorArr:function(){return this.orderData.cust.contactor},relationShipRule:function(){var e=this;return[{validator:function(t,r,n){var a=e.contactorArr[0],o=e.contactorArr[1];i.yx.isEmpty(r)?n(new Error("与申请人关系不能为空")):i.yx.isEmpty(a.contactRelationship)||i.yx.isEmpty(o.contactRelationship)||a.contactRelationship!==o.contactRelationship?n():n(new Error("联系人关系不能相同"))},trigger:"change"}]}},mounted:function(){var e=this;this.queryDictData(["relationship"]),this.$nextTick(function(){e.todoRecount()})},methods:{validate:function(e){var t=this,r=[];["contactor0","contactor1"].forEach(function(e){r.push(new n.default(function(r){t.$refs[e]?t.$refs[e][0].validate(function(e){r(e)}):r(!0)}))}),n.default.all(r).then(function(t){var r=_.every(t);e&&e(r)})},handleBlur:function(e){var t=this,r=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v");if(!this.checkFieldIsChange(r))return!1;this.$nextTick(function(){t.cacheData("contactor"),t.todoRecount()})},handleChange:function(e,t){var r=this;if(!this.checkFieldIsChange(t))return!1;this.$nextTick(function(){"contactor.0.contactRelationship"!=t||i.yx.isEmpty(r.contactorArr[1].contactRelationship)||r.$refs.contactor1[0].validateField("contactRelationship"),"contactor.1.contactRelationship"!=t||i.yx.isEmpty(r.contactorArr[0].contactRelationship)||r.$refs.contactor0[0].validateField("contactRelationship"),r.cacheData("contactor"),r.todoRecount()})}},watch:{}}},"4BGY":function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"apply-client-module"},[e.personal&&!e.isQy?r("order-personal-form",{ref:"personalForm",staticClass:"cm-panel"}):e._e(),e._v(" "),e.enterprise&&e.isQy?r("order-enterprise-form",{ref:"enterpriseForm",staticClass:"cm-panel",attrs:{tokenInited:e.tokenInited}}):e._e(),e._v(" "),e.relative&&!e.isQy?r("order-relative-form",{ref:"relativeForm",staticClass:"cm-panel"}):e._e(),e._v(" "),e.contactor&&e.contactor.length?r("order-contactor-form",{ref:"contactorForm"}):e._e(),e._v(" "),0==e.guarantorPersonal.length&&0==e.guarantorEnterprise.length?r("div",{staticClass:"cm-panel"},[r("h3",{staticClass:"margin-b-14"},[e._v("担保人 "),e.isQy?e._e():r("span",[e._v("(选填)")])]),e._v(" "),r("div",{staticClass:"font0",staticStyle:{"margin-bottom":"-10px"}},[r("Button",{attrs:{type:"primary",ghost:"","custom-icon":"iconfont icon-add"},on:{click:function(t){return e.addBondsman("1")}}},[e._v("添加个人担保人")]),e._v(" "),r("Button",{attrs:{type:"primary",ghost:"","custom-icon":"iconfont icon-add"},on:{click:function(t){return e.addBondsman("2")}}},[e._v("添加企业担保人")])],1)]):e._e(),e._v(" "),e._l(e.guarantorPersonal,function(t,n){return r("div",{staticClass:"cm-panel"},[r("order-guarantor-personal-form",{ref:"guarantorPersonal"+n,refInFor:!0,attrs:{type:"1",index:n},on:{"on-delete":function(t){return e.deleteBondsman("1",n)}}})],1)}),e._v(" "),e._l(e.guarantorEnterprise,function(t,n){return r("div",{staticClass:"cm-panel"},[r("order-guarantor-enterprise-form",{ref:"guarantorEnterprise"+n,refInFor:!0,attrs:{index:n},on:{"on-delete":function(t){return e.deleteBondsman("2",n)}}})],1)})],2)},staticRenderFns:[]};t.a=n},"6ss7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("4YfN")),a=r("R4Sj"),o=s(r("VfUO")),i=r("VSB1");r("ZgZx");function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"orderLoanCalcForm",mixins:[o.default],props:{},components:{},data:function(){return{tailCalcMethod:""}},computed:{downPctDisabled:function(){var e=this.calcInfo.downPaymentAmount,t=this.calcInfo.downPaymentProportion;return!(""===e||null===e||""!==t&&null!==t)},downAmountDisabled:function(){var e=this.calcInfo.downPaymentAmount,t=this.calcInfo.downPaymentProportion;return(""===e||null===e)&&!(""===t||null===t)},finalPctDisabled:function(){return"3"!=this.tailCalcMethod},finalAmountDisabled:function(){return"3"!=this.tailCalcMethod},newRule:function(){var e=this;return{downPaymentAmount:[{validator:function(t,r,n){var a=r,o=e.calcInfo.downPaymentProportion;i.yx.isEmpty(a)&&i.yx.isEmpty(o)?n(new Error("首付金额和首付比例必须填一项")):i.yx.isEmpty(a)&&!i.yx.isEmpty(o)?n():i.yx.amountReg.test(r)?r>e.sellingAmount?n(new Error("首付金额不得大于销售价")):n():n(new Error("首付金额格式不对"))},trigger:"change"}],downPaymentProportion:[{validator:function(t,r,n){var a=e.calcInfo.downPaymentAmount,o=r;i.yx.isEmpty(a)&&i.yx.isEmpty(o)?n(new Error("首付金额和首付比例必须填一项")):!i.yx.isEmpty(a)&&i.yx.isEmpty(o)?n():i.yx.pctReg.test(r)?n():n(new Error("首付比例只能输入0 - 100"))},trigger:"change"}],finalPaymentAmount:[{validator:function(t,r,n){var a=r,o=e.calcInfo.finalPaymentProportion;"3"==e.tailCalcMethod&&i.yx.isEmpty(a)&&i.yx.isEmpty(o)?n(new Error("尾付金额和尾付比例必须填一项")):"1"!=e.tailCalcMethod&&"3"!=e.tailCalcMethod||!i.yx.isEmpty(a)||i.yx.isEmpty(o)?i.yx.amountReg.test(r)?r>e.sellingAmount?n(new Error("尾付金额不得大于销售价")):n():n(new Error("尾付金额格式不对")):n()},trigger:"change"}],finalPaymentProportion:[{validator:function(t,r,n){var a=e.calcInfo.finalPaymentAmount,o=r;"3"==e.tailCalcMethod&&i.yx.isEmpty(a)&&i.yx.isEmpty(o)?n(new Error("尾付金额和尾付比例必须填一项")):"2"!=e.tailCalcMethod&&"3"!=e.tailCalcMethod||i.yx.isEmpty(a)||!i.yx.isEmpty(o)?i.yx.pctReg.test(r)?n():n(new Error("尾付比例只能输入0 - 100")):n()},trigger:"change"}]}}},mounted:function(){var e=this;this.queryInitData("calcInfo",function(){e.tailCalcMethod=i.yx.getTailCalcMethod(e.calcInfo.finalPaymentType),"1"!=e.tailCalcMethod&&"2"!=e.tailCalcMethod||""===e.sellingAmount||e.updateCalcAmount(e.tailCalcMethod),e.$nextTick(function(){e.todoRecount()})})},methods:(0,n.default)({},(0,a.mapMutations)("apply",[]),{handleBlur:function(e){var t=this,r=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v");if(!this.checkFieldIsChange(r))return!1;if("calcInfo.downPaymentAmount"==r){var n=this.calcInfo.downPaymentAmount,a=this.calcInfo.downPaymentProportion;i.yx.isEmpty(n)||i.yx.isEmpty(a)||(this.calcInfo.downPaymentProportion=""),this.$refs.calcInfo.validateField("downPaymentProportion")}if("calcInfo.downPaymentProportion"==r){var o=this.calcInfo.downPaymentAmount,s=this.calcInfo.downPaymentProportion;i.yx.isEmpty(o)||i.yx.isEmpty(s)||(this.calcInfo.downPaymentAmount=""),this.$refs.calcInfo.validateField("downPaymentAmount")}"calcInfo.finalPaymentAmount"==r&&"3"==this.tailCalcMethod&&(this.updateCalcAmount(1),this.$refs.calcInfo.validateField("finalPaymentAmount"),this.$refs.calcInfo.validateField("finalPaymentProportion")),"calcInfo.finalPaymentProportion"==r&&"3"==this.tailCalcMethod&&(this.updateCalcAmount(2),this.$refs.calcInfo.validateField("finalPaymentAmount"),this.$refs.calcInfo.validateField("finalPaymentProportion")),"calcInfo.finalPaymentAmount"==r&&"1"==this.tailCalcMethod&&this.updateCalcAmount(1),"calcInfo.finalPaymentProportion"==r&&"2"==this.tailCalcMethod&&this.updateCalcAmount(2),this.$nextTick(function(){t.cacheData("calcInfo"),t.todoRecount()})},updateCalcAmount:function(e){var t=this,r=!1;e||(r=!0);var n=this.calcInfo.downPaymentAmount,a=this.calcInfo.downPaymentProportion;if(!r||i.yx.isEmpty(n)||i.yx.isEmpty(a)||(this.calcInfo.downPaymentAmount="",this.calcInfo.downPaymentProportion=""),r&&"3"==this.tailCalcMethod&&(this.calcInfo.finalPaymentAmount="",this.calcInfo.finalPaymentProportion=""),"1"==this.tailCalcMethod||1==e){var o=(0,i.stringToNumber)(this.calcInfo.finalPaymentAmount)||0;if(0==this.sellingAmount||0==o)this.calcInfo.finalPaymentProportion="0";else{var s=(0,i.floatDiv)((0,i.floatMul)(o,100),this.sellingAmount);this.calcInfo.finalPaymentProportion=parseFloat(s.toFixed(2))}}if("2"==this.tailCalcMethod||2==e){var l=(0,i.stringToNumber)(this.calcInfo.finalPaymentProportion)||0;if(0==this.sellingAmount||0==l)this.calcInfo.finalPaymentAmount="0";else{var c=(0,i.floatMul)((0,i.floatDiv)(l,100),this.sellingAmount);this.calcInfo.finalPaymentAmount=parseFloat(c.toFixed(2))}}this.$nextTick(function(){r&&!i.yx.isEmpty(n)&&t.$refs.calcInfo.validateField("downPaymentAmount"),r&&!i.yx.isEmpty(a)&&t.$refs.calcInfo.validateField("downPaymentProportion"),r&&!i.yx.isEmpty(t.calcInfo.finalPaymentProportion)&&t.$refs.calcInfo.validateField("finalPaymentProportion"),r&&!i.yx.isEmpty(t.calcInfo.finalPaymentAmount)&&t.$refs.calcInfo.validateField("finalPaymentAmount")})},validate:function(e){this.$refs.calcInfo?this.$refs.calcInfo.validate(function(t){e&&e(t)}):e&&e(!0)}})}},"7dof":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("wWME"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("Ae+0"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},"86i2":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("BbAS"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("Ak+9"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},"9Ueq":function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",{staticClass:"margin-b-14"},[e._v("企业信息\n        "),r("ocr-button",{attrs:{itemid:"applicantBusinessLicence",ocrtype:"2"},on:{"on-ocr-result":e.setOcrRes}},[e._v("上传营业执照部分免填写\n        ")]),e._v(" "),r("ocr-button",{attrs:{itemid:"applicantOrderIdPositive",ocrtype:"1"},on:{"on-ocr-result":e.setOcrRes}},[e._v("\n            上传申请人身份证部分免填写\n        ")])],1),e._v(" "),r("Form",{ref:"formModel",attrs:{model:e.formModel,rules:e.enterpriseRule,"label-width":120}},[r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"订单申请类型",prop:"orderApplicationType"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择",v:"enterprise.orderApplicationType"},on:{"on-change":function(t){e.handleChange(t,"enterprise.orderApplicationType")}},model:{value:e.formModel.orderApplicationType,callback:function(t){e.$set(e.formModel,"orderApplicationType",t)},expression:"formModel.orderApplicationType"}},e._l(e.dp.applyType,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"企业名称",prop:"enterpriseName"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.enterpriseName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseName,callback:function(t){e.$set(e.formModel,"enterpriseName",t)},expression:"formModel.enterpriseName"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"统一社会信用代码",prop:"unifiedSocialCreditCode"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.unifiedSocialCreditCode"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.unifiedSocialCreditCode,callback:function(t){e.$set(e.formModel,"unifiedSocialCreditCode",t)},expression:"formModel.unifiedSocialCreditCode"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"组织机构代码",prop:"organizationCode"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.organizationCode"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.organizationCode,callback:function(t){e.$set(e.formModel,"organizationCode",t)},expression:"formModel.organizationCode"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"组织机构类别",prop:"organizationCategory"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"enterprise.organizationCategory")}},model:{value:e.formModel.organizationCategory,callback:function(t){e.$set(e.formModel,"organizationCategory",t)},expression:"formModel.organizationCategory"}},e._l(e.DICT_orgType,function(t,n){return r("i-option",{key:t.value,attrs:{value:t.value}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"组织机构类别细分",prop:"organizationCategoryDetail"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择",disabled:!e.formModel.organizationCategory},on:{"on-change":function(t){e.handleChange(t,"enterprise.organizationCategoryDetail")}},model:{value:e.formModel.organizationCategoryDetail,callback:function(t){e.$set(e.formModel,"organizationCategoryDetail",t)},expression:"formModel.organizationCategoryDetail"}},e._l(e.orgList.filter(function(t){return t.parent==e.formModel.organizationCategory}),function(t,n){return r("i-option",{key:t.value,attrs:{value:t.value}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"纳税人识别号",prop:"taxpayerIdentificationNum"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.taxpayerIdentificationNum"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.taxpayerIdentificationNum,callback:function(t){e.$set(e.formModel,"taxpayerIdentificationNum",t)},expression:"formModel.taxpayerIdentificationNum"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"中征码",prop:"eigenCode",rules:e.eigenCodeRule}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.eigenCode",disabled:"2"!=e.formModel.orderApplicationType},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.eigenCode,callback:function(t){e.$set(e.formModel,"eigenCode",t)},expression:"formModel.eigenCode"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"国别",prop:"country"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"enterprise.country")}},model:{value:e.formModel.country,callback:function(t){e.$set(e.formModel,"country",t)},expression:"formModel.country"}},e._l(e.dp.country,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("Form-item",{attrs:{label:"是否事业单位",prop:"isInstitution"}},[r("RadioGroup",{on:{"on-change":function(t){e.handleChange(t,"enterprise.isInstitution")}},model:{value:e.formModel.isInstitution,callback:function(t){e.$set(e.formModel,"isInstitution",t)},expression:"formModel.isInstitution"}},e._l(e.dp.whether,function(t,n){return r("Radio",{key:t.dictCode,attrs:{label:t.dictCode}},[r("span",[e._v(e._s(t.dictName))])])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"成立日期",prop:"establishDate"}},[r("DatePicker",{attrs:{type:"date",options:e.currentDateOptions,editable:!1,placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"enterprise.establishDate")}},model:{value:e.formModel.establishDate,callback:function(t){e.$set(e.formModel,"establishDate",t)},expression:"formModel.establishDate"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"企业规模",prop:"enterpriseScale"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"enterprise.enterpriseScale")}},model:{value:e.formModel.enterpriseScale,callback:function(t){e.$set(e.formModel,"enterpriseScale",t)},expression:"formModel.enterpriseScale"}},e._l(e.dp.firmScale,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"证书是否长期",prop:"isLongCertificate"}},[r("RadioGroup",{on:{"on-change":function(t){e.handleChange(t,"enterprise.isLongCertificate")}},model:{value:e.formModel.isLongCertificate,callback:function(t){e.$set(e.formModel,"isLongCertificate",t)},expression:"formModel.isLongCertificate"}},e._l(e.dp.whether,function(t,n){return r("Radio",{key:t.dictCode,attrs:{label:t.dictCode}},[r("span",[e._v(e._s(t.dictName))])])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"证书到期日期",prop:"certificateExpiryDate",rules:e.certificateExpiryDateRule}},[r("DatePicker",{attrs:{type:"date",editable:!1,placeholder:"请选择",disabled:"1"==e.formModel.isLongCertificate},on:{"on-change":function(t){e.handleChange(t,"enterprise.certificateExpiryDate")}},model:{value:e.formModel.certificateExpiryDate,callback:function(t){e.$set(e.formModel,"certificateExpiryDate",t)},expression:"formModel.certificateExpiryDate"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"机构状态",prop:"organizationStatus"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"enterprise.organizationStatus")}},model:{value:e.formModel.organizationStatus,callback:function(t){e.$set(e.formModel,"organizationStatus",t)},expression:"formModel.organizationStatus"}},e._l(e.dp.orgStatus,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"注册资本币种",prop:"registeredCapitalCurrency"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"enterprise.registeredCapitalCurrency")}},model:{value:e.formModel.registeredCapitalCurrency,callback:function(t){e.$set(e.formModel,"registeredCapitalCurrency",t)},expression:"formModel.registeredCapitalCurrency"}},e._l(e.dp.currency,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"注册资本(万)",prop:"registeredCapital"}},[r("InputNumber",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.registeredCapital"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.registeredCapital,callback:function(t){e.$set(e.formModel,"registeredCapital",t)},expression:"formModel.registeredCapital"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"经济类型",prop:"economicType"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"enterprise.economicType")}},model:{value:e.formModel.economicType,callback:function(t){e.$set(e.formModel,"economicType",t)},expression:"formModel.economicType"}},e._l(e.dp.economicType,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"经济行业大类",prop:"economicIndustryLargeClass"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"enterprise.economicIndustryLargeClass")}},model:{value:e.formModel.economicIndustryLargeClass,callback:function(t){e.$set(e.formModel,"economicIndustryLargeClass",t)},expression:"formModel.economicIndustryLargeClass"}},e._l(e.dp.industryLageClass,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"经济行业小类",prop:"economicIndustrySmallClass"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择",disabled:!e.formModel.economicIndustryLargeClass},on:{"on-change":function(t){e.handleChange(t,"enterprise.economicIndustrySmallClass")}},model:{value:e.formModel.economicIndustrySmallClass,callback:function(t){e.$set(e.formModel,"economicIndustrySmallClass",t)},expression:"formModel.economicIndustrySmallClass"}},e._l(e.dp.industrySmallClass,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"企业注册地省市区"}},[r("region-picker",{ref:"regionRef1",attrs:{type:"3",regionlabel:"企业注册地"},on:{"on-change":function(t){return e.changeRegion("enterpriseRegistration","enterprise.enterpriseRegistration_Region")}},model:{value:e.formModel.enterpriseRegistration_Region,callback:function(t){e.$set(e.formModel,"enterpriseRegistration_Region",t)},expression:"formModel.enterpriseRegistration_Region"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"企业注册地详细地址",prop:"enterpriseRegistrationAddress"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.enterpriseRegistrationAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseRegistrationAddress,callback:function(t){e.$set(e.formModel,"enterpriseRegistrationAddress",t)},expression:"formModel.enterpriseRegistrationAddress"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"企业经营地省市区"}},[r("region-picker",{ref:"regionRef2",attrs:{type:"3",regionlabel:"企业经营地"},on:{"on-change":function(t){return e.changeRegion("enterpriseManagement","enterprise.enterpriseManagement_Region")}},model:{value:e.formModel.enterpriseManagement_Region,callback:function(t){e.$set(e.formModel,"enterpriseManagement_Region",t)},expression:"formModel.enterpriseManagement_Region"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"企业经营地详细地址",prop:"enterpriseManagementAddress"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.enterpriseManagementAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseManagementAddress,callback:function(t){e.$set(e.formModel,"enterpriseManagementAddress",t)},expression:"formModel.enterpriseManagementAddress"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:24,md:24}},[r("FormItem",{attrs:{label:"经营（业务）范围",prop:"enterpriseBusinessScope"}},[r("Input",{attrs:{clearable:"",type:"textarea",rows:2,placeholder:"请输入",v:"enterprise.enterpriseBusinessScope"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseBusinessScope,callback:function(t){e.$set(e.formModel,"enterpriseBusinessScope",t)},expression:"formModel.enterpriseBusinessScope"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"法人姓名",prop:"corporationName"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.corporationName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationName,callback:function(t){e.$set(e.formModel,"corporationName",t)},expression:"formModel.corporationName"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"法人证件类型",prop:"corporationCertificateType"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"enterprise.corporationCertificateType")}},model:{value:e.formModel.corporationCertificateType,callback:function(t){e.$set(e.formModel,"corporationCertificateType",t)},expression:"formModel.corporationCertificateType"}},e._l(e.dp.frCertType,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"法人证件号码",prop:"corporationCertificateNo",rules:e.createCertNoRule()}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.corporationCertificateNo"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationCertificateNo,callback:function(t){e.$set(e.formModel,"corporationCertificateNo",t)},expression:"formModel.corporationCertificateNo"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"法人手机号",prop:"corporationPhone"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.corporationPhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationPhone,callback:function(t){e.$set(e.formModel,"corporationPhone",t)},expression:"formModel.corporationPhone"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"法人持股比例(%)",prop:"corporationShareholdingRatio"}},[r("InputNumber",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.corporationShareholdingRatio"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationShareholdingRatio,callback:function(t){e.$set(e.formModel,"corporationShareholdingRatio",t)},expression:"formModel.corporationShareholdingRatio"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"企业联系人电话",prop:"enterpriseContactPhone"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.enterpriseContactPhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseContactPhone,callback:function(t){e.$set(e.formModel,"enterpriseContactPhone",t)},expression:"formModel.enterpriseContactPhone"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};t.a=n},"9hoD":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("nE5A"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("4BGY"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},"Ae+0":function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.marginInfo?r("div",{staticClass:"cm-panel"},[r("h3",{staticClass:"margin-b-14"},[e._v("保证金信息")]),e._v(" "),r("Form",{ref:"marginInfo",attrs:{model:e.marginInfo,rules:e.rules.loanDepositRule,"label-width":120}},[r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"保证金金额",prop:"marginAmount",rules:e.createMarginAmountRule()}},[r("InputNumber",{attrs:{placeholder1:e.isFixedRatio?"计算后带出":e.isEditable?"请输入":"",placeholder:e.marginAmountDisabled?"计算后带出":"请输入",clearable:e.isEditable,disabled:e.marginAmountDisabled,disabled1:!e.isEditable,v:"marginInfo.marginAmount"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.marginInfo.marginAmount,callback:function(t){e.$set(e.marginInfo,"marginAmount",t)},expression:"marginInfo.marginAmount"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"保证金(%)",prop:"marginProportion",rules:e.createMarginRatioRule()}},[r("InputNumber",{attrs:{placeholder1:e.isFixedAmount?"计算后带出":e.isEditable?"请输入":"",placeholder:e.marginPctDisabled?"计算后带出":"请输入",clearable:e.isEditable,disabled:e.marginPctDisabled,disabled1:!e.isEditable,v:"marginInfo.marginProportion"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.marginInfo.marginProportion,callback:function(t){e.$set(e.marginInfo,"marginProportion",t)},expression:"marginInfo.marginProportion"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"保证金是否冲抵",prop:"marginIsOffset"}},[r("RadioGroup",{attrs:{v:"marginInfo.marginIsOffset"},model:{value:e.marginInfo.marginIsOffset,callback:function(t){e.$set(e.marginInfo,"marginIsOffset",t)},expression:"marginInfo.marginIsOffset"}},e._l(e.DICT_marginIsOffset,function(t,n){return r("Radio",{key:t.dictCode,attrs:{label:t.dictCode,disabled:""}},[r("span",[e._v(e._s(t.dictName))])])}),1)],1)],1)],1)],1)],1):e._e()])},staticRenderFns:[]};t.a=n},"Ak+9":function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.baseInfo&&(e.baseInfo.hasFeeDiscount||e.isFeeProd)&&e.feeDiscountInfo?r("div",{staticClass:"cm-panel"},[r("h3",{staticClass:"margin-b-14"},[e._v("手续费信息")]),e._v(" "),r("Form",{ref:"feeDiscountInfo",attrs:{model:e.feeDiscountInfo,"label-width":120}},[r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"手续费金额",prop:"poundageAmount"}},[r("InputNumber",{attrs:{disabled:"",placeholder:"计算后带出"},model:{value:e.feeDiscountInfo.poundageAmount,callback:function(t){e.$set(e.feeDiscountInfo,"poundageAmount",t)},expression:"feeDiscountInfo.poundageAmount"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"手续费收取方式",prop:"poundageMode"}},[r("RadioGroup",{on:{"on-change":function(t){return e.handleChange(1111,"feeDiscountInfo.customDiscountType")}},model:{value:e.feeDiscountInfo.poundageMode,callback:function(t){e.$set(e.feeDiscountInfo,"poundageMode",t)},expression:"feeDiscountInfo.poundageMode"}},e._l(e.dp.ChargeDeductMethodEnum,function(t){return r("Radio",{key:t.dictCode,attrs:{disabled:"",label:t.dictCode}},[r("span",[e._v(e._s(t.dictName))])])}),1)],1)],1)],1),e._v(" "),e.discountInfo&&e.discountInfo.hasFeeRule?r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"是否贴手续费",prop:"isDiscount"}},[r("RadioGroup",{on:{"on-change":function(t){return e.handleChange(1111,"feeDiscountInfo.isDiscount")}},model:{value:e.feeDiscountInfo.isDiscount,callback:function(t){e.$set(e.feeDiscountInfo,"isDiscount",t)},expression:"feeDiscountInfo.isDiscount"}},e._l(e.dp.whether,function(t){return r("Radio",{key:t.dictCode,attrs:{label:t.dictCode,disabled:e.allDisabled}},[r("span",[e._v(e._s(t.dictName))])])}),1)],1)],1),e._v(" "),e.isFeeDiscount&&e.isFeeDealerDiscount?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"经销商贴手续费金额",prop:"dealerDiscountAmount",rules:e.ruleNum("经销商贴手续费金额",!this.isFeeDealerDiscount)}},[r("InputNumber",{attrs:{clearable:e.isFeeDealerDiscount,disabled:e.allDisabled||!e.isFeeDealerDiscount,placeholder:e.isFeeDealerDiscount?"请输入":"不贴手续费"},on:{"on-blur":function(t){return e.handleChange(t,"feeDiscountInfo.dealerDiscountAmount")},"on-clear":function(t){return e.handleChange(t,"feeDiscountInfo.dealerDiscountAmount")}},model:{value:e.feeDiscountInfo.dealerDiscountAmount,callback:function(t){e.$set(e.feeDiscountInfo,"dealerDiscountAmount",t)},expression:"feeDiscountInfo.dealerDiscountAmount"}})],1)],1):e._e(),e._v(" "),e.isFeeDiscount&&e.isFeeManufacturerDiscount?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"厂商贴手续费类型",prop:"manufacturerDiscountAmount"}},[r("Select",{attrs:{type:"text",disabled:"3"!=e.feeDiscountMode||!e.isFeeManufacturerDiscount},on:{"on-change":function(t){e.handleChange(t,"feeDiscountInfo.customDiscountType","feeDiscountInfo")}},model:{value:e.feeType,callback:function(t){e.feeType=t},expression:"feeType"}},e._l(e.typeSelect,function(t,n){return r("Option",{key:t,attrs:{value:t}},[e._v("\n                                "+e._s(n)+"\n                            ")])}),1)],1)],1):e._e(),e._v(" "),e.isFeeDiscount&&e.isFeeManufacturerDiscount?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{ref:"feeAmount",attrs:{label:"厂商贴手续费金额",prop:"manufacturerDiscountAmount",rules:"051400000"===e.feeType?e.ruleNum("厂商贴手续费金额","3"!=this.feeDiscountMode):[]}},[r("InputNumber",{attrs:{clearable:"3"==e.feeDiscountMode,disabled:"3"!=e.feeDiscountMode||!e.isFeeManufacturerDiscount||"051400000"!==e.feeType,placeholder:"051400000"!==e.feeType?"计算后带出":e.feePlaceholder},on:{"on-blur":function(t){return e.handleChange(t,"feeDiscountInfo.manufacturerDiscountAmount")},"on-clear":function(t){return e.handleChange(t,"feeDiscountInfo.manufacturerDiscountAmount")}},model:{value:e.feeDiscountInfo.manufacturerDiscountAmount,callback:function(t){e.$set(e.feeDiscountInfo,"manufacturerDiscountAmount",t)},expression:"feeDiscountInfo.manufacturerDiscountAmount"}})],1)],1):e._e(),e._v(" "),e.isFeeDiscount&&e.isFeeManufacturerDiscount?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{ref:"feePer",attrs:{label:"厂商手续费比例(%)",prop:"ratioValue",rules:"051400001"===e.feeType?e.rulePer("厂商手续费比例",this.feeDiscountMode):[]}},[r("InputNumber",{attrs:{clearable:"3"==e.rateDiscountMode,disabled:"3"!=e.feeDiscountMode||!e.isFeeManufacturerDiscount||"051400001"!==e.feeType,placeholder:"051400001"!==e.feeType?"计算后带出":e.feePlaceholder},on:{"on-blur":function(t){return e.handleChange(t,"feeDiscountInfo.ratioValue")},"on-clear":function(t){return e.handleChange(t,"feeDiscountInfo.ratioValue")}},model:{value:e.feeDiscountInfo.ratioValue,callback:function(t){e.$set(e.feeDiscountInfo,"ratioValue",t)},expression:"feeDiscountInfo.ratioValue"}})],1)],1):e._e(),e._v(" "),e.isFeeDiscount?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"贴手续费总金额"}},[r("InputNumber",{attrs:{disabled:"",placeholder:"计算后带出"},model:{value:e.feeDiscountInfo.discountTotalAmount,callback:function(t){e.$set(e.feeDiscountInfo,"discountTotalAmount",t)},expression:"feeDiscountInfo.discountTotalAmount"}})],1)],1):e._e()],1):e._e()],1)],1):e._e(),e._v(" "),e.baseInfo&&e.baseInfo.hasRateDiscount&&e.discountInfo&&e.discountInfo.hasRateRule&&e.rateDiscountInfo?r("div",{staticClass:"cm-panel"},[r("h3",{staticClass:"margin-b-14"},[e._v("贴息信息")]),e._v(" "),r("Form",{ref:"rateDiscountInfo",attrs:{model:e.rateDiscountInfo,rules:e.rules.loanTiexiRule,"label-width":120}},[r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"是否贴息",prop:"isDiscount"}},[r("RadioGroup",{on:{"on-change":function(t){return e.handleChange(111,"rateDiscountInfo.isDiscount")}},model:{value:e.rateDiscountInfo.isDiscount,callback:function(t){e.$set(e.rateDiscountInfo,"isDiscount",t)},expression:"rateDiscountInfo.isDiscount"}},e._l(e.dp.whether,function(t){return r("Radio",{key:t.dictCode,attrs:{label:t.dictCode,disabled:e.allDisabled}},[r("span",[e._v(e._s(t.dictName))])])}),1)],1)],1),e._v(" "),e.isRateDiscount&&e.isRateDealerDiscount?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"经销商贴息金额",prop:"dealerDiscountAmount",rules:e.ruleNum("经销商贴息金额",!this.isRateDealerDiscount)}},[r("InputNumber",{attrs:{clearable:e.isRateDealerDiscount,disabled:e.allDisabled||!e.isRateDealerDiscount,placeholder:e.isRateDealerDiscount?"请输入":"不贴息"},on:{"on-blur":function(t){return e.handleChange(t,"rateDiscountInfo.dealerDiscountAmount")},"on-clear":function(t){return e.handleChange(t,"rateDiscountInfo.dealerDiscountAmount")}},model:{value:e.rateDiscountInfo.dealerDiscountAmount,callback:function(t){e.$set(e.rateDiscountInfo,"dealerDiscountAmount",t)},expression:"rateDiscountInfo.dealerDiscountAmount"}})],1)],1):e._e(),e._v(" "),e.isRateDiscount&&e.isRateManufacturerDiscount?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"厂商贴息类型"}},[r("Select",{attrs:{type:"text",disabled:"3"!=e.rateDiscountMode||!e.isRateManufacturerDiscount},on:{"on-change":function(t){e.handleChange(t,"rateDiscountInfo.customDiscountType","rateDiscountInfo")}},model:{value:e.discountType,callback:function(t){e.discountType=t},expression:"discountType"}},e._l(e.typeSelect,function(t,n){return r("Option",{key:t,attrs:{value:t}},[e._v("\n                                "+e._s(n)+"\n                            ")])}),1)],1)],1):e._e(),e._v(" "),e.isRateDiscount&&e.isRateManufacturerDiscount?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{ref:"rateAmount",attrs:{label:"厂商贴息金额",prop:"manufacturerDiscountAmount",rules:"051400000"!==e.discountType?[]:e.ruleNum("厂商贴息金额","3"!=this.rateDiscountMode)}},[r("InputNumber",{attrs:{clearable:"3"==e.rateDiscountMode,disabled:"3"!=e.rateDiscountMode||!e.isRateManufacturerDiscount||"051400000"!==e.discountType,placeholder:"051400000"!==e.discountType?"计算后带出":e.ratePlaceholder},on:{"on-blur":function(t){return e.handleChange(t,"rateDiscountInfo.manufacturerDiscountAmount")},"on-clear":function(t){return e.handleChange(t,"rateDiscountInfo.manufacturerDiscountAmount")}},model:{value:e.rateDiscountInfo.manufacturerDiscountAmount,callback:function(t){e.$set(e.rateDiscountInfo,"manufacturerDiscountAmount",t)},expression:"rateDiscountInfo.manufacturerDiscountAmount"}})],1)],1):e._e(),e._v(" "),e.isRateDiscount&&e.isRateManufacturerDiscount?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{ref:"ratePer",attrs:{label:"厂商贴息比例(%)",prop:"ratioValue",rules:"051400001"!==e.discountType?[]:e.rulePer("厂商贴息比例",this.rateDiscountMode)}},[r("InputNumber",{attrs:{clearable:"3"==e.rateDiscountMode,disabled:"3"!=e.rateDiscountMode||!e.isRateManufacturerDiscount||"051400001"!==e.discountType,placeholder:"051400001"!==e.discountType?"计算后带出":e.ratePlaceholder},on:{"on-blur":function(t){return e.handleChange(t,"rateDiscountInfo.ratioValue")},"on-clear":function(t){return e.handleChange(t,"rateDiscountInfo.ratioValue")}},model:{value:e.rateDiscountInfo.ratioValue,callback:function(t){e.$set(e.rateDiscountInfo,"ratioValue",t)},expression:"rateDiscountInfo.ratioValue"}})],1)],1):e._e(),e._v(" "),e.isRateDiscount?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"贴息总金额"}},[r("InputNumber",{attrs:{disabled:"",placeholder:"计算后带出"},model:{value:e.rateDiscountInfo.discountTotalAmount,callback:function(t){e.$set(e.rateDiscountInfo,"discountTotalAmount",t)},expression:"rateDiscountInfo.discountTotalAmount"}})],1)],1):e._e()],1)],1)],1):e._e()])},staticRenderFns:[]};t.a=n},BbAS:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("rVsN")),a=s(r("b8UR")),o=s(r("VfUO")),i=(r("VSB1"),r("ZgZx"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"discountInfo",mixins:[o.default],data:function(){return{isFeeProd:!1,isFeeDealerDiscount:0,isFeeManufacturerDiscount:0,isRateDealerDiscount:0,isRateManufacturerDiscount:0,allDisabled:!0,typeSelect:{"金额":"051400000","比例":"051400001"},discountType:"051400000",feeType:"051400001"}},computed:{isFeeDiscount:function(){return!!this.baseInfo&&!!this.feeDiscountInfo&&1==this.feeDiscountInfo.isDiscount},isRateDiscount:function(){return!!this.baseInfo&&!!this.rateDiscountInfo&&1==this.rateDiscountInfo.isDiscount},feeDiscountMode:function(){return this.feeDiscountInfo&&this.feeDiscountInfo.discountMode?this.getDiscountMethod(this.feeDiscountInfo.discountMode):""},rateDiscountMode:function(){return this.rateDiscountInfo&&this.rateDiscountInfo.discountMode?this.getDiscountMethod(this.rateDiscountInfo.discountMode):""},feePlaceholder:function(){var e=this.feeDiscountMode;return"2"==e?"试算后带出":"1"==e?"":"3"==e?"请输入":""},ratePlaceholder:function(){var e=this.rateDiscountMode;return"2"==e?"试算后带出":"1"==e?"":"3"==e?"请输入":""}},mounted:function(){this.queryDictData(["whether","ChargeDeductMethodEnum"]),this.isFeeProd=1==this.baseInfo.isShowPoundage,(this.isFeeProd||1==this.baseInfo.hasFeeDiscount||1==this.baseInfo.hasRateDiscount)&&this.financePeriodYear>0?this.reloadDiscountInfo():this.allDisabled=!0},methods:{getDiscountMethod:function(e){return{"051400000":"1","051400001":"2","051400002":"3"}[e]},reloadDiscountInfo:function(e){var t=this;this.showLoading();var r=polarisserver+"/finance/query/financeDiscountInfo",n=this.baseInfo,o=this.orderData.orderinfo,i={orderNo:this.$route.params.orderNo,productCode:o.productCode,version:o.productVersion,term:n.financePeriod,masterBrandId:o.carMasterBrandId,brandId:o.carBrandId,styleId:o.carStyleId,modelId:o.carModelId,isShowPoundage:this.baseInfo.isShowPoundage};this.$http.post(r,i).then(function(r){t.hideLoading();var n=r.data;if(!n.success||!n.data)return t.errorModal(n.errorMessage||"贴息和贴手续费请求失败");var o=n.data;t.discountInfo=a.default.transToForm("discountInfo",o),t.feeDiscountInfo=t.discountInfo.feeDiscountInfo,t.rateDiscountInfo=t.discountInfo.rateDiscountInfo,t.rateDiscountInfo&&(t.discountType="051400002"!==t.rateDiscountInfo.discountMode?t.rateDiscountInfo.discountMode:t.rateDiscountInfo.customDiscountType||"051400000"),t.feeDiscountInfo&&(t.feeType="051400002"!==t.feeDiscountInfo.discountMode?t.feeDiscountInfo.discountMode:t.feeDiscountInfo.customDiscountType||"051400000"),t.feeDiscountInfo&&(t.isFeeDealerDiscount=1==t.feeDiscountInfo.isDealerDiscount,t.isFeeManufacturerDiscount=1==t.feeDiscountInfo.isManufacturerDiscount),t.rateDiscountInfo&&(t.isRateDealerDiscount=1==t.rateDiscountInfo.isDealerDiscount,t.isRateManufacturerDiscount=1==t.rateDiscountInfo.isManufacturerDiscount),t.setLoanData({name:"discountInfo",data:t.discountInfo}),t.allDisabled=!1,t.$nextTick(function(){e&&t.cacheData("discountInfo"),t.todoRecount()})}).catch(function(e){t.hideLoading(),t.errorCatchModal("贴息和贴手续费请求出错：",e),t.allDisabled=!0})},ruleNum:function(e,t){return t?[]:[(0,i.amountValidator)(e,!1)]},rulePer:function(e,t){return"3"!=t?[]:[(0,i.amountValidator)(e,!1,100,0)]},handleChange:function(e,t,r){var n=this;if(r){var a=t.split(".");this[a[0]][a[1]]=e,"feeDiscountInfo"===r?(this.$refs.feeAmount.resetField(),this.$refs.feePer.resetField()):(this.$refs.rateAmount.resetField(),this.$refs.ratePer.resetField()),this[r].manufacturerDiscountAmount=null,this[r].ratioValue=null}if(!this.checkFieldIsChange("discountInfo."+t))return!1;this.$nextTick(function(){n.cacheData("discountInfo"),n.todoRecount()})},validate:function(e){var t=this,r=[];["feeDiscountInfo","rateDiscountInfo"].forEach(function(e){t.$refs[e]&&r.push(t.$refs[e].validate())}),n.default.all(r).then(function(t){var r=_.every(t);e&&e(r)})}}}},E3G1:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=p(r("rVsN")),a=p(r("lC5x")),o=p(r("J0Oq")),i=p(r("4YfN")),s=r("R4Sj"),l=p(r("wmTk")),c=p(r("LTZd")),u=p(r("9hoD")),d=p(r("7OS/")),f=r("VSB1");function p(e){return e&&e.__esModule?e:{default:e}}t.default={name:"orderEdit",components:{applySteps:l.default,applyLoanModule:c.default,applyClientModule:u.default},data:function(){return{orderNo:this.$route.params.orderNo,account:this.$store.state.app.userInfo.userAccount,userName:this.$store.state.app.userInfo.userName,orderStep:0,isQy:f.yx.isQy(this.$route.params.customerType),loaded:!1,loadCustModule:!1,loadLoanModule:!1,loadAttachModule:!1,mcloudSrc:"",showSubmitConfirmModal:!1,activeStep:0,custType:"1",showRepayModal:!1,handleContactorEditIndex:void 0,handleBondsmanEditIndex:void 0,zfResultArrived:!1,zfTimer:void 0,tableData:{repayTbl:{showModal:!1},zifang:{title:"资方准入结果",showModal:!1,loading:!1,total:0,data:[],columns:[{title:"序号",width:70,align:"left",render:function(e,t){return t.index+1}},{title:"资方名称",key:"name"},{title:"准入结果",key:"result",render:function(e,t){return 1==t.row.result?e("span",{class:"color-primary"},"通过"):t.row.errors?e("div",t.row.errors.map(function(t){return e("div",{},t.index+"、"+t.rule)})):void 0}}]}},loading:!1,exportLoading:!1,pager:{total:0,Opts:[10,20,50,100,200]},dateGroup:[],saveT:void 0,tempSaving:!1,tabBarFixed:!1,zfPassNum:0,zfRefuseNum:0,zfResultList:[],detailInfo:{},remark:"",submitZfError:!1,confirmLoading:!1,tempModelShow:!1,tempIcbc:"不做工行"}},computed:(0,i.default)({},(0,s.mapState)("apply",["orderData","orderTabs"]),{saveDisabled:function(){var e=this.activeStep||0;return 2!=e&&!(this.orderTabs[e].total>0&&this.orderTabs[e].total===this.orderTabs[e].count)},orderinfo:function(){return this.orderData.orderinfo||{}},canToModify:function(){return"1"==this.orderinfo.productModifyStatus||"1"==this.orderinfo.carModifyStatus||"2"==this.orderinfo.carModifyStatus},progressStyle:function(){var e=this;return function(t,r){return{width:e.getProgressPct(t,r)+"%","background-color":"success"==e.getProgressClass(t,r)?"#1FA269":"wrong"==e.getProgressClass(t,r)?"#F5222D":"#999999"}}},progressTextColor:function(){var e=this;return function(t,r){return{color:"success"==e.getProgressClass(t,r)?"#1FA269":"wrong"==e.getProgressClass(t,r)?"#F5222D":"#999999"}}}}),mounted:function(){document.title="进件提报",this.queryInit(),window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.saveT&&clearInterval(window.saveT),d.default.$off("VENUS_PIECE_DISCOVER"),sessionStorage.removeItem("cust"),sessionStorage.removeItem("loan")},methods:(0,i.default)({},(0,s.mapMutations)("apply",["setOrderInfo","setOrderModuleError","setOrderCustTabSaved","setOrderLoanTabSaved"]),(0,s.mapMutations)("app",["showLoading","hideLoading","showZfLoading","hideZfLoading"]),{errorModal:function(e,t,r){var n="";e.split(";").forEach(function(e){e&&(n+=n?"；<br>"+e:e)});var a={title:"提示",okText:r||"确 定",content:n};t&&(a.onOk=t),this.$Modal.error(a)},getProgressClass:function(e,t){var r=e.count>0;return e.hasError?"wrong":r?"success":"normal"},getProgressPct:function(e,t){return 100*e.count/e.total},handleScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,t=document.querySelector("#tabBar").offsetTop;this.tabBarFixed=e>t},queryInit:function(){var e=this;return(0,o.default)(a.default.mark(function t(){var r,n,o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e,t.next=3,e.queryOrderStatusInfo();case 3:return(r=t.sent).orderNo=e.orderNo,n=["level11","level12","level13","level14"].indexOf(r.orderSubStage),e.orderStep=n>-1?n+1:1,e.setOrderInfo(r),e.loadCustModule=!0,e.loadLoanModule=!0,e.loaded=!0,t.next=14,e.queryOrderSaveStatus();case 14:o=t.sent,e.setOrderCustTabSaved(1===o.apply),e.setOrderLoanTabSaved(1===o.finance);case 17:case"end":return t.stop()}},t,e)}))()},queryOrderStatusInfo:function(){var e=this;return(0,o.default)(a.default.mark(function t(){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=polarisserver+"/credit/getOrderModifyDetail/"+e.account+"/"+e.orderNo,e.showLoading(),t.abrupt("return",new n.default(function(t,n){e.$http.get(r).then(function(r){e.hideLoading();var n=r.data;return n.success?n.data?void t(n.data):e.errorModal("没有该订单状态信息"):e.errorModal(n.errorMessage||"订单状态请求失败")}).catch(function(t){e.hideLoading(),e.errorCatchModal("订单状态请求出错：",t)})}));case 3:case"end":return t.stop()}},t,e)}))()},queryOrderSaveStatus:function(){var e=this;return(0,o.default)(a.default.mark(function t(){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=polarisserver+"/order/module/save/status/"+e.orderNo,e.showLoading(),t.abrupt("return",new n.default(function(t,n){e.$http.get(r).then(function(r){e.hideLoading();var n=r.data;return n.success?n.data?void t(n.data):e.errorModal("没有该订单保存状态信息"):e.errorModal(n.errorMessage||"订单保存状态请求失败")}).catch(function(t){e.hideLoading(),e.errorCatchModal("订单保存状态请求出错：",t)})}));case 3:case"end":return t.stop()}},t,e)}))()},queryMcoudSrc:function(){var e=this;this.showLoading();var t={orderId:this.orderNo,viewCode:"yixin_xiaofei_tibao_polaris",orderUserId:this.account,orderUserName:this.userName};this.$http.post(baseserver+"/annexStorage/annexcloudview",t).then(function(t){e.hideLoading();var r=t.data;if(!r.success)return e.errorModal(r.errorMessage||"云盘页面地址请求失败");e.mcloudSrc=r.data.visitURL}).catch(function(t){e.hideLoading(),e.errorCatchModal("云盘页面地址请求出错：",t)})},queryAttachValidate:function(){var e=this;return(0,o.default)(a.default.mark(function t(){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=baseserver+"/cloudStorage/annexordervalidate",e.showLoading(),t.abrupt("return",new n.default(function(t,n){e.$http.post(r,{orderId:e.orderNo}).then(function(r){e.hideLoading();var n=r.data;if(!n.success||!n.data)return e.errorModal(n.errorMessage||"附件上传状态请求失败");var a=n.data.items;if(n.data.orderValidate)t(!0);else if(a){var o="<h4>必传附件未上传：</h4>";for(var i in a)o+=a[i]+"；<br>";e.errorModal(o),t(!1)}else e.errorModal("附件不完整但是未返回未上传的附件列表")}).catch(function(t){e.hideLoading(),e.errorCatchModal("附件上传状态请求出错：",t)})}));case 3:case"end":return t.stop()}},t,e)}))()},saveApplyDataFn:function(){var e=this;return(0,o.default)(a.default.mark(function t(){var r,n,o,i,s;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.activeStep){t.next=8;break}return r=e.$refs.applyClientModule,t.next=4,r.toSave();case 4:return n=t.sent,t.abrupt("return",n);case 8:if(1!==e.activeStep){t.next=16;break}return o=e.$refs.applyLoanModule,t.next=12,o.toSave();case 12:return i=t.sent,t.abrupt("return",i);case 16:if(2!==e.activeStep){t.next=21;break}return t.next=19,e.queryAttachValidate();case 19:return s=t.sent,t.abrupt("return",s);case 21:case"end":return t.stop()}},t,e)}))()},queryZfFailRule:function(){var e=this;this.showLoading();var t=polarisserver+"/venus/failRule";this.$http.post(t,{orderNo:this.orderNo}).then(function(t){e.hideLoading();var r=t.data;if(!r.success||!r.data)return e.errorModal(r.errorMessage||"未匹配资方信息请求失败");e.openZfResultModal(r.data.matchResultDetailList,!0)}).catch(function(t){e.hideLoading(),e.errorCatchModal("未匹配资方信息请求出错：",t)})},tempChooseIcbc:function(){this.tempModelShow=!1,this.submitApply()},tempHasIcbc:function(){var e=this;this.showLoading(),this.tempIcbc="不做工行",this.$http.post(polarisserver+"/order/exist/icbc",{orderNo:this.orderNo}).then(function(t){e.hideLoading();var r=t.data;r.data&&r.success?e.tempModelShow=!0:e.submitApply()}).catch(function(t){e.hideLoading(),e.errorCatchModal("工行验证请求出错：",t)})},submitApply:function(){var e=this;return(0,o.default)(a.default.mark(function t(){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.showLoading(),e.remark="",r="不做工行"===e.tempIcbc?0:1,e.$http.post(polarisserver+"/order/confirm",{orderNo:e.orderNo,priorityIcbc:r}).then(function(t){e.hideLoading();var r=t.data;if("AA0018"==r.errorCode&&r.data)e.openZfResultModal(r.data,!0);else{if(!r.success)return e.errorModal(r.errorMessage||"订单信息确认请求失败");e.showSubmitConfirmModal=!0,e.detailInfo=r.data}}).catch(function(t){e.hideLoading(),e.errorCatchModal("订单信息确认请求出错：",t)});case 4:case"end":return t.stop()}},t,e)}))()},orderConfirmSave:function(){var e=this;this.confirmLoading=!0,this.showSubmitConfirmModal=!1,this.showLoading();var t={orderNo:this.orderNo,remark:this.remark,saveFrom:"PC"};this.$http.post(polarisserver+"/order/submit",t).then(function(t){e.hideLoading(),e.confirmLoading=!1;var r=t.data;if("AA0018"!=r.errorCode||!r.data)return r.success?void e.$Modal.success({title:"提 示",content:"提交成功!",onOk:function(){e.$router.replace({name:"orderList"})}}):e.errorModal(r.errorMessage||"订单提交请求失败");e.openZfResultModal(r.data,!0)}).catch(function(t){e.hideLoading(),e.confirmLoading=!1,e.errorCatchModal("订单提交请求出错：",t)})},go:function(e,t){this.$router.push({name:e,params:t})},handleReset:function(e){var t=this.tableData[e].formName;this.$refs[t].resetFields()},getFullData:function(){var e=this.$refs.applyLoanModule,t=this.$refs.applyClientModule,r=e.getSaveData(),n=t.getSaveData();return{isApp:!1,account:this.account,orderNo:this.orderNo,personal:n.personal,enterprise:n.enterprise,contactInfoList:n.contactInfoList,relationship:n.relative,personalGuarantor:n.personalGuarantor,enterpriseGuarantor:n.enterpriseGuarantor,financeBaseInfoDTO:r.financeBaseInfo,financeItemInfoDTO:r.financeItemInfo,financeDiscountInfoDTO:r.financeDiscountInfo,financeMarginInfoDTO:r.financeMarginInfo,financeCalculationInfoDTO:r.financeCalculationInfo}},clearZfResult:function(){this.zfPassNum=0,this.zfRefuseNum=0,this.zfResultList=[],this.zfResultArrived=!1},openZfResultModal:function(e,t){e=e||[],this.zfResultList.splice(0),this.tableData.zifang.showModal=!0,this.submitZfError=t;var r=[],n=[];e.forEach(function(e){var t="";e.successFlag?t="通过":e.matchFailRecordList&&e.matchFailRecordList.length>0?e.matchFailRecordList.forEach(function(e){t+=e.ruleMessage+"<br/>"}):t="未获取失败规则",e.content=t.replace(/undefined/g,"").replace(/<br\/>$/g,""),e.successFlag?r.push(e):n.push(e)}),this.zfPassNum=r.length,this.zfRefuseNum=n.length,this.zfResultList=r.concat(n),this.zfResultArrived=!0},acceptMessage:function(e){if(e&&"VENUS_PIECE_DISCOVER"==e.messageType&&e.extendValue&&e.extendValue.applyNo==this.orderNo){d.default.$off("VENUS_PIECE_DISCOVER"),this.hideZfLoading();var t=e.extendValue.messageBody.adaptCapitalList;this.openZfResultModal(t)}},openCapitalAdmission:function(){var e=this;this.clearZfResult();var t=this.getFullData();this.showZfLoading(),Socklink.link(function(r){if(!r)return e.hideZfLoading(),e.errorModal("资方准入连接请求失败，请重试！");d.default.$off("VENUS_PIECE_DISCOVER"),d.default.$on("VENUS_PIECE_DISCOVER",function(t){e.acceptMessage(t)}),e.$http.post(polarisserver+"/venus/discover",t).then(function(t){var r=t.data;if(!r.success)return d.default.$off("VENUS_PIECE_DISCOVER"),e.hideZfLoading(),e.errorModal(r.errorMessage||"资方准入请求失败，请稍候再试");var n=setTimeout(function(){e.zfResultArrived||(e.hideZfLoading(),e.errorModal("资方准入请求超时，请稍候再试")),clearTimeout(n)},2e4)}).catch(function(t){d.default.$off("VENUS_PIECE_DISCOVER"),e.hideZfLoading(),e.errorCatchModal("资方准入请求出错：",t)})})},changeProduct:function(){var e=this;this.$Modal.confirm({title:"提醒",content:"是否确认修改产品车型信息？",okText:"去修改",cancelText:"放弃修改",onOk:function(){e.$router.push({name:"orderPreaudit",params:{customerType:e.$route.params.customerType},query:{change:"1",orderNo:e.orderinfo.orderNo}})}})},jump:function(t){if(!this.orderData.orderinfo)return!1;if(this.activeStep=t,e("#tabBar")[0]){var r=e("#tabBar").prev(),n=r.prev(),a=r.outerHeight(!0)+n.outerHeight(!0)+10,o=e("#tabBar").outerHeight(),i=document.documentElement.scrollTop||document.body.scrollTop,s=this.tabBarFixed?a-o:i;(0,f.scrollTo)(document,s,300)}1===t&&(this.loadLoanModule=!0),2!==t||this.mcloudSrc||this.queryMcoudSrc()}})}}).call(t,r("L7Pj"))},Jkb2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("N1c+"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("sgIi"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},Jwfh:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("4YfN")),a=r("R4Sj"),o=s(r("JyLo")),i=r("VSB1");function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ocrButton",mixins:[],props:{itemid:"",ocrtype:{default:"1"}},data:function(){return{inited:!1,hasUpload:!0,thumbnailUrl:"",targetObj:{},orderNo:this.$route.params.orderNo,account:this.$store.state.app.userInfo.userAccount,userName:this.$store.state.app.userInfo.userName,title:"",COS:void 0}},computed:(0,n.default)({},(0,a.mapState)("apply",["ORDER_COS"])),mounted:function(){if(!(this.itemid&&this.ocrtype&&this.account&&this.orderNo&&o.default))return this.$Message.error("必要参数不全，无法上传附件并识别"),!1},methods:(0,n.default)({},(0,a.mapMutations)("app",["showLoading","hideLoading"]),{errorModal:function(e,t,r){var n={title:"提示",okText:r||"确 定",content:e};t&&(n.onOk=t),this.$Modal.error(n)},selectFile:function(){if(!this.ORDER_COS)return this.$Message.error("附件上传参数未获取成功，请稍候再试");this.$refs.uploadInput.value="",this.$refs.uploadInput.click()},changeImage:function(e){var t=this,r=e.target.files;if(r&&r.length){this.$set(this.targetObj,"flag",this.ocrtype);var n=r[0],a="2"==this.ocrType?786432:2359296;i.yx.optim(n,a,function(e){if(e.size>a)return t.errorModal("文件大小超过允许上传的最大值，请重新选择！");t.uploadFiles(e)})}},uploadFiles:function(e){var t=this,r=e.name.lastIndexOf("."),n="";r>0&&(n=e.name.substring(r+1).toLowerCase());var a=this.ORDER_COS.sha256.create(),o=e.name+(new Date).getTime();a.update(o);var i=a.hex()+"."+n;this.showLoading(),this.ORDER_COS.cos.sliceUploadFile({Bucket:this.ORDER_COS.options.Bucket,Region:this.ORDER_COS.options.Region,Key:this.ORDER_COS.options.remotePath+i,Body:e},function(r,a){console.log("err",r),t.hideLoading(),null==r?a&&200==a.statusCode&&(t.$set(t.targetObj,"ext",n),t.$set(t.targetObj,"itemID",t.itemid),t.$set(t.targetObj,"title",t.ORDER_COS.items[t.itemid]),t.$set(t.targetObj,"name",i),t.$set(t.targetObj,"remoteKey",t.ORDER_COS.options.remotePath+i),t.ORDER_COS.saveItemToYun(t.targetObj,function(r){if(!r)return t.errorModal("文件同步云盘失败"),!1;var n=r.items[0];if(n.files&&n.files.length){var a=n.files[0].previewUrl;if(t.$set(t.targetObj,"qcloudUrl",a),a)if("2"==t.ocrtype){var o=new FileReader;o.readAsDataURL(e),o.onload=function(e){t.$set(t.targetObj,"ocrUrl",o.result),t.todoOcr()}}else t.$set(t.targetObj,"ocrUrl",a),t.todoOcr();else t.$set(t.targetObj,"error",!0),t.errorModal("获取上传后图片地址失败")}else t.targetObj.error=!0,t.errorModal("获取上传后文件数据失败")})):t.errorModal("上传文件到腾讯云出错："+r.statusCode+" "+r.error.Message)})},todoOcr:function(){var e=this,t=this.targetObj,r=void 0,n=void 0;"2"==this.ocrtype?(r=polarisserver+"/riskControl/scan",n={type:8,format:t.ext,image:this.targetObj.ocrUrl.split(",")[1],uid:"Polaris",orderid:this.orderNo}):(r=polarisserver+"/credit/scanIdCard",n={sysId:"2",cardType:"0",idcardUrlStr:this.targetObj.ocrUrl}),this.showLoading(),this.$http.post(r,n).then(function(t){e.hideLoading();var r=t.data;if(!r.success)return e.errorModal(r.errorMessage||"识别失败，请重新上传!");var n=r.data;if(!n)return e.errorModal("识别失败，请重新上传!");n.flag=e.ocrtype,e.$emit("on-ocr-result",n)}).catch(function(t){e.hideLoading(),e.errorCatchModal("图片识别请求出错：",t)})}})}},LTZd:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("oVr6"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("pDAh"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},LnNL:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.insuranceInfo?r("div",{staticClass:"cm-panel"},[r("h3",{staticClass:"margin-b-14"},[e._v("保险信息")]),e._v(" "),e.insuranceInfo?r("Form",{ref:"insuranceInfo",attrs:{model:e.insuranceInfo,rules:e.rules.loanInsuranceRule,"label-width":120}},[r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"是否融保险",prop:"isFinanceInsurance"}},[r("RadioGroup",{attrs:{v:"insuranceInfo.isFinanceInsurance"},on:{"on-change":function(t){e.handleChange(t,"insuranceInfo.isFinanceInsurance")}},model:{value:e.insuranceInfo.isFinanceInsurance,callback:function(t){e.$set(e.insuranceInfo,"isFinanceInsurance",t)},expression:"insuranceInfo.isFinanceInsurance"}},e._l(e.DICT_whetherIns,function(t,n){return r("Radio",{key:t.dictCode,attrs:{disabled:"1"==e.insuranceInfo.isRequire,label:t.dictCode}},[r("span",[e._v(e._s(t.dictName))])])}),1)],1)],1),e._v(" "),e.isBuyInsurance?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"保险出单地",prop:"insuranceChannel"}},[r("i-select",{attrs:{type:"text",v:"insuranceInfo.insuranceChannel",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"insuranceInfo.insuranceChannel")}},model:{value:e.insuranceInfo.insuranceChannel,callback:function(t){e.$set(e.insuranceInfo,"insuranceChannel",t)},expression:"insuranceInfo.insuranceChannel"}},e._l(e.dp.billingPlace,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                "+e._s(t.dictName)+"\n                            ")])}),1)],1)],1):e._e(),e._v(" "),e.isBuyInsurance?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"商业险出单方式",prop:"insuranceMode"}},[r("i-select",{attrs:{type:"text",v:"insuranceInfo.insuranceMode",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"insuranceInfo.insuranceMode")}},model:{value:e.insuranceInfo.insuranceMode,callback:function(t){e.$set(e.insuranceInfo,"insuranceMode",t)},expression:"insuranceInfo.insuranceMode"}},e._l(e.dp.insuranceMode,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                "+e._s(t.dictName)+"\n                            ")])}),1)],1)],1):e._e()],1),e._v(" "),e.isBuyInsurance?r("div",{staticClass:"ivu-table-wrapper input-edit-table table-only-horizon-line"},[r("div",{staticClass:"ivu-table"},[r("div",{staticClass:"ivu-table-body"},[r("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[r("tbody",{staticClass:"ivu-table-tbody"},[r("tr",[r("th",{attrs:{width:"180"}},[r("div",{staticClass:"ivu-table-cell"},[r("span",[e._v("融资项")])])]),e._v(" "),r("th",[r("div",{staticClass:"ivu-table-cell"},[r("span",[e._v("保险类型")])])]),e._v(" "),r("th",{attrs:{width:"180"}},[r("div",{staticClass:"ivu-table-cell"},[r("span",[e._v("融资额(元)")])])])]),e._v(" "),e._l(e.insuranceInfo.insuranceItemList,function(t,n){return parseInt(t.period)<=e.financePeriodYear||t.financeCode.length>0?r("tr",{key:n,staticClass:"ivu-table-row"},[r("td",{attrs:{width:"180"}},[r("div",{staticClass:"ivu-table-cell"},[r("span",[e._v(e._s(e.yearName(n))+"保险")])])]),e._v(" "),r("td",[r("div",{staticClass:"ivu-table-cell"},[r("Row",{staticClass:"insurance-drop-row",attrs:{gutter:10}},[r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{prop:"insuranceItemList."+n+".financeCode",rules:e.createClassRule(n)}},[r("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside:click",value:e.insuranceClassClickOutFn,expression:"insuranceClassClickOutFn",arg:"click"}],staticStyle:{position:"relative"}},[r("Poptip",{attrs:{trigger:"hover",placement:"top-start"}},[r("i-select",{staticClass:"ivu-select-visible",staticStyle:{display:"none"},attrs:{multiple:""},model:{value:t.financeCode,callback:function(r){e.$set(t,"financeCode",r)},expression:"obj.financeCode"}}),e._v(" "),r("i-input",{attrs:{type:"text",readonly:"",size:"small",value:e.getInsuranceClassText(t.financeCode,n),placeholder:"请选择"},nativeOn:{click:function(t){return t.stopPropagation(),e.insuranceClassClickFn(n)}}}),e._v(" "),r("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-down ivu-select-arrow",staticStyle:{position:"absolute","z-index":"9"},style:e.showClassDrop===n?{transform:"rotate(180deg)"}:{},on:{click:function(t){return t.stopPropagation(),e.insuranceClassClickFn(n)}}}),e._v(" "),r("div",{staticClass:"insurance-drop-tip",attrs:{slot:"content"},slot:"content"},[e._v("\n                                                                "+e._s(e.getInsuranceClassText(t.financeCode,n)||"未选择")+"\n                                                            ")])],1),e._v(" "),r("insurance-class-drop",{directives:[{name:"show",rawName:"v-show",value:e.showClassDrop===n,expression:"showClassDrop===i"}],attrs:{index:n,itemdata:t},on:{"on-change":e.insuranceClassDropChange,"on-close":e.insuranceClassClickOutFn},nativeOn:{click:function(e){e.stopPropagation()}}})],1)])],1),e._v(" "),e.isHasBusiIns(t,n)?r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{prop:"insuranceItemList."+n+".insuranceKind",rules:e.createKindRule(n)}},[r("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside:click",value:e.insuranceClickOutFn,expression:"insuranceClickOutFn",arg:"click"}],staticStyle:{position:"relative"}},[r("Poptip",{attrs:{trigger:"hover",placement:"top-start"}},[r("i-select",{staticStyle:{display:"none"},attrs:{multiple:""},model:{value:t.insuranceKind,callback:function(r){e.$set(t,"insuranceKind",r)},expression:"obj.insuranceKind"}}),e._v(" "),r("i-input",{attrs:{type:"text",readonly:"",size:"small",value:e.getInsuranceKindText(t.insuranceKind),placeholder:"请选择"},nativeOn:{click:function(t){return t.stopPropagation(),e.insuranceClickFn(n)}}}),e._v(" "),r("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-down ivu-select-arrow",staticStyle:{position:"absolute","z-index":"9"},style:e.showDrop===n?{transform:"rotate(180deg)"}:{},on:{click:function(t){return t.stopPropagation(),e.insuranceClickFn(n)}}}),e._v(" "),r("div",{staticClass:"insurance-drop-tip",attrs:{slot:"content"},slot:"content"},[e._v("\n                                                                "+e._s(e.getInsuranceKindText(t.insuranceKind)||"未选择")+"\n                                                            ")])],1),e._v(" "),r("insurance-drop",{directives:[{name:"show",rawName:"v-show",value:e.showDrop===n,expression:"showDrop===i"}],attrs:{index:n,itemdata:t},on:{"on-change":e.insuranceDropChange,"on-close":e.insuranceClickOutFn},nativeOn:{click:function(e){e.stopPropagation()}}})],1)])],1):e._e()],1)],1)]),e._v(" "),r("td",{attrs:{width:"180"}},[r("div",{staticClass:"ivu-table-cell"},[t.financeCode.length>0?r("Form-item",{directives:[{name:"show",rawName:"v-show",value:""!=t.insuranceType,expression:"obj.insuranceType != ''"}],attrs:{prop:"insuranceItemList."+n+".insuranceAmount",rules:e.createAmountRule(n)}},[r("InputNumber",{attrs:{size:"small",clearable:t.financeCode.length>0&&e.isHasBusiIns(t,n),disabled:t.financeCode.length>0&&!e.isHasBusiIns(t,n),v:"insuranceInfo.insuranceItemList."+n+".insuranceAmount",placeholder:"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:t.insuranceAmount,callback:function(r){e.$set(t,"insuranceAmount",r)},expression:"obj.insuranceAmount"}})],1):e._e()],1)])]):e._e()})],2)])])])]):e._e()],1):e._e()],1):e._e(),e._v(" "),e.gpsInfo?r("div",{staticClass:"cm-panel"},[r("h3",{staticClass:"margin-b-14"},[e._v("GPS信息")]),e._v(" "),r("Form",{ref:"gpsInfo",attrs:{model:e.gpsInfo,rules:e.rules.loanGpsRule,"label-width":120}},[r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"GPS厂商",prop:"gpsSupplier"}},[r("i-select",{attrs:{type:"text",v:"gpsInfo.gpsSupplier",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"gpsInfo.gpsSupplier")}},model:{value:e.gpsInfo.gpsSupplier,callback:function(t){e.$set(e.gpsInfo,"gpsSupplier",t)},expression:"gpsInfo.gpsSupplier"}},e._l(e.gpsFactoryDictList,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                "+e._s(t.dictName)+"\n                            ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[e.isInputPrice(e.gpsInfo.basePriceType)?r("Form-item",{attrs:{label:"GPS基础价金额",prop:"basePrice",rules:e.createGpsBasePriceRule()}},[r("InputNumber",{attrs:{clearable:"",v:"gpsInfo.basePrice",placeholder:e.createItemPlaceholder(e.gpsInfo.basePriceMin,e.gpsInfo.basePriceMax)},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.gpsInfo.basePrice,callback:function(t){e.$set(e.gpsInfo,"basePrice",t)},expression:"gpsInfo.basePrice"}})],1):e._e(),e._v(" "),e.isPickerPrice(e.gpsInfo.basePriceType)?r("Form-item",{attrs:{label:"GPS基础价金额",prop:"basePrice",rules:e.createGpsBasePriceRule()}},[r("i-select",{attrs:{type:"text",v:"gpsInfo.basePrice",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"gpsInfo.basePrice")}},model:{value:e.gpsInfo.basePrice,callback:function(t){e.$set(e.gpsInfo,"basePrice",t)},expression:"gpsInfo.basePrice"}},e._l((e.gpsInfo.basePriceGear||[]).map(function(t){return{name:e.formatAmount(t.value),value:t.value}}),function(t,n){return r("i-option",{key:n,attrs:{value:t.value}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])}),1)],1):e._e()],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[e.isInputPrice(e.gpsInfo.increasePriceType)?r("Form-item",{attrs:{label:"GPS加价金额",prop:"increasePrice",rules:e.createGpsIncreasePriceRule()}},[r("InputNumber",{attrs:{clearable:"",v:"gpsInfo.increasePrice",placeholder:e.createItemPlaceholder(e.gpsInfo.increasePriceMin,e.gpsInfo.increasePriceMax)},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.gpsInfo.increasePrice,callback:function(t){e.$set(e.gpsInfo,"increasePrice",t)},expression:"gpsInfo.increasePrice"}})],1):e._e(),e._v(" "),e.isPickerPrice(e.gpsInfo.increasePriceType)?r("Form-item",{attrs:{label:"GPS加价金额",prop:"increasePrice",rules:e.createGpsIncreasePriceRule()}},[r("i-select",{attrs:{type:"text",v:"gpsInfo.increasePrice",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"gpsInfo.increasePrice")}},model:{value:e.gpsInfo.increasePrice,callback:function(t){e.$set(e.gpsInfo,"increasePrice",t)},expression:"gpsInfo.increasePrice"}},e._l((e.gpsInfo.increasePriceGear||[]).map(function(t){return{name:e.formatAmount(t.value),value:t.value}}),function(t,n){return r("i-option",{key:n,attrs:{value:t.value}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])}),1)],1):e._e()],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"GPS加价放款类型",prop:"increaseFinanceType"}},[r("i-select",{attrs:{type:"text",v:"gpsInfo.increaseFinanceType",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"gpsInfo.increaseFinanceType")}},model:{value:e.gpsInfo.increaseFinanceType,callback:function(t){e.$set(e.gpsInfo,"increaseFinanceType",t)},expression:"gpsInfo.increaseFinanceType"}},e._l(e.DICT_gpsIncreaseFinanceType,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                "+e._s(t.dictName)+"\n                            ")])}),1)],1)],1)],1)],1)],1):e._e(),e._v(" "),e.theftInsuranceInfo?r("div",{staticClass:"cm-panel"},[r("h3",{staticClass:"margin-b-14"},[e._v("盗抢责任险信息")]),e._v(" "),r("Form",{ref:"theftInsuranceInfo",attrs:{model:e.theftInsuranceInfo,rules:e.rules.loanTheftRule||{},"label-width":120}},[r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"是否有盗抢险",prop:"isFinanceInsurance"}},[r("RadioGroup",{attrs:{v:"theftInsuranceInfo.isFinanceInsurance"},on:{"on-change":function(t){e.handleChange(t,"theftInsuranceInfo.isFinanceInsurance")}},model:{value:e.theftInsuranceInfo.isFinanceInsurance,callback:function(t){e.$set(e.theftInsuranceInfo,"isFinanceInsurance",t)},expression:"theftInsuranceInfo.isFinanceInsurance"}},e._l(e.DICT_whetherTheft,function(t,n){return r("Radio",{key:t.dictCode,attrs:{label:t.dictCode,disabled:e.isTheftItemDisabled&&"1"==t.dictCode}},[r("span",[e._v(e._s(t.dictName))])])}),1)],1)],1),e._v(" "),e.isBuyTheftInsurance&&e.isOnline?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"是否赠送",prop:"isGift"}},[r("RadioGroup",{attrs:{v:"theftInsuranceInfo.isGift"},on:{"on-change":function(t){e.handleChange(t,"theftInsuranceInfo.isGift")}},model:{value:e.theftInsuranceInfo.isGift,callback:function(t){e.$set(e.theftInsuranceInfo,"isGift",t)},expression:"theftInsuranceInfo.isGift"}},e._l(e.DICT_isGif,function(t){return r("Radio",{key:t.dictCode,attrs:{label:t.dictCode}},[r("span",[e._v(e._s(t.dictName))])])}),1)],1)],1):e._e()],1),e._v(" "),e.isGift?r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"盗抢责任险加融期限",prop:"increaseFinancePeriod"}},[r("i-select",{attrs:{type:"text",v:"theftInsuranceInfo.increaseFinancePeriod",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"theftInsuranceInfo.increaseFinancePeriod")}},model:{value:e.theftInsuranceInfo.increaseFinancePeriod,callback:function(t){e.$set(e.theftInsuranceInfo,"increaseFinancePeriod",t)},expression:"theftInsuranceInfo.increaseFinancePeriod"}},e._l(e.theftPeriodDict,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                "+e._s(t.dictName)+"\n                            ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"盗抢责任险加价类型",prop:"increasePriceType"}},[r("i-select",{attrs:{type:"text",disabled:!e.theftInsuranceInfo.increaseFinancePeriod,v:"theftInsuranceInfo.increasePriceType",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"theftInsuranceInfo.increasePriceType")}},model:{value:e.theftInsuranceInfo.increasePriceType,callback:function(t){e.$set(e.theftInsuranceInfo,"increasePriceType",t)},expression:"theftInsuranceInfo.increasePriceType"}},e._l(e.DICT_theftIncreaseType,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                "+e._s(t.dictName)+"\n                            ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"盗抢责任险基础价",prop:"basePrice"}},[r("InputNumber",{attrs:{disabled:"",v:"theftInsuranceInfo.basePrice",placeholder:"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.theftInsuranceInfo.basePrice,callback:function(t){e.$set(e.theftInsuranceInfo,"basePrice",t)},expression:"theftInsuranceInfo.basePrice"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"盗抢责任险加价",prop:"increasePrice",rules:e.createTheftIncreasePriceRule}},[r("InputNumber",{attrs:{clearable:!!e.theftInsuranceInfo.increaseFinancePeriod,disabled:!e.theftInsuranceInfo.increaseFinancePeriod,v:"theftInsuranceInfo.increasePrice",placeholder:"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.theftInsuranceInfo.increasePrice,callback:function(t){e.$set(e.theftInsuranceInfo,"increasePrice",t)},expression:"theftInsuranceInfo.increasePrice"}})],1)],1)],1):e._e()],1)],1):e._e(),e._v(" "),e.otherFinanceInfo&&e.otherFinanceInfo.length?r("div",{staticClass:"cm-panel"},[r("h3",{staticClass:"margin-b-14"},[e._v("其他融资项")]),e._v(" "),r("Form",{ref:"otherFinanceInfo",attrs:{model:e.itemInfo,"label-width":120}},[r("Row",e._l(e.itemInfo.otherFinanceInfo,function(t,n){return e.isDisabledItem(t)||e.isGpsIncreaseBasePriceCode(t.financeCode)&&e.isGpsIncreaseItemDisabled||e.isGpsIncreaseIncreasePriceCode(t.financeCode)&&e.isGpsIncreaseItemDisabled?e._e():r("i-col",{key:n,attrs:{xs:24,sm:12,md:8,lg:6}},[e.isInputPrice(t.financeType)?r("Form-item",{attrs:{label:e.toUpper(t.financeName),prop:"otherFinanceInfo."+n+".financePrice",rules:e.createRule(t)}},[r("InputNumber",{attrs:{clearable:"",v:"otherFinanceInfo."+n+".financePrice",disabled:e.gpsIncreaseIncreasePriceDisabled&&e.isGpsIncreaseIncreasePriceCode(t.financeCode),placeholder:e.createItemPlaceholder(t.financePriceMin,t.financePriceMax)},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:t.financePrice,callback:function(r){e.$set(t,"financePrice",r)},expression:"obj.financePrice"}})],1):e._e(),e._v(" "),e.isPickerPrice(t.financeType)?r("Form-item",{attrs:{label:e.toUpper(t.financeName),prop:"otherFinanceInfo."+n+".financePrice",rules:e.createRule(t)}},[r("i-select",{attrs:{v:"otherFinanceInfo."+n+".financePrice",disabled:e.gpsIncreaseIncreasePriceDisabled&&e.isGpsIncreaseIncreasePriceCode(t.financeCode),placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"otherFinanceInfo."+n+".financePrice")}},model:{value:t.financePrice,callback:function(r){e.$set(t,"financePrice",r)},expression:"obj.financePrice"}},e._l((t.financeGear||[]).map(function(t){return{name:e.formatAmount(t.value),value:t.value}}),function(t,n){return r("i-option",{key:t.value,attrs:{value:t.value}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])}),1)],1):e._e(),e._v(" "),e.isRatioPrice(t.financeType)?r("Form-item",{attrs:{label:e.toUpper(t.financeName),prop:"otherFinanceInfo."+n+".financePrice"}},[r("InputNumber",{attrs:{disabled:"",placeholder:""===t.financePrice||"null"===t.financePrice?"计算后带出":""},model:{value:t.financePrice,callback:function(r){e.$set(t,"financePrice",r)},expression:"obj.financePrice"}})],1):e._e()],1)}),1)],1)],1):e._e()])},staticRenderFns:[]};t.a=n},M5ii:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("qAG1"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("SBJd"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},MJFL:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"insurance-drop-panel"},[r("div",{staticClass:"insurance-drop-header",on:{click:e.handleCheckAll}},[r("Checkbox",{attrs:{indeterminate:e.indeterminate,value:e.checkAll}}),e._v(" "),r("span",{staticClass:"insurance-drop-alltext"},[e._v("全选")])],1),e._v(" "),r("CheckboxGroup",{staticStyle:{height:"128px",overflow:"auto"},on:{"on-change":e.checkAllGroupChange},model:{value:e.checkAllGroup,callback:function(t){e.checkAllGroup=t},expression:"checkAllGroup"}},e._l(e.classDict,function(t,n){return r("label",{key:n,staticClass:"ivu-select-item",staticStyle:{display:"block"}},[r("Checkbox",{attrs:{label:t.dictCode,disabled:t.disabled}},[e._v(e._s(t.dictName))])],1)}),0)],1)},staticRenderFns:[]};t.a=n},"N1c+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r("rVsN")),a=i(r("Vr9E")),o=i(r("c71f"));function i(e){return e&&e.__esModule?e:{default:e}}t.default={name:"orderPersonalForm",mixins:[a.default],props:{},components:{},data:function(){return{personalRule:o.default.personalRule}},computed:{formModel:function(){return this.orderData.cust.personal}},created:function(){},mounted:function(){var e=this;this.queryDictData(["certType","sex","marriage","education","degree","hasEstate","livingStatus","industry","profession","position","title","firmNature"]),this.$nextTick(function(){e.todoRecount()})},methods:{validate:function(e){var t=this,r=!0,a=[];["formModel","regionRef1","regionRef2","regionRef3"].forEach(function(e){a.push(new n.default(function(r){t.$refs[e]?t.$refs[e].validate(function(e){r(e)}):r(!0)}))}),n.default.all(a).then(function(t){r=_.every(t),e&&e(r)})},handleBlur:function(e){var t=this,r=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v");if(!this.checkFieldIsChange(r))return!1;this.$nextTick(function(){t.cacheData("personal"),t.todoRecount()})},handleChange:function(e,t,r){var n=this;if(!this.checkFieldIsChange(t)&&!r)return!1;this.$nextTick(function(){n.cacheData("personal"),n.todoRecount()})},changeRegion:function(e,t){this.setChangeRegion({module:"personal",field:e}),this.handleChange(e,t,!0)}},watch:{}}},OoiP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("qyku"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("ldIv"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},PQaK:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"margin-tb-10 margin-lr-20 layout-content",staticStyle:{"padding-bottom":"60px"}},[r("div",{staticClass:"margin-b-10"},[r("apply-steps",{attrs:{"active-step":e.orderStep,"first-text":e.isQy?"创建订单":"预审"}})],1),e._v(" "),r("div",{staticClass:"cm-panel"},[r("div",{staticClass:"order-info-row flex-top"},[r("ul",{staticClass:"padding-r-20",staticStyle:{flex:"1"}},[r("li",[r("span",{staticClass:"order-info-label"},[e._v("订单号：")]),r("span",{staticClass:"order-info-value"},[e._v(e._s(e.orderinfo.orderNo))])]),e._v(" "),!e.isQy||e.isQy&&e.orderinfo.customerName?r("li",[r("span",{staticClass:"order-info-label"},[e._v(e._s(e.isQy?"企业名称":"个人")+"：")]),r("span",{staticClass:"order-info-value"},[e._v(e._s(e.orderinfo.customerName))])]):e._e(),e._v(" "),e.isQy?e._e():r("li",[r("span",{staticClass:"order-info-label"},[e._v("手机号码：")]),r("span",{staticClass:"order-info-value"},[e._v(e._s(e.orderinfo.customerPhone))])]),e._v(" "),r("li",[r("span",{staticClass:"order-info-label"},[e._v("产品方案：")]),r("span",{staticClass:"order-info-value"},[e._v(e._s(e.orderinfo.productName))])]),e._v(" "),r("li",[r("span",{staticClass:"order-info-label"},[e._v("主体：")]),r("span",{staticClass:"order-info-value"},[e._v(e._s(e.orderinfo.mainSubjectDesc))])]),e._v(" "),r("li",[r("span",{staticClass:"order-info-label"},[e._v("渠道：")]),r("span",{staticClass:"order-info-value"},[e._v(e._s(e.orderinfo.dealerName))])]),e._v(" "),r("li",[r("span",{staticClass:"order-info-label"},[e._v("意向车型：")]),r("span",{staticClass:"order-info-value"},[e._v(e._s(e.orderinfo.fullCarStyleText))])])]),e._v(" "),e.loaded&&e.canToModify?r("div",{staticClass:"order-right-btnbox"},[r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.changeProduct}},[e._v("修改产品/车型")])],1):e._e()])]),e._v(" "),r("div",{class:e.tabBarFixed?"fixed-tab-bar":"",attrs:{id:"tabBar"}},[r("div",{staticClass:"cm-panel"},[r("div",{staticClass:"flex-box"},[r("div",{staticClass:"flex-box"},e._l(e.orderTabs,function(t,n){return r("div",{key:n,staticClass:"applytab-bar-cell",class:e.activeStep===n?"active":"",on:{click:function(t){return e.jump(n)}}},[r("div",{staticClass:"applytab-bar-cell-title"},[e._v(e._s(t.title))]),e._v(" "),n<2?r("div",{staticClass:"ivu-progress ivu-progress-show-info"},[r("div",{staticClass:"ivu-progress-outer"},[r("div",{staticClass:"ivu-progress-inner"},[r("div",{staticClass:"ivu-progress-bg",class:"order-progress-"+e.getProgressClass(t,n),staticStyle:{height:"10px"},attrs:{style1:e.progressStyle(t,n)}})])]),e._v(" "),r("span",{staticClass:"ivu-progress-text",style:e.progressTextColor(t,n)},[e._v(e._s(t.count)+"/"+e._s(t.total)+"                        ")])]):e._e()])}),0),e._v(" "),e.loaded?r("div",{staticClass:"text-right font0",staticStyle:{flex:"1"}},[r("Button",{attrs:{"custom-icon":"iconfont icon-back"},on:{click:function(t){return e.$router.back()}}},[e._v("返回\n                    ")]),e._v(" "),r("Button",{attrs:{type:"primary","custom-icon":"iconfont icon-save"},on:{click:e.saveApplyDataFn}},[e._v("保存\n                    ")]),e._v(" "),r("Button",{attrs:{type:"primary","custom-icon":"iconfont icon-submit",disabled:!(e.orderTabs[0].hasSaved&&e.orderTabs[1].hasSaved)},on:{click:e.tempHasIcbc}},[e._v("提交\n                    ")]),e._v(" "),e.isQy?e._e():r("Button",{attrs:{type:"primary","custom-icon":"iconfont icon-compass"},on:{click:e.openCapitalAdmission}},[e._v("资方准入检测\n                    ")])],1):e._e()])])]),e._v(" "),r("div",[e.loadCustModule&&e.orderData.orderinfo?r("apply-client-module",{directives:[{name:"show",rawName:"v-show",value:!e.activeStep,expression:"!activeStep"}],ref:"applyClientModule"}):e._e(),e._v(" "),e.loadLoanModule&&e.orderData.orderinfo?r("apply-loan-module",{directives:[{name:"show",rawName:"v-show",value:1==e.activeStep,expression:"activeStep==1"}],ref:"applyLoanModule"}):e._e(),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:2===e.activeStep,expression:"activeStep===2"}],staticClass:"cm-panel"},[r("h3",[e._v("附件信息")]),e._v(" "),r("iframe",{ref:"mobsf",staticStyle:{width:"100%",height:"500px"},attrs:{src:e.mcloudSrc,scrolling:"no",frameborder:"0"},on:{load:function(t){return e.hideLoading()}}})])],1),e._v(" "),r("Modal",{attrs:{title:"资方准入结果","footer-hide":"",width:"500"},model:{value:e.tableData.zifang.showModal,callback:function(t){e.$set(e.tableData.zifang,"showModal",t)},expression:"tableData.zifang.showModal"}},[e.submitZfError?r("Alert",{staticClass:"margin-b-10",staticStyle:{"margin-top":"-10px"},attrs:{type:"error","show-icon":""}},[e._v("\n            当前订单未匹配到资方，请修改后再次准入。\n        ")]):r("div",{staticStyle:{"margin-top":"-10px"}},[r("div",{staticClass:"color3"},[e._v("根据当前填写的信息，您的订单状态如下：")]),e._v(" "),r("div",{staticClass:"zficon-tip"},[r("span",{staticClass:"zficon-tip-success zf-primary"},[r("span",{staticClass:"iconfont icon-zfsuccess"}),e._v(" "),r("span",[e._v("资方匹配通过")])]),e._v(" "),r("span",{staticClass:"zficon-tip-fail zf-error"},[r("span",{staticClass:"iconfont icon-zferror"}),e._v(" "),r("span",[e._v("资方匹配未通过")])])])]),e._v(" "),r("div",{staticClass:"zfresult-tip"},[e._v("\n            匹配通过 "),r("span",{staticClass:"zf-primary"},[e._v(e._s(e.zfPassNum))]),e._v(" 家，未通过 "),r("span",{staticClass:"zf-error"},[e._v(e._s(e.zfRefuseNum))]),e._v(" 家\n        ")]),e._v(" "),r("div",{staticStyle:{"max-height":"300px",overflow:"auto"}},[r("ul",{staticClass:"zfresult-list"},e._l(e.zfResultList,function(t){return r("li",[r("span",[e._v(e._s(t.capitalName))]),e._v(" "),r("span",{domProps:{innerHTML:e._s(t.content)}}),e._v(" "),r("span",{staticClass:"iconfont",class:t.successFlag?"zf-primary icon-zfsuccess":"zf-error icon-zferror"})])}),0)])],1),e._v(" "),r("Modal",{attrs:{"mask-closable":!1,title:"订单信息确认",width:"600","footer-hide":""},model:{value:e.showSubmitConfirmModal,callback:function(t){e.showSubmitConfirmModal=t},expression:"showSubmitConfirmModal"}},[r("div",{staticClass:"label120",staticStyle:{"font-size":"12px","margin-top":"-10px"}},[r("Alert",{directives:[{name:"show",rawName:"v-show",value:!(!this.detailInfo||"1"!=this.detailInfo.hasPersonaGuarantor),expression:"this.detailInfo&&this.detailInfo.hasPersonaGuarantor=='1'?true:false"}],attrs:{"show-icon":""}},[e._v("\n                您的订单有担保人，授权短信将发送至担保人手机，请提醒担保人及时征信授权～\n            ")]),e._v(" "),r("div",{staticClass:"info-title-header"},[r("span",{staticClass:"info-title-title"},[e._v("提交备注(选填)")])]),e._v(" "),r("Row",[r("i-col",{attrs:{span:"24"}},[r("Input",{staticClass:"remark",attrs:{maxlength:300,type:"textarea",rows:4,placeholder:"请输入(字数不超过300字)"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)],1),e._v(" "),r("div",{staticClass:"info-title-header margin-t-10"},[r("span",{staticClass:"info-title-title"},[e._v("客户信息")])]),e._v(" "),r("Row",[r("i-col",{attrs:{span:"12"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v("订单编号：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.orderNo:""))])])]),e._v(" "),r("i-col",{attrs:{span:"12"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v(e._s(e.isQy?"企业名称":"客户姓名")+"：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.applyName:""))])])]),e._v(" "),r("i-col",{attrs:{span:"12"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v(e._s(e.isQy?"统一社会信用代码":"身份证号码")+"：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.certificateNo:""))])])]),e._v(" "),r("i-col",{attrs:{span:"12"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v("产品名称：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.productName:""))])])]),e._v(" "),r("i-col",{attrs:{span:"24"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v("车型：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.carStyleName:""))])])])],1),e._v(" "),e.isQy?e._e():r("div",{staticClass:"info-title-header margin-t-10"},[r("span",{staticClass:"info-title-title"},[e._v("资方准入信息")])]),e._v(" "),e.isQy?e._e():r("Row",[r("i-col",{attrs:{span:"24"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v("资方名称：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.fundName:""))])])])],1),e._v(" "),r("div",{staticClass:"info-title-header margin-t-10"},[r("span",{staticClass:"info-title-title"},[e._v("贷款信息")])]),e._v(" "),r("Row",[r("i-col",{attrs:{span:"12"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v("实际销售价(元)：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.actualSellingPrice:""))])])]),e._v(" "),r("i-col",{attrs:{span:"12"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v("客户融资额(元)：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.custFinanceAmount:""))])])]),e._v(" "),r("i-col",{attrs:{span:"12"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v("融资期限(期)：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.financePeriod:""))])])]),e._v(" "),r("i-col",{attrs:{span:"12"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v("首付金额(元)：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.downPaymentAmount:""))])])]),e._v(" "),r("i-col",{attrs:{span:"12"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v("首付比例(%)：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.downPaymentProportion:""))])])]),e._v(" "),r("i-col",{attrs:{span:"12"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v("尾付金额(元)：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.finalPaymentAmount:""))])])]),e._v(" "),r("i-col",{attrs:{span:"12"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v("尾付比例(%)：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.finalPaymentProportion:""))])])]),e._v(" "),r("i-col",{attrs:{span:"12"}},[r("div",{staticClass:"formview-cell"},[r("span",{staticClass:"formview-label"},[e._v("月供(元)：")]),e._v(" "),r("span",{staticClass:"formview-value"},[e._v(e._s(this.detailInfo?this.detailInfo.monthlyAmount:""))])])])],1),e._v(" "),r("div",{staticClass:"text-right margin-t-20"},[r("i-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.orderConfirmSave}},[e._v("确认提交")])],1)],1)]),e._v(" "),r("Modal",{attrs:{"mask-closable":!1,"footer-hide":"",title:"预选准入银行确认",width:"416"},model:{value:e.tempModelShow,callback:function(t){e.tempModelShow=t},expression:"tempModelShow"}},[r("Row",[r("RadioGroup",{attrs:{size:"small"},model:{value:e.tempIcbc,callback:function(t){e.tempIcbc=t},expression:"tempIcbc"}},[r("i-col",{attrs:{span:"11",push:"4"}},[r("Radio",{attrs:{label:"工行优先"}})],1),e._v(" "),r("i-col",{attrs:{span:"11",push:"16"}},[r("Radio",{attrs:{label:"不做工行"}})],1)],1)],1),e._v(" "),r("Row",[r("br")]),e._v(" "),r("Row",[r("i-col",{attrs:{push:"14"}},[r("Button",{attrs:{type:"default"},on:{click:function(t){e.tempModelShow=!1}}},[e._v("取消")]),e._v(" "),r("Button",{attrs:{type:"primary"},on:{click:e.tempChooseIcbc}},[e._v("确定")])],1)],1)],1),e._v(" "),r("div",{staticClass:"simple-breadcrumb col-xs-11"},[r("router-link",{attrs:{to:"/order/list"}},[e._v("进件管理")]),e._v(" "),r("Icon",{attrs:{type:"ios-arrow-forward"}}),e._v(" "),r("span",[e._v("进件提报")])],1)],1)},staticRenderFns:[]};t.a=n},RE4Y:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("6ss7"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("eI4p"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},SBJd:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",{staticClass:"margin-b-14"},[e._v("亲属信息\n        "),r("ocr-button",{attrs:{itemid:"consortIDPositive",ocrtype:"1"},on:{"on-ocr-result":e.setOcrRes}},[e._v("上传身份证部分免填写\n        ")])],1),e._v(" "),r("Form",{ref:"formModel",attrs:{model:e.formModel,rules:e.relativeRule,"label-width":120}},[r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"与申请人关系",prop:"relativeType"}},[r("i-select",{attrs:{placeholder:"请选择",disabled:e.shipDisabled},on:{"on-change":function(t){e.handleChange(t,"relative.relativeType")}},model:{value:e.formModel.relativeType,callback:function(t){e.$set(e.formModel,"relativeType",t)},expression:"formModel.relativeType"}},e._l(e.DICT_relativeship,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"姓名",prop:"relativeName"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"relative.relativeName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.relativeName,callback:function(t){e.$set(e.formModel,"relativeName",t)},expression:"formModel.relativeName"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"证件类型",prop:"relativeCertificateType"}},[r("i-select",{attrs:{placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"relative.relativeCertificateType")}},model:{value:e.formModel.relativeCertificateType,callback:function(t){e.$set(e.formModel,"relativeCertificateType",t)},expression:"formModel.relativeCertificateType"}},e._l(e.dp.certType,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"证件号码",prop:"relativeCertificateNo",rules:e.createCertNoRule()}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"relative.relativeCertificateNo"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.relativeCertificateNo,callback:function(t){e.$set(e.formModel,"relativeCertificateNo",t)},expression:"formModel.relativeCertificateNo"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"手机号",prop:"relativePhone"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"relative.relativePhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.relativePhone,callback:function(t){e.$set(e.formModel,"relativePhone",t)},expression:"formModel.relativePhone"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"税后年薪（万元）",prop:"relativeAnnualSalaryAfterTax"}},[r("InputNumber",{attrs:{clearable:"",placeholder:"请输入",v:"relative.relativeAnnualSalaryAfterTax"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.relativeAnnualSalaryAfterTax,callback:function(t){e.$set(e.formModel,"relativeAnnualSalaryAfterTax",t)},expression:"formModel.relativeAnnualSalaryAfterTax"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"单位名称",prop:"relativeCompanyName"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"relative.relativeCompanyName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.relativeCompanyName,callback:function(t){e.$set(e.formModel,"relativeCompanyName",t)},expression:"formModel.relativeCompanyName"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"单位所在地省市区"}},[r("region-picker",{ref:"regionRef1",attrs:{type:"3",regionlabel:"单位所在地"},on:{"on-change":function(t){return e.changeRegion("relativeCompany","relative.relativeCompany_Region")}},model:{value:e.formModel.relativeCompany_Region,callback:function(t){e.$set(e.formModel,"relativeCompany_Region",t)},expression:"formModel.relativeCompany_Region"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"单位详细地址",prop:"relativeCompanyAddress"}},[r("Input",{attrs:{placeholder:"请输入",clearable:"",v:"relative.relativeCompanyAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.relativeCompanyAddress,callback:function(t){e.$set(e.formModel,"relativeCompanyAddress",t)},expression:"formModel.relativeCompanyAddress"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};t.a=n},UzJl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("3drL"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("LnNL"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},VfUO:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=v(r("3cXf")),a=v(r("hRKE")),o=v(r("4YfN")),i=r("R4Sj"),s=v(r("/qSb")),l=v(r("v8v7")),c=v(r("v7Zi")),u=r("AhRK"),d=v(r("b8UR")),f=v(r("uZu1")),p=r("9ITj"),m=r("VSB1"),h=r("ZgZx");function v(e){return e&&e.__esModule?e:{default:e}}t.default={directives:{Clickoutside:p.Clickoutside},components:{regionPicker:s.default,insuranceClassDrop:l.default,insuranceDrop:c.default},data:function(){return{rules:f.default,baseInfo:void 0,itemInfo:void 0,insuranceInfo:void 0,gpsInfo:void 0,theftInsuranceInfo:void 0,otherFinanceInfo:void 0,discountInfo:void 0,feeDiscountInfo:{isDiscount:"0"},rateDiscountInfo:{isDiscount:"0"},marginInfo:void 0,calcInfo:void 0,orderNo:this.$route.params.orderNo,gpsFactoryDictList:[],carEvaluationAgencyDictList:[]}},computed:(0,o.default)({},(0,i.mapState)("apply",["orderData","orderTabs"]),(0,i.mapState)({dp:function(e){return e.dict.dict}}),{loanNextDisabled:function(){return this.orderData.loanNextDisabled},isChedidai:function(){return this.baseInfo&&m.yx.isChedidai(this.baseInfo.businessType)},isSecondhand:function(){return this.baseInfo&&m.yx.isSecondCar(this.baseInfo.carType)},isReverseMortgage:function(){return this.baseInfo&&m.yx.isAntiLoan(this.baseInfo.isReverseMortgage)},financePeriodYear:function(){return m.yx.calcFinanceYear(this.baseInfo)},sellingAmount:function(){var e=this.orderData.loan.baseInfo,t=this.isSecondhand?e.carEstimatedPrice:e.actualSellingPrice;return(0,m.stringToNumber)(t)},nextDisabled:function(){return this.financePeriodYear<=0||""===this.sellingAmount},isBuyInsurance:function(){return this.insuranceInfo&&"1"==this.insuranceInfo.isFinanceInsurance},isBuyTheftInsurance:function(){return this.theftInsuranceInfo&&"1"==this.theftInsuranceInfo.isFinanceInsurance},theftPeriodDict:function(){for(var e=[],t=1,r=this.financePeriodYear;t<=r;t++)e.push({dictName:t+"年",dictCode:""+t});return e}}),methods:(0,o.default)({},(0,i.mapMutations)("app",["showLoading","hideLoading"]),(0,i.mapMutations)("apply",["setLoanNextDisabled","setOrderLoanTabSaved","setChangeRegion","setLoanData","setOrderModuleNumber","setOrderModuleError"]),(0,i.mapActions)("dict",["queryDictData"]),{errorModal:function(e,t,r){var n="";e.split(";").forEach(function(e){e&&(n+=n?"；<br>"+e:e)});var a={title:"提示",okText:r||"确 定",content:n};t&&(a.onOk=t),this.$Modal.error(a)},updateLoanNextDisabled:function(){if(!this.baseInfo)return!0;var e=(0,u.getBaseField)(d.default.transToSave("baseInfo",this.orderData.loan));this.setLoanNextDisabled(e.total!=e.count)},todoRecount:function(){var t=this;this.updateLoanFieldsNumber(),this.$nextTick(function(){var r=e(".apply-loan-module .ivu-form-item-error").length;t.hasError=r>0,t.setOrderModuleError({index:1,hasError:t.hasError})})},createRule:function(e){var t=[],r=m.yx.isItemRequire(e.isRequire);if(m.yx.isPickerPrice(e.financeType))return t.push({validator:function(t,r,n){m.yx.amountReg.test(r)?n():n(new Error(e.financeName+"不能为空"))},trigger:"change"}),t;if(m.yx.isInputPrice(e.financeType)){var n=m.yx.isEmpty(e.financePriceMin)?0:parseFloat(e.financePriceMin),a=m.yx.isEmpty(e.financePriceMax)?"":parseFloat(e.financePriceMax);return t.push((0,h.amountValidator)(e.financeName,r,a,n)),t}return r&&m.yx.isRatioPrice(e.financeType)?(t.push({required:!0,message:e.financeName+"不能为空",trigger:"change"}),t):void 0},updateLoanFieldsNumber:function(){this.orderData.loan.orderNo=this.orderNo;var e=(0,u.getLoanFieldNum)(this.orderData.loan);this.setOrderModuleNumber({index:1,data:e})},getHandleFieldValue:function(e,t){if("object"==(void 0===e?"undefined":(0,a.default)(e))&&t){var r=t.split("."),n=e;for(var o in r)if("object"==(void 0===n?"undefined":(0,a.default)(n))){var i=r[o];_.isArray(n)&&(i=(0,m.stringToNumber)(i)),n=n[i]}return n}},checkFieldIsChange:function(e){var t=this.orderData.loan,r=JSON.parse(sessionStorage.getItem("loan")||"{}"),o=this.getHandleFieldValue(t,e),i=this.getHandleFieldValue(r,e);return(o="object"==(void 0===o?"undefined":(0,a.default)(o))&&o instanceof Date?new Date(o).format("yyyy-MM-dd"):"object"==(void 0===o?"undefined":(0,a.default)(o))?(0,n.default)(o):""+o)!==(i="object"==(void 0===i?"undefined":(0,a.default)(i))&&i instanceof Date?new Date(i).format("yyyy-MM-dd"):"object"==(void 0===i?"undefined":(0,a.default)(i))?(0,n.default)(i):""+i)},cacheData:function(e,t){var r=this;this.setOrderLoanTabSaved(!1);var a=JSON.parse((0,n.default)(this.orderData.loan||{}));if(a[e]=d.default.transToSave(e,this.orderData.loan),sessionStorage.setItem("loan",(0,n.default)(a)),this.orderData.hasSaved.loan||this.orderData.hasSaved[e])return!1;var o={baseInfo:":finance:baseInfo",itemInfo:":finance:financeItem",discountInfo:":finance:discount",marginInfo:":finance:margin",calcInfo:":finance:calculation"},i=this.orderNo+o[e];this.orderData.loan.orderNo=this.orderNo;var s=d.default.transToSave(e,this.orderData.loan);s&&(s.orderNo=this.orderNo,"calcInfo"==e&&(s.actualSellingPrice=this.sellingAmount));var l={key:i,value:s?(0,n.default)(s):""};if("baseInfo"==e){var c=[l];if("baseInfo.financePeriod"==t){var u=d.default.transToSave("itemInfo",this.orderData.loan);c.push({key:this.orderNo+o.itemInfo,value:u?(0,n.default)(u):""})}if("baseInfo.actualSellingPrice"==t||"baseInfo.carEstimatedPrice"==t){var f=d.default.transToSave("marginInfo",this.orderData.loan);c.push({key:this.orderNo+o.marginInfo,value:f?(0,n.default)(f):""});var p=d.default.transToSave("calcInfo",this.orderData.loan);c.push({key:this.orderNo+o.calcInfo,value:p?(0,n.default)(p):""})}this.$http.post(polarisserver+"/cache/insertMultiCache",c).then(function(e){}).catch(function(e){r.errorCatchModal("缓存请求出错",e)})}else"itemInfo"!=e&&"marginInfo"!=e&&"discountInfo"!=e&&"calcInfo"!=e||this.$http.post(polarisserver+"/cache/insertCache",l).then(function(e){}).catch(function(e){r.errorCatchModal("缓存请求出错",e)})},getSaveData:function(){this.orderData.loan.orderNo=this.orderNo;var e=d.default.transToSave("baseInfo",this.orderData.loan),t=d.default.transToSave("itemInfo",this.orderData.loan),r=d.default.transToSave("discountInfo",this.orderData.loan),n=d.default.transToSave("marginInfo",this.orderData.loan),a=d.default.transToSave("calcInfo",this.orderData.loan);a.actualSellingPrice=this.sellingAmount;var o=this.orderData.hasSaved.loan;return{orderNo:this.orderNo,hasSaved:o,financeBaseInfo:e,financeItemInfo:t,financeDiscountInfo:r,financeMarginInfo:n,financeCalculationInfo:a}},queryGpsFactoryDictList:function(){var e=this,t=this.orderData.orderinfo.dealerCode,r=baseserver+"/dictionary/queryList/GP:"+t;this.showLoading(),this.$http.get(r).then(function(t){e.hideLoading();var r=t.data;return r.success?(e.gpsFactoryDictList=r.data||[],e.gpsFactoryDictList.length?void 0:e.errorModal("查询GPS厂商无数据")):e.errorModal(r.errorMessage||"查询GPS厂商失败")}).catch(function(t){e.hideLoading(),e.errorCatchModal("查询GPS厂商出错",t)})},queryEvalAgencyDictList:function(){var e=this,t=this.orderData.orderinfo.dealerCode,r=baseserver+"/dictionary/queryList/CE:"+t;this.$http.get(r).then(function(t){var r=t.data;return r.success?(e.carEvaluationAgencyDictList=r.data||[],e.carEvaluationAgencyDictList.length?void 0:e.errorModal("查询二手车评估机构无数据")):e.errorModal("查询二手车评估机构失败")}).catch(function(t){e.errorCatchModal("查询二手车评估机构出错:",t)})},queryInitData:function(e,t){var r=this,n="/"+this.$route.params.orderNo,a=polarisserver+{baseInfo:"/finance/query/baseInfo",itemInfo:"/finance/query/financeItemInfo",marginInfo:"/finance/query/financeMarginInfo",calcInfo:"/finance/query/financeCalculationInfo"}[e]+""+n;this.showLoading(),this.$http.get(a).then(function(n){if(r.hideLoading(),!n.data.success)return r.errorModal(n.data.errorMessage||e+"信息请求失败");var a;switch(e){case"baseInfo":a=n.data.data,r.baseInfo=d.default.transToForm(e,a);break;case"itemInfo":(a=n.data.data)&&(r.itemInfo=d.default.transToForm(e,a),r.insuranceInfo=r.itemInfo.insuranceInfo,r.gpsInfo=r.itemInfo.gpsInfo,r.gpsInfo&&r.queryGpsFactoryDictList(),r.theftInsuranceInfo=r.itemInfo.theftInsuranceInfo,r.otherFinanceInfo=r.itemInfo.otherFinanceInfo);case"marginInfo":a=n.data.data,r.marginInfo=d.default.transToForm(e,a);break;case"calcInfo":a=n.data.data,r.calcInfo=d.default.transToForm(e,a)}r.setLoanData({name:e,data:r[e]}),t&&t(r[e])}).catch(function(t){r.hideLoading(),r.errorCatchModal("贷款"+e+"信息请求出错：",t)})}}),mounted:function(){this.baseInfo=this.orderData.baseInfo}}}).call(t,r("L7Pj"))},Vr9E:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=v(r("lC5x")),a=v(r("J0Oq")),o=v(r("aA9S")),i=v(r("3cXf")),s=v(r("hRKE")),l=v(r("4YfN")),c=r("R4Sj"),u=v(r("/qSb")),d=v(r("hndz")),f=v(r("afUM")),p=r("lU5e"),m=v(r("c71f")),h=r("VSB1");function v(e){return e&&e.__esModule?e:{default:e}}t.default={directives:{},components:{regionPicker:u.default,ocrButton:d.default},data:function(){return{DICT_gcertType:[],rules:m.default,personal:void 0,relative:void 0,contactor:void 0,enterprise:void 0,e_applier:void 0,e_license:void 0,guarantorPersonal:[],guarantorEnterprise:[],errors:[],orderNo:this.$route.params.orderNo,isQy:h.yx.isQy(this.$route.params.customerType),account:this.$store.state.app.userInfo.userAccount,userName:this.$store.state.app.userInfo.userName}},computed:(0,l.default)({},(0,c.mapState)("apply",["orderData","orderTabs","ORDER_COS"]),(0,c.mapState)({dp:function(e){return e.dict.dict}})),mounted:function(){var e=this;this.queryDictData(["certType"]).then(function(t){e.DICT_gcertType=t.certType.filter(function(e){return"1"==e.dictCode})})},methods:(0,l.default)({},(0,c.mapMutations)("apply",["SET_ORDER_COS","setCustData","setOrderCustTabSaved","setChangeRegion","setOrderModuleNumber","setOrderModuleError"]),(0,c.mapMutations)("app",["showLoading","hideLoading"]),(0,c.mapActions)("dict",["queryDictData"]),{errorModal:function(e,t,r){var n="";e.split(";").forEach(function(e){e&&(n+=n?"；<br>"+e:e)});var a={title:"提示",okText:r||"确 定",content:n};t&&(a.onOk=t),this.$Modal.error(a)},todoRecount:function(){var t=this;this.updateClientFieldsNumber(),this.$nextTick(function(){var r=e(".apply-client-module .ivu-form-item-error").length;t.hasError=r>0,t.setOrderModuleError({index:0,hasError:t.hasError})})},updateClientFieldsNumber:function(){var e=(0,p.getCustFieldNum)(this.orderData.cust,this.isQy);this.setOrderModuleNumber({index:0,data:e})},addOrderGuarantorPersonal:function(){this.guarantorPersonal.push(f.default.transSingleGuarantorPersonalToForm())},addOrderGuarantorEnterprise:function(){this.guarantorEnterprise.push(f.default.transSingleGuarantorEnterpriseToForm())},getHandleFieldValue:function(e,t){if("object"==(void 0===e?"undefined":(0,s.default)(e))&&t){var r=t.split("."),n=e;for(var a in r)if("object"==(void 0===n?"undefined":(0,s.default)(n))){var o=r[a];_.isArray(n)&&(o=(0,h.stringToNumber)(o)),n=n[o]}return n}},checkFieldIsChange:function(e){var t=this.orderData.cust,r=JSON.parse(sessionStorage.getItem("cust")||"{}"),n=this.getHandleFieldValue(t,e),a=this.getHandleFieldValue(r,e);return(n="object"==(void 0===n?"undefined":(0,s.default)(n))&&n instanceof Date?new Date(n).format("yyyy-MM-dd"):"object"==(void 0===n?"undefined":(0,s.default)(n))?(0,i.default)(n):""+n)!==(a="object"==(void 0===a?"undefined":(0,s.default)(a))&&a instanceof Date?new Date(a).format("yyyy-MM-dd"):"object"==(void 0===a?"undefined":(0,s.default)(a))?(0,i.default)(a):""+a)},cacheData:function(e){var t=this;this.setOrderCustTabSaved(!1);var r=JSON.parse((0,i.default)(this.orderData.cust||{}));if("enterprise"==e){var n=f.default.transToSave(e,this.orderData.cust)||{};r[e]=(0,o.default)({},n.enterpriseApplier,n.enterpriseLicense)}else r[e]=f.default.transToSave(e,this.orderData.cust);if(sessionStorage.setItem("cust",(0,i.default)(r)),this.orderData.hasSaved.cust||this.orderData.hasSaved[e])return!1;var a={personal:":personal:applier",relative:":personal:immediate",contactor:":customer:contact",enterprise:":enterprise:applier",e_applier:":enterprise:applier",e_license:":enterprise:license",guarantorPersonal:":guarantor:personal",guarantorEnterprise:":guarantor:enterprise"},s=this.orderNo+a[e];if("enterprise"==e){var l=[],c=f.default.transToSave("enterprise",this.orderData.cust);c.enterpriseApplier.orderNo=this.orderNo,c.enterpriseApplier.hasSaved=this.orderData.hasSaved.e_applier,c.enterpriseLicense.orderNo=this.orderNo,c.enterpriseLicense.hasSaved=this.orderData.hasSaved.e_license,l.push({key:this.orderNo+a.e_applier,value:(0,i.default)(c.enterpriseApplier)}),l.push({key:this.orderNo+a.e_license,value:(0,i.default)(c.enterpriseLicense)}),this.$http.post(polarisserver+"/cache/insertMultiCache",l).then(function(e){var r=e.data;if(r.hasErrors)return t.$Message.error(r.errorMessage||"缓存保存失败")}).catch(function(e){t.errorCatchModal("缓存请求出错：",e)})}else{var u=f.default.transToSave(e,this.orderData.cust);_.isArray(u)?u.forEach(function(e){e.orderNo=t.orderNo}):u&&(u.orderNo=this.orderNo),"guarantorPersonal"!=e&&"guarantorEnterprise"!=e||(u=u[0]||"");var d={key:s,value:u?(0,i.default)(u):""};this.$http.post(polarisserver+"/cache/insertCache",d).then(function(e){var r=e.data;if(r.hasErrors)return t.$Message.error(r.errorMessage||"缓存保存失败")}).catch(function(e){t.errorCatchModal("缓存请求出错：",e)})}},queryInitData:function(e,t){var r=this;return(0,a.default)(n.default.mark(function a(){var o,i,s;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o="/"+r.$route.params.orderNo,i={personal:"/customer/personal/query",enterprise:"/customer/enterprise/findBasic",e_applier:"/customer/enterprise/findBasic",e_license:"/customer/enterprise/findLicense",relative:"/customer/relationship/query",contactor:"/customer/contact/query",guarantor:"/customer/guarantor/query"},s=polarisserver+i[e]+""+o,r.showLoading(),r.$http.get(s).then(function(n){if(r.hideLoading(),!n.data.success)return r.errorModal(n.data.errorMessage||"请求失败");var a;switch(e){case"personal":a=n.data.data||{},r.personal=f.default.transToForm(e,a);break;case"relative":a=n.data.data||{},r.relative=f.default.transToForm(e,a);break;case"enterprise":a=n.data.data||{};break;case"contactor":a=n.data.data,r.contactor=f.default.transToForm(e,a);break;case"guarantor":case"guarantorPersonal":case"guarantorEnterprise":var s=n.data.data||{},l=s.guarantorPersonal?f.default.transToForm("guarantorPersonal",[s.guarantorPersonal]):[],c=s.guarantorEnterprise?f.default.transToForm("guarantorEnterprise",[s.guarantorEnterprise]):[];r.guarantorPersonal=l,r.guarantorEnterprise=c}"enterprise"==e?(r.showLoading(),r.$http.get(polarisserver+i.e_license+""+o).then(function(n){if(r.hideLoading(),!n.data.success)return r.errorModal(n.data.errorMessage||"请求失败");var o=n.data.data||{};r.enterprise=f.default.transToForm(e,{basicInfo:a||{},licenseInfo:o||{}}),r.orderData.hasSaved.e_applier=1==a.hasSaved,r.orderData.hasSaved.e_license=1==o.hasSaved,r.setCustData({name:e,data:r[e]}),t&&t(a)}).catch(function(e){r.hideLoading(),r.errorCatchModal("企业执照信息请求出错：",e)})):"personal"==e?(r.setCustData({name:"personal",data:r.personal}),r.queryInitData("relative",t)):"guarantor"==e?(r.setCustData({name:"guarantorPersonal",data:r.guarantorPersonal}),r.setCustData({name:"guarantorEnterprise",data:r.guarantorEnterprise})):(r.setCustData({name:e,data:r[e]}),t&&t(r[e]))}).catch(function(t){r.hideLoading(),r.errorCatchModal("客户"+e+"信息请求出错：",t)});case 5:case"end":return n.stop()}},a,r)}))()}})}}).call(t,r("L7Pj"))},ZbR5:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.contactorArr&&e.contactorArr.length?r("div",{staticClass:"cm-panel"},[r("h3",{staticClass:"margin-b-14"},[e._v("联系人信息")]),e._v(" "),e._l(e.contactorArr,function(t,n){return r("div",{key:n},[r("Form",{ref:"contactor"+n,refInFor:!0,attrs:{model:t,rules:e.contactorRule,"label-width":120}},[r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"与申请人关系",prop:"contactRelationship",rules:e.relationShipRule}},[r("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"contactor."+n+".contactRelationship")}},model:{value:t.contactRelationship,callback:function(r){e.$set(t,"contactRelationship",r)},expression:"item.contactRelationship"}},e._l(e.dp.relationship,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                    "+e._s(t.dictName)+"\n                                ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"姓名",prop:"contactName"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"contactor."+n+".contactName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:t.contactName,callback:function(r){e.$set(t,"contactName",r)},expression:"item.contactName"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"电话",prop:"contactPhone"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"contactor."+n+".contactPhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:t.contactPhone,callback:function(r){e.$set(t,"contactPhone",r)},expression:"item.contactPhone"}})],1)],1)],1)],1)],1)})],2):e._e()])},staticRenderFns:[]};t.a=n},ao0m:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("4YfN"),o=(n=a)&&n.__esModule?n:{default:n},i=r("R4Sj");t.default={name:"insuranceDrop",props:{index:{default:0},itemdata:{}},components:{},data:function(){return{indeterminate:!0,checkAll:!1,checkAllGroup:[],insTypesDict:[]}},computed:(0,o.default)({},(0,i.mapState)("apply",["orderData"]),{obj:function(){return this.itemdata},checkAllGroupText:function(){var e=this,t=[];return this.checkAllGroup.forEach(function(r){var n=e.insTypesDict.find(function(e){return e.dictCode==r});n&&t.push(n.dictName)}),t.join("，")}}),mounted:function(){var e=this;this.queryDictData(["insuranceTypes"]).then(function(t){e.insTypesDict=t.insuranceTypes}),this.checkAllGroup=this.itemdata.insuranceKind,this.checkAllGroupChange(this.checkAllGroup,!0)},methods:(0,o.default)({},(0,i.mapActions)("dict",["queryDictData"]),{checkAllGroupChange:function(e,t){e.length>0&&e.length===this.insTypesDict.length?(this.indeterminate=!1,this.checkAll=!0):e.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1),t||this.change()},handleCheckAll:function(e){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=this.insTypesDict.map(function(e){return e.dictCode}):this.checkAllGroup=[],this.change()},close:function(){this.$emit("on-close")},change:function(){var e=this;this.$nextTick(function(){e.$emit("on-change",{i:e.index,insuranceKind:e.checkAllGroup,insuranceKindText:e.checkAllGroupText})})}})}},c71f:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("ZgZx");t.default={personalRule:{custName:[n.validators.custName("申请人姓名")],custGender:[(0,n.required)("申请人性别")],custPhone:[(0,n.required)("申请人手机"),{validator:n.validators.mobile,trigger:"change"}],custCertificateType:[(0,n.required)("申请人证件类型")],custCertificateNo:[(0,n.required)("申请人证件号码"),{validator:n.validators.certNo,trigger:"change"}],marriage:[(0,n.required)("婚姻状况")],custEducation:[(0,n.required)("申请人学历")],custDegree:[(0,n.required)("申请人学位")],hasEstate:[(0,n.required)("有无房产")],livingStatus:[(0,n.required)("居住情况")],industry:[(0,n.required)("所属行业")],companyNature:[(0,n.required)("企业性质")],companyName:[n.validators.headAndTailNotHasBlank("单位名称",!0),{max:100,message:"单位名称超过100字符",trigger:"change"}],custProfession:[(0,n.required)("申请人职业")],custPosition:[(0,n.required)("申请人职务")],custTitle:[(0,n.required)("申请人职称")],annualSalaryAfterTax:[(0,n.amountValidator)("税后年薪",!0,1e3)],currentResidenceYears:[n.validators.yearsValidator("现居住地年限",!0)],postalCode:[n.validators.zipValidator("现居住地邮编",!0)],company_Region:[n.validators.regionValidator("单位所在",3)],companyProvince:[(0,n.required)("单位所在省份")],companyCity:[(0,n.required)("单位所在城市")],companyDistrict:[(0,n.required)("单位所在区/县")],companyAddress:[n.validators.addressValidator("单位详细地址",!0)],currentResidence_Region:[n.validators.regionValidator("现居地",3)],currentResidenceProvince:[(0,n.required)("现居地省份")],currentResidenceCity:[(0,n.required)("现居地城市")],currentResidenceDistrict:[(0,n.required)("现居住地区/县")],currentResidenceAddress:[n.validators.addressValidator("现居地详细地址",!0)],censusRegister_Region:[n.validators.regionValidator("户籍地",3)],censusRegisterProvince:[(0,n.required)("户籍地省份")],censusRegisterCity:[(0,n.required)("户籍地城市")],censusRegisterDistrict:[(0,n.required)("户籍地区/县")],censusRegisterAddress:[n.validators.addressValidator("户籍地详细地址",!0)]},enterpriseRule:{orderApplicationType:[(0,n.required)("订单申请类型")],unifiedSocialCreditCode:[(0,n.required)("统一社会信用代码"),{validator:n.validators.isCreditCode,trigger:"change"}],enterpriseName:[n.validators.headAndTailNotHasBlank("企业名称",!0),{max:100,message:"公司名称超过100字符",trigger:"change"}],country:[(0,n.required)("国别")],isInstitution:[(0,n.required)("是否事业单位")],registrationType:[(0,n.required)("登记注册号类型")],eigenCode:[],organizationCode:[(0,n.required)("组织机构代码"),{validator:n.validators.checkOrgCodeValid,trigger:"change"}],taxpayerIdentificationNum:[(0,n.required)("纳税人识别号"),{validator:n.validators.checkTaxpayerId,trigger:"change"}],establishDate:[{validator:function(e,t,r){""==t?r(new Error("成立日期不能为空")):"[object Date]"==Object.prototype.toString.call(t)||"string"==typeof t?r():r(new Error("成立日期格式不对"))},trigger:"change"}],isLongCertificate:[(0,n.required)("证书是否长期")],certificateExpiryDate:[],organizationCategory:[(0,n.required)("组织机构类别")],organizationCategoryDetail:[(0,n.required)("组织机构类别细分")],enterpriseScale:[(0,n.required)("企业规模")],registeredCapitalCurrency:[(0,n.required)("注册资本币种")],registeredCapital:[(0,n.amountValidator)("注册资本",!0)],organizationStatus:[(0,n.required)("机构状态")],economicType:[(0,n.required)("经济类型")],economicIndustryLargeClass:[(0,n.required)("经济行业大类")],economicIndustrySmallClass:[(0,n.required)("经济行业小类")],enterpriseBusinessScope:[(0,n.required)("经营（业务）范围"),{max:1e3,message:"填写经营（业务）范围超过1000字符",trigger:"change"}],enterpriseRegistration_Region:[n.validators.regionValidator("企业注册地",3)],enterpriseRegistrationProvince:[(0,n.required)("企业注册地省份")],enterpriseRegistrationCity:[(0,n.required)("企业注册地城市")],enterpriseRegistrationDistrict:[(0,n.required)("企业注册地区/县")],enterpriseRegistrationAddress:[n.validators.addressValidator("企业注册地详细地址",!0)],enterpriseManagement_Region:[n.validators.regionValidator("企业经营地",3)],enterpriseManagementProvince:[(0,n.required)("企业经营地省份")],enterpriseManagementCity:[(0,n.required)("企业经营地城市")],enterpriseManagementDistrict:[(0,n.required)("企业经营地区/县")],enterpriseManagementAddress:[n.validators.addressValidator("企业经营地详细地址",!0)],enterpriseContactPhone:[(0,n.required)("企业联系人电话"),{validator:n.validators.phone,trigger:"change"}],corporationName:[n.validators.custName("法人姓名")],corporationCertificateType:[(0,n.required)("法人证件类型")],corporationCertificateNo:[],corporationPhone:[(0,n.required)("法人手机号"),{validator:n.validators.mobile,trigger:"change"}],corporationShareholdingRatio:[(0,n.pctValidator)("持股比例",!0)]},relativeRule:{relativeType:[(0,n.required)("与申请人关系")],relativeName:[n.validators.custName("姓名")],relativeCertificateType:[(0,n.required)("证件类型")],relativeCertificateNo:[(0,n.required)("证件号码"),{validator:n.validators.certNo,trigger:"change"}],relativePhone:[(0,n.required)("手机号码"),{validator:n.validators.mobile,trigger:"change"}],relativeAnnualSalaryAfterTax:[(0,n.amountValidator)("税后年薪",!0,1e3)],relativeCompanyName:[n.validators.headAndTailNotHasBlank("单位名称",!0),{max:100,message:"单位名称超过100字符",trigger:"change"}],relativeCompany_Region:[n.validators.regionValidator("单位",3)],relativeCompanyProvince:[(0,n.required)("单位所在省份")],relativeCompanyCity:[(0,n.required)("单位所在城市")],relativeCompanyDistrict:[(0,n.required)("单位所在区/县")],relativeCompanyAddress:[n.validators.addressValidator("单位详细地址",!0)]},contactorRule:{contactRelationship:[(0,n.required)("与申请人关系")],contactName:[n.validators.custName("姓名")],contactPhone:[(0,n.required)("电话"),{validator:n.validators.mobile,trigger:"change"}]},guarantorPersonalRule:{guarantorRelationship:[(0,n.required)("与申请人关系")],guarantorName:[n.validators.custName("担保人姓名")],guarantorCredentialType:[(0,n.required)("证件类型")],guarantorIdentityCard:[(0,n.required)("证件号码"),{validator:n.validators.certNo,trigger:"change"}],guarantorPhone:[(0,n.required)("手机号码"),{validator:n.validators.mobile,trigger:"change"}],companyName:[n.validators.headAndTailNotHasBlank("单位名称",!0),{max:100,message:"单位名称超过100字符",trigger:"change"}],companyPhone:[(0,n.required)("单位电话"),{validator:n.validators.phone,trigger:"change"}],company_Region:[n.validators.regionValidator("单位所在",3)],companyProvince:[(0,n.required)("单位所在省份")],companyCity:[(0,n.required)("单位所在城市")],companyDistrict:[(0,n.required)("单位所在区/县")],companyDetailAddress:[n.validators.addressValidator("单位详细地址",!0)],currentResidence_Region:[n.validators.regionValidator("现居住地",3)],currentResidenceProvince:[(0,n.required)("现居住地省份")],currentResidenceCity:[(0,n.required)("现居住地城市")],currentResidenceDistrict:[(0,n.required)("现居住地区/县")],currentResidenceAddress:[n.validators.addressValidator("现居住地详细地址",!0)],censusRegister_Region:[n.validators.regionValidator("户籍地",3)],censusRegisterProvince:[(0,n.required)("户籍地省份")],censusRegisterCity:[(0,n.required)("户籍地城市")],censusRegisterDistrict:[(0,n.required)("户籍地区/县")],censusRegisterAddress:[n.validators.addressValidator("户籍地详细地址",!0)]},guarantorEnterpriseRule:{guarantorRelationship:[(0,n.required)("与申请人关系")],enterpriseName:[n.validators.headAndTailNotHasBlank("企业名称",!0),{max:100,message:"公司名称超过100字符",trigger:"change"}],enterpriseNature:[(0,n.required)("企业性质")],unifiedSocialCreditCode:[(0,n.required)("统一社会信用代码"),{validator:n.validators.isCreditCode,trigger:"change"}],corporationName:[n.validators.custName("法人姓名")],corporationIdentityCard:[(0,n.required)("法人证件号"),{validator:n.validators.certNo,trigger:"change"}],corporationPhone:[(0,n.required)("法人联系电话"),{validator:n.validators.phone,trigger:"change"}],actualControllerName:[n.validators.custName("实际控制人姓名")],actualControllerIdentityCard:[(0,n.required)("实际控制人证件号码"),{validator:n.validators.certNo,trigger:"change"}],actualControllerPhone:[(0,n.required)("实际控制人联系电话"),{validator:n.validators.phone,trigger:"change"}],enterpriseRegistration_Region:[n.validators.regionValidator("企业注册地",3)],enterpriseRegistrationProvince:[(0,n.required)("企业注册地省份")],enterpriseRegistrationCity:[(0,n.required)("企业注册地城市")],enterpriseRegistrationDistrict:[(0,n.required)("企业注册地区/县")],enterpriseRegistrationAddress:[n.validators.addressValidator("企业注册地详细地址",!0)],enterpriseManagement_Region:[n.validators.regionValidator("企业经营地",3)],enterpriseManagementProvince:[(0,n.required)("企业经营地省份")],enterpriseManagementCity:[(0,n.required)("企业经营地城市")],enterpriseManagementDistrict:[(0,n.required)("企业经营地区/县")],enterpriseManagementAddress:[n.validators.addressValidator("企业经营地详细地址",!0)]}}},cQPK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("rVsN")),a=s(r("VfUO")),o=s(r("uZu1")),i=r("VSB1");function s(e){return e&&e.__esModule?e:{default:e}}t.default={mixins:[a.default],name:"orderLoanBasicForm",props:{},components:{},data:function(){return{validateRule:o.default.loanBasicRule,currentDateOptions:{disabledDate:function(e){return e&&e.valueOf()>new Date((new Date).format("yyyy-MM-dd")).getTime()}},nodeFieldDisabledFlag:!1}},computed:{DICTLIST_car_number_prefix:function(){var e=this;return this.dp.car_number_prefix.filter(function(t){return t.parentCode==e.baseInfo.provinceCode})},DICTLIST_carEvaluationAgencyDictList:function(){return this.isChedidai?this.carEvaluationAgencyDictList.filter(function(e){return"0"!==e.dictCode}):this.carEvaluationAgencyDictList}},mounted:function(){var e=this;(this.queryDictData(["whether","purchasePurpose","usageNature","province_shot_name","car_number_prefix"]),this.nodeFieldDisabledFlag="0"===this.orderData.orderinfo.editCarFlag,this.baseInfo&&this.baseInfo.carTypeConfig)&&(this.baseInfo.carTypeConfig.find(function(e){return"049500001"===e.value})&&this.queryEvalAgencyDictList());this.$nextTick(function(){e.updateLoanNextDisabled(),e.todoRecount()})},methods:{createSellPriceRule:function(e){var t=this;return[{validator:function(r,n,a){if(i.yx.isEmpty(n))a(new Error(e+"不能为空"));else if(/^((\d+\d*)|(\d+\d*\.\d{1,2}))$/.test(n)){var o=(0,i.floatMul)((0,i.stringToNumber)(t.baseInfo.carGuidancePrice||0),1.05);0==(0,i.stringToNumber)(n)?a(new Error(e+"必须大于0！")):(0,i.stringToNumber)(n)>o?a(new Error(e+"只能填写0-"+o)):a()}else a(new Error(e+"填写错误"))},trigger:"change"}]},createEstimatedPriceRule:function(e){var t=this;return[{validator:function(r,n,a){if(i.yx.isEmpty(n))a(new Error(e+"不能为空"));else if(/^((\d+\d*)|(\d+\d*\.\d{1,2}))$/.test(n)){var o=(0,i.stringToNumber)(t.baseInfo.carGuidancePrice||0);0==(0,i.stringToNumber)(n)?a(new Error(e+"必须大于0！")):(0,i.stringToNumber)(n)>o?a(new Error(e+"只能填写0-"+o)):a()}else a(new Error(e+"填写错误"))},trigger:"change"}]},createProductionDateRule:function(){var e=this;return[{validator:function(t,r,n){var a=e.baseInfo.productionDate,o=e.baseInfo.initialDate;i.yx.isEmpty(a)?n(new Error("出厂日期不得为空")):a&&o&&new Date(a).getTime()>new Date(o).getTime()?n(new Error("出厂日期不得大于初登日期")):n()},trigger:"change"}]},createInitialDateRule:function(){var e=this;return[{validator:function(t,r,n){var a=e.baseInfo.productionDate,o=e.baseInfo.initialDate;i.yx.isEmpty(o)?n(new Error("初登日期不得为空")):a&&o&&new Date(a).getTime()>new Date(o).getTime()?n(new Error("出厂日期不得大于初登日期")):n()},trigger:"change"}]},handleBlur:function(e){var t=this,r=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v");if(!this.checkFieldIsChange(r))return!1;var n=r.split(".")[1];this.$refs.baseInfo.fields.find(function(e){return e.prop==n});"baseInfo.actualSellingPrice"!=r&&"baseInfo.carEstimatedPrice"!=r||this.$emit("on-sellpricechange"),this.$nextTick(function(){t.updateLoanNextDisabled(),t.cacheData("baseInfo",r),t.todoRecount()})},handleChange:function(e,t,r){var n=this;if(!this.checkFieldIsChange(t)&&!r)return!1;var a=t.split(".")[1];this.$refs.baseInfo.fields.find(function(e){return e.prop==a});"baseInfo.financePeriod"==t&&this.$emit("on-financeperiodchange"),this.$nextTick(function(){"baseInfo.productionDate"==t&&n.baseInfo.initialDate&&n.$refs.baseInfo.validateField("initialDate"),"baseInfo.initialDate"==t&&n.baseInfo.productionDate&&n.$refs.baseInfo.validateField("productionDate"),n.updateLoanNextDisabled(),n.cacheData("baseInfo",t),n.todoRecount()})},changeRegion:function(e,t){this.setChangeRegion({module:"baseInfo",field:e}),this.handleChange(e,t,!0)},validate:function(e){var t=this,r=[];["baseInfo","regionRef1"].forEach(function(e){r.push(new n.default(function(r){t.$refs[e]?t.$refs[e].validate(function(e){r(e)}):r(!0)}))}),n.default.all(r).then(function(t){var r=_.every(t);e&&e(r)})}},watch:{}}},dAAp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fQUs"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("9Ueq"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},dMMi:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.baseInfo?r("div",[r("h3",{staticClass:"margin-b-14"},[e._v("贷款基本信息")]),e._v(" "),e.baseInfo?r("Form",{ref:"baseInfo",attrs:{model:e.baseInfo,rules:e.validateRule,"label-width":120}},[r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"业务类型",prop:"businessType"}},[r("i-select",{attrs:{type:"text",disabled:1==e.baseInfo.businessTypeConfig.length,v:"baseInfo.orderApplicationType",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.orderApplicationType")}},model:{value:e.baseInfo.businessType,callback:function(t){e.$set(e.baseInfo,"businessType",t)},expression:"baseInfo.businessType"}},e._l(e.baseInfo.businessTypeConfig,function(t,n){return r("i-option",{key:t.value,attrs:{value:t.value}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"租赁属性",prop:"leaseType"}},[r("i-select",{attrs:{type:"text",disabled:1==e.baseInfo.leaseTypeConfig.length,v:"baseInfo.leaseType",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.leaseType")}},model:{value:e.baseInfo.leaseType,callback:function(t){e.$set(e.baseInfo,"leaseType",t)},expression:"baseInfo.leaseType"}},e._l(e.baseInfo.leaseTypeConfig,function(t,n){return r("i-option",{key:t.value,attrs:{value:t.value}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"还款方式",prop:"repaymentMode"}},[r("i-select",{attrs:{type:"text",disabled:1==e.baseInfo.repaymentModeConfig.length,v:"baseInfo.repaymentMode",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.repaymentMode")}},model:{value:e.baseInfo.repaymentMode,callback:function(t){e.$set(e.baseInfo,"repaymentMode",t)},expression:"baseInfo.repaymentMode"}},e._l(e.baseInfo.repaymentModeConfig,function(t,n){return r("i-option",{key:t.value,attrs:{value:t.value}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"还款频率",prop:"repaymentFrequency"}},[r("i-select",{attrs:{type:"text",disabled:1==e.baseInfo.repaymentFrequencyConfig.length,v:"baseInfo.repaymentFrequency",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.repaymentFrequency")}},model:{value:e.baseInfo.repaymentFrequency,callback:function(t){e.$set(e.baseInfo,"repaymentFrequency",t)},expression:"baseInfo.repaymentFrequency"}},e._l(e.baseInfo.repaymentFrequencyConfig,function(t,n){return r("i-option",{key:t.value,attrs:{value:t.value}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"融资期限",prop:"financePeriod"}},[r("i-select",{attrs:{type:"text",disabled:1==e.baseInfo.financePeriodConfig.length,v:"baseInfo.financePeriod",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.financePeriod")}},model:{value:e.baseInfo.financePeriod,callback:function(t){e.$set(e.baseInfo,"financePeriod",t)},expression:"baseInfo.financePeriod"}},e._l(e.baseInfo.financePeriodConfig,function(t,n){return r("i-option",{key:t.value,attrs:{value:t.value}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"是否资源车",prop:"isResourceCar"}},[r("i-select",{attrs:{type:"text",disabled:1==e.baseInfo.isResourceCarConfig.length,v:"baseInfo.isResourceCar",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.isResourceCar")}},model:{value:e.baseInfo.isResourceCar,callback:function(t){e.$set(e.baseInfo,"isResourceCar",t)},expression:"baseInfo.isResourceCar"}},e._l(e.dp.whether,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                    "+e._s(t.dictName)+"\n                                ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"车辆类型",prop:"carType"}},[r("i-select",{attrs:{type:"text",disabled:1==e.baseInfo.carTypeConfig.length,v:"baseInfo.carType",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.carType")}},model:{value:e.baseInfo.carType,callback:function(t){e.$set(e.baseInfo,"carType",t)},expression:"baseInfo.carType"}},e._l(e.baseInfo.carTypeConfig,function(t,n){return r("i-option",{key:t.value,attrs:{value:t.value}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"新车指导价(元)",prop:"carGuidancePrice"}},[r("InputNumber",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.baseInfo.carGuidancePrice,callback:function(t){e.$set(e.baseInfo,"carGuidancePrice",t)},expression:"baseInfo.carGuidancePrice"}})],1)],1),e._v(" "),e.isSecondhand?e._e():r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"车辆销售价(元)",prop:"actualSellingPrice",rules:e.createSellPriceRule("车辆销售价")}},[r("InputNumber",{attrs:{clearable:"",v:"baseInfo.actualSellingPrice",placeholder:"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.baseInfo.actualSellingPrice,callback:function(t){e.$set(e.baseInfo,"actualSellingPrice",t)},expression:"baseInfo.actualSellingPrice"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"购车目的",prop:"purchasePurpose"}},[r("i-select",{attrs:{type:"text",v:"baseInfo.purchasePurpose",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.purchasePurpose")}},model:{value:e.baseInfo.purchasePurpose,callback:function(t){e.$set(e.baseInfo,"purchasePurpose",t)},expression:"baseInfo.purchasePurpose"}},e._l(e.dp.purchasePurpose,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                    "+e._s(t.dictName)+"\n                                ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"车辆使用性质",prop:"carCommercialType"}},[r("i-select",{attrs:{type:"text",v:"baseInfo.purchasePurpose",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.carCommercialType")}},model:{value:e.baseInfo.carCommercialType,callback:function(t){e.$set(e.baseInfo,"carCommercialType",t)},expression:"baseInfo.carCommercialType"}},e._l(e.dp.usageNature,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                    "+e._s(t.dictName)+"\n                                ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"预计上牌城市"}},[r("region-picker",{ref:"regionRef1",attrs:{type:"2",regionlabel:"预计上牌"},on:{"on-change":function(t){return e.changeRegion("predictLicense","baseInfo.predictLicense_Region")}},model:{value:e.baseInfo.predictLicense_Region,callback:function(t){e.$set(e.baseInfo,"predictLicense_Region",t)},expression:"baseInfo.predictLicense_Region"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"客户一级渠道",prop:"custPrimaryChannel"}},[r("i-select",{attrs:{type:"text",v:"gpsInfo.custPrimaryChannel",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.custPrimaryChannel")}},model:{value:e.baseInfo.custPrimaryChannel,callback:function(t){e.$set(e.baseInfo,"custPrimaryChannel",t)},expression:"baseInfo.custPrimaryChannel"}},e._l(e.baseInfo.custPrimaryChannelConfig,function(t,n){return r("i-option",{key:t.value,attrs:{value:t.value}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])}),1)],1)],1),e._v(" "),e.isSecondhand?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"公里数(万公里)",prop:"mileage"}},[r("InputNumber",{attrs:{clearable:"",v:"baseInfo.mileage",placeholder:"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.baseInfo.mileage,callback:function(t){e.$set(e.baseInfo,"mileage",t)},expression:"baseInfo.mileage"}})],1)],1):e._e(),e._v(" "),e.isSecondhand?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"车辆预估价(元)",prop:"carEstimatedPrice",rules:e.createEstimatedPriceRule("车辆预估价")}},[r("InputNumber",{attrs:{clearable:"",v:"baseInfo.carEstimatedPrice",placeholder:"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.baseInfo.carEstimatedPrice,callback:function(t){e.$set(e.baseInfo,"carEstimatedPrice",t)},expression:"baseInfo.carEstimatedPrice"}})],1)],1):e._e(),e._v(" "),e.isSecondhand?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"车架号(VIN码)",prop:"vinNum"}},[r("Input",{attrs:{clearable:!e.nodeFieldDisabledFlag,disabled:e.nodeFieldDisabledFlag,v:"baseInfo.vinNum",placeholder:"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.baseInfo.vinNum,callback:function(t){e.$set(e.baseInfo,"vinNum",t)},expression:"baseInfo.vinNum"}})],1)],1):e._e(),e._v(" "),e.isSecondhand?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"出厂日期",prop:"productionDate",rules:e.createProductionDateRule()}},[r("DatePicker",{attrs:{type:"date",editable:!1,disabled:e.nodeFieldDisabledFlag,options:e.currentDateOptions,v:"baseInfo.productionDate",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.productionDate")}},model:{value:e.baseInfo.productionDate,callback:function(t){e.$set(e.baseInfo,"productionDate",t)},expression:"baseInfo.productionDate"}})],1)],1):e._e(),e._v(" "),e.isSecondhand?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"初登日期",prop:"initialDate",rules:e.createInitialDateRule()}},[r("DatePicker",{attrs:{type:"date",editable:!1,options:e.currentDateOptions,v:"baseInfo.initialDate",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.initialDate")}},model:{value:e.baseInfo.initialDate,callback:function(t){e.$set(e.baseInfo,"initialDate",t)},expression:"baseInfo.initialDate"}})],1)],1):e._e(),e._v(" "),e.isSecondhand?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"当前牌照",prop:"licenseNum"}},[r("Row",{staticClass:"font0",attrs:{gutter:0}},[r("i-col",{attrs:{xs:8}},[r("Form-item",{attrs:{prop:"provinceCode"}},[r("i-select",{attrs:{type:"text",v:"baseInfo.provinceCode",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.provinceCode")}},model:{value:e.baseInfo.provinceCode,callback:function(t){e.$set(e.baseInfo,"provinceCode",t)},expression:"baseInfo.provinceCode"}},e._l(e.dp.province_shot_name,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                                "+e._s(t.dictName)+"\n                                            ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:8}},[r("Form-item",{attrs:{prop:"cityCode"}},[r("i-select",{attrs:{type:"text",v:"baseInfo.cityCode",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.cityCode")}},model:{value:e.baseInfo.cityCode,callback:function(t){e.$set(e.baseInfo,"cityCode",t)},expression:"baseInfo.cityCode"}},e._l(e.DICTLIST_car_number_prefix,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                                "+e._s(t.dictName)+"\n                                            ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:8}},[r("Form-item",{attrs:{prop:"licenseSequence"}},[r("Input",{attrs:{clearable:"",v:"baseInfo.licenseSequence",placeholder:"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.baseInfo.licenseSequence,callback:function(t){e.$set(e.baseInfo,"licenseSequence",t)},expression:"baseInfo.licenseSequence"}})],1)],1)],1)],1)],1):e._e(),e._v(" "),e.isSecondhand?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"二手车评估机构",prop:"carEvaluationAgency"}},[r("i-select",{attrs:{type:"text",v:"baseInfo.carEvaluationAgency",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.carEvaluationAgency")}},model:{value:e.baseInfo.carEvaluationAgency,callback:function(t){e.$set(e.baseInfo,"carEvaluationAgency",t)},expression:"baseInfo.carEvaluationAgency"}},e._l(e.DICTLIST_carEvaluationAgencyDictList,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                    "+e._s(t.dictName)+"\n                                ")])}),1)],1)],1):e._e(),e._v(" "),e.isChedidai?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"车辆过户次数",prop:"transferTimes"}},[r("InputNumber",{attrs:{clearable:"",defaultFormatter:!1,v:"baseInfo.transferTimes",placeholder:"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.baseInfo.transferTimes,callback:function(t){e.$set(e.baseInfo,"transferTimes",t)},expression:"baseInfo.transferTimes"}})],1)],1):e._e(),e._v(" "),e.isChedidai?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"交强险失效日",prop:"compulsoryInsuranceExpiryDate"}},[r("DatePicker",{attrs:{type:"date",editable:!1,v:"baseInfo.compulsoryInsuranceExpiryDate",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.compulsoryInsuranceExpiryDate")}},model:{value:e.baseInfo.compulsoryInsuranceExpiryDate,callback:function(t){e.$set(e.baseInfo,"compulsoryInsuranceExpiryDate",t)},expression:"baseInfo.compulsoryInsuranceExpiryDate"}})],1)],1):e._e(),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("Form-item",{attrs:{label:"是否反贷",prop:"isReverseMortgage"}},[r("i-select",{attrs:{type:"text",v:"baseInfo.isReverseMortgage",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.isReverseMortgage")}},model:{value:e.baseInfo.isReverseMortgage,callback:function(t){e.$set(e.baseInfo,"isReverseMortgage",t)},expression:"baseInfo.isReverseMortgage"}},e._l(e.dp.whether,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                    "+e._s(t.dictName)+"\n                                ")])}),1)],1)],1),e._v(" "),e.isReverseMortgage&&!e.isSecondhand?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"车辆开票日期",prop:"carInvoiceDate"}},[r("DatePicker",{attrs:{type:"date",editable:!1,options:e.currentDateOptions,v:"baseInfo.carInvoiceDate",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.carInvoiceDate")}},model:{value:e.baseInfo.carInvoiceDate,callback:function(t){e.$set(e.baseInfo,"carInvoiceDate",t)},expression:"baseInfo.carInvoiceDate"}})],1)],1):e._e(),e._v(" "),e.isReverseMortgage&&e.isSecondhand?r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"车辆过户完成日期",prop:"carTransferDate"}},[r("DatePicker",{attrs:{type:"date",editable:!1,options:e.currentDateOptions,v:"baseInfo.carTransferDate",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"baseInfo.carTransferDate")}},model:{value:e.baseInfo.carTransferDate,callback:function(t){e.$set(e.baseInfo,"carTransferDate",t)},expression:"baseInfo.carTransferDate"}})],1)],1):e._e()],1)],1):e._e()],1):e._e()])},staticRenderFns:[]};t.a=n},eI4p:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.calcInfo?r("div",{staticClass:"cm-panel"},[r("h3",{staticClass:"margin-b-14"},[e._v("贷款计算")]),e._v(" "),r("Form",{ref:"calcInfo",attrs:{model:e.calcInfo,rules:e.rules.loanCalcRule,"label-width":120,"show-message":!0}},[r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"车辆销售价(元)"}},[r("InputNumber",{attrs:{disabled:"",number:"",value:e.sellingAmount,placeholder:"请输入"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"首付金额(元)",prop:"downPaymentAmount",rules:e.newRule.downPaymentAmount}},[r("InputNumber",{attrs:{clearable:"",disabled:e.downAmountDisabled,v:"calcInfo.downPaymentAmount",placeholder:e.downAmountDisabled?"计算后带出":"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.calcInfo.downPaymentAmount,callback:function(t){e.$set(e.calcInfo,"downPaymentAmount",t)},expression:"calcInfo.downPaymentAmount"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"首付比例(%)",prop:"downPaymentProportion",rules:e.newRule.downPaymentProportion}},[r("InputNumber",{attrs:{clearable:"",disabled:e.downPctDisabled,v:"calcInfo.downPaymentProportion",placeholder:e.downPctDisabled?"计算后带出":"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.calcInfo.downPaymentProportion,callback:function(t){e.$set(e.calcInfo,"downPaymentProportion",t)},expression:"calcInfo.downPaymentProportion"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"尾付金额(元)",prop:"finalPaymentAmount",rules:e.newRule.finalPaymentAmount}},[r("InputNumber",{attrs:{clearable:!e.finalAmountDisabled,disabled:e.finalAmountDisabled,v:"calcInfo.finalPaymentAmount",placeholder:e.finalAmountDisabled?"计算后带出":"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.calcInfo.finalPaymentAmount,callback:function(t){e.$set(e.calcInfo,"finalPaymentAmount",t)},expression:"calcInfo.finalPaymentAmount"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8,lg:6}},[r("FormItem",{attrs:{label:"尾付比例(%)",prop:"finalPaymentProportion",rules:e.newRule.finalPaymentProportion}},[r("InputNumber",{attrs:{clearable:!e.finalPctDisabled,disabled:e.finalPctDisabled,v:"calcInfo.finalPaymentProportion",placeholder:e.finalPctDisabled?"计算后带出":"请输入"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.calcInfo.finalPaymentProportion,callback:function(t){e.$set(e.calcInfo,"finalPaymentProportion",t)},expression:"calcInfo.finalPaymentProportion"}})],1)],1)],1)],1)],1):e._e()])},staticRenderFns:[]};t.a=n},fQUs:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("rVsN")),a=s(r("Vr9E")),o=s(r("c71f")),i=(r("VSB1"),r("ZgZx"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"orderEnterpriseForm",mixins:[a.default],props:[],components:{},data:function(){return{orgList:[],DICT_orgType:[],DICT_orgSmallType:[],enterpriseRule:o.default.enterpriseRule,showCountryDrop:!1,showCurrencyDrop:!1,currentDateOptions:{disabledDate:function(e){return e&&e.valueOf()>new Date((new Date).format("yyyy-MM-dd")).getTime()}}}},computed:{formModel:function(){return this.orderData.cust.enterprise},eigenCodeRule:function(){var e=this,t=[];return t.push({validator:function(t,r,n){""===r||null===r||void 0===r?"1"!=e.formModel.orderApplicationType?n(new Error("中征码不能为空")):n():16!=String(r).length||/\s/g.test(r)?n(new Error("中征码格式不正确")):n()},trigger:"change"}),t},certificateExpiryDateRule:function(){var e=this,t=[];return t.push({validator:function(t,r,n){""==r?"1"!=e.formModel.isLongCertificate?n(new Error("证书到期日期不能为空")):n():"[object Date]"==Object.prototype.toString.call(r)||"string"==typeof r?n():n(new Error("证书到期日期格式不对"))},trigger:"change"}),t}},created:function(){},mounted:function(){var e=this;this.queryDictData(["country","currency","applyType","whether","firmScale","orgStatus","economicType","industryLageClass","frCertType"]),this.updateSmallClassDict(),this.updateOrgTypeDict(),this.$nextTick(function(){e.todoRecount()})},methods:{getCountryText:function(e){var t=this.dp.country?this.dp.country.find(function(t){return t.dictCode==e}):"";return t?t.dictName:""},selectCountry:function(e){var t=this.formModel.country!=e.dictCode;this.formModel.country=e.dictCode,this.showCountryDrop=!1,t&&this.handleChange(e.dictCode,"enterprise.country")},hideCountryDrop:function(){this.showCountryDrop=!1},getCurrencyText:function(e){var t=this.dp.currency?this.dp.currency.find(function(t){return t.dictCode==e}):"";return t?t.dictName:""},selectCurrency:function(e){var t=this.formModel.registeredCapitalCurrency!=e.dictCode;this.formModel.registeredCapitalCurrency=e.dictCode,this.showCurrencyDrop=!1,t&&this.handleChange(e.dictCode,"enterprise.registeredCapitalCurrency")},hideCurrencyDrop:function(){this.showCurrencyDrop=!1},createCertNoRule:function(){var e=[(0,i.required)("法人证件号码")];return"1"!=this.formModel.corporationCertificateType&&"7"!=this.formModel.corporationCertificateType||e.push({validator:i.validators.certNo,trigger:"change"}),e},setOcrRes:function(e){var t=this;if("2"==e.flag){if(!(this.formModel.enterpriseName!=e.enterpriseName||this.formModel.enterpriseBusinessScope!=e.businessScope||this.formModel.unifiedSocialCreditCode!=e.cfuscc||this.formModel.enterpriseRegistrationAddress!=e.residenceAddress||"number"==typeof e.registeredCapital&&this.formModel.registeredCapital!=e.registeredCapital))return this.openEye(e.enterpriseName),!1;this.formModel.enterpriseName=e.enterpriseName,this.formModel.enterpriseBusinessScope=e.businessScope,this.formModel.unifiedSocialCreditCode=e.cfuscc,this.formModel.enterpriseRegistrationAddress=e.residenceAddress,"number"==typeof e.registeredCapital&&(this.formModel.registeredCapital=e.registeredCapital,this.$nextTick(function(){t.$refs.formModel.validateField("registeredCapital")})),e.enterpriseName&&this.openEye(e.enterpriseName)}else if("1"==e.flag){if(!(this.formModel.corporationCertificateNo!=e.idcard||this.formModel.corporationName!=e.name||"1"!=this.formModel.corporationCertificateType))return!1;this.formModel.corporationName=e.name,this.formModel.corporationCertificateNo=e.idcard,this.formModel.corporationCertificateType="1"}this.$nextTick(function(){t.cacheData("enterprise"),t.todoRecount()})},openEye:function(e){var t=this;if(!e)return!1;this.showLoading(),this.$http.get(polarisserver+"/customer/openEye?enterpriseName="+e,{}).then(function(e){t.hideLoading();var r=e.data;if(r.success&&r.data){var n=r.data,a={unifiedSocialCreditCode:n.unifiedSocialCreditCode?n.unifiedSocialCreditCode:t.formModel.unifiedSocialCreditCode,enterpriseRegistrationAddress:n.enterpriseRegistrationAddress?n.enterpriseRegistrationAddress:t.formModel.enterpriseRegistrationAddress,organizationCode:n.organizationCode?n.organizationCode:t.formModel.organizationCode,taxpayerIdentificationNum:n.taxpayerIdentificationNum?n.taxpayerIdentificationNum:t.formModel.taxpayerIdentificationNum,establishDate:n.establishDate?n.establishDate:t.formModel.establishDate,registeredCapitalCurrency:n.registeredCapitalCurrency?n.registeredCapitalCurrency:t.formModel.registeredCapitalCurrency,registeredCapital:"number"==typeof n.registeredCapital?n.registeredCapital:t.formModel.registeredCapital,enterpriseBusinessScope:n.enterpriseBusinessScope?n.enterpriseBusinessScope:t.formModel.enterpriseBusinessScope,corporationName:n.corporationName?n.corporationName:t.formModel.corporationName,corporationIdentityCard:n.corporationIdentityCard?n.corporationIdentityCard:t.formModel.corporationIdentityCard};if(!(t.formModel.unifiedSocialCreditCode!=a.unifiedSocialCreditCode||t.formModel.enterpriseRegistrationAddress!=a.enterpriseRegistrationAddress||t.formModel.organizationCode!=a.organizationCode||t.formModel.taxpayerIdentificationNum!=a.taxpayerIdentificationNum||t.formModel.establishDate!=a.establishDate||t.formModel.registeredCapitalCurrency!=a.registeredCapitalCurrency||t.formModel.registeredCapital!=a.registeredCapital||t.formModel.enterpriseBusinessScope!=a.enterpriseBusinessScope||t.formModel.corporationName!=a.corporationName||t.formModel.corporationIdentityCard!=a.corporationIdentityCard))return;t.formModel.unifiedSocialCreditCode=a.unifiedSocialCreditCode,t.formModel.enterpriseRegistrationAddress=a.enterpriseRegistrationAddress,t.formModel.organizationCode=a.organizationCode,t.formModel.taxpayerIdentificationNum=a.taxpayerIdentificationNum,t.formModel.establishDate=a.establishDate,t.formModel.registeredCapitalCurrency=a.registeredCapitalCurrency,"number"==typeof n.registeredCapital&&(t.formModel.registeredCapital=n.registeredCapital,t.$nextTick(function(){t.$refs.formModel.validateField("registeredCapital")})),t.formModel.corporationName=a.corporationName,t.formModel.corporationCertificateNo=a.corporationCertificateNo,t.formModel.enterpriseBusinessScope=a.enterpriseBusinessScope,t.$nextTick(function(){t.cacheData("enterprise"),t.todoRecount()})}else{if(r.success)return t.$Message.error("天眼查请求无数据");if(!r.success)return t.$Message.error("天眼查"+r.errorMessage||"请求失败")}}).catch(function(e){t.hideLoading(),t.errorCatchModal("天眼查请求出错：",e)})},todoorderApplicationTypeChange:function(){this.formModel.eigenCode="",this.$refs.formModel.validateField("eigenCode")},todoisLongCertificateChange:function(){this.formModel.certificateExpiryDate="",this.$refs.formModel.validateField("certificateExpiryDate")},handleBlur:function(e){var t=this,r=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v");if(!this.checkFieldIsChange(r))return!1;"enterprise.enterpriseName"==r&&this.formModel.enterpriseName&&this.openEye(this.formModel.enterpriseName),this.$nextTick(function(){t.cacheData("enterprise"),t.todoRecount()})},handleChange:function(e,t,r){var n=this;if(!this.checkFieldIsChange(t)&&!r)return!1;"enterprise.economicIndustryLargeClass"==t&&this.updateSmallClassDict(),"enterprise.orderApplicationType"==t&&this.todoorderApplicationTypeChange(),"enterprise.isLongCertificate"==t&&this.todoisLongCertificateChange(),"enterprise.economicIndustryLargeClass"==t&&this.updateSmallClassDict(),this.$nextTick(function(){"enterprise.corporationCertificateType"==t&&n.formModel.corporationCertificateNo&&n.$refs.formModel.validateField("corporationCertificateNo"),n.cacheData("enterprise"),n.todoRecount()})},changeRegion:function(e,t){this.setChangeRegion({module:"enterprise",field:e}),this.handleChange(e,t,!0)},updateOrgTypeDict:function(e){var t=this;this.showLoading(),this.$http.get(baseserver+"/dictionary/getOrganizationCategory",{}).then(function(r){t.hideLoading();var n=r.data;if(!n.success)return t.errorModal(n.errorMessage||"组织机构类别请求失败");t.orgList=n.data||[],t.DICT_orgType=t.orgList.filter(function(e){return 0==e.parent}),e&&e()}).catch(function(e){t.hideLoading(),t.errorCatchModal("组织机构类别请求出错：",e)})},updateSmallClassDict:function(){var e=this,t=this.formModel.economicIndustryLargeClass;t?this.$http.get(baseserver+"/dictionary/getNextDictionaryList/AL:"+t,{}).then(function(t){var r=t.data;if(!r.success)return e.errorModal(r.errorMessage||"请求经济行业小类失败");e.$set(e.dp,"industrySmallClass",r.data)}).catch(function(t){e.errorCatchModal("请求经济行业小类出错：",t)}):this.$set(this.dp,"industrySmallClass",[])},validate:function(e){var t=this,r=[];["formModel","regionRef1","regionRef2"].forEach(function(e){r.push(new n.default(function(r){t.$refs[e]?t.$refs[e].validate(function(e){r(e)}):r(!0)}))}),n.default.all(r).then(function(t){var r=_.every(t);e&&e(r)})}}}},hndz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Jwfh"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("j4al"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},j4al:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("input",{ref:"uploadInput",staticStyle:{display:"none"},attrs:{type:"file",name:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return e.changeImage(t)}}}),e._v(" "),r("Button",{attrs:{type:"primary",ghost:"","custom-icon":"iconfont icon-upload"},on:{click:function(t){return e.selectFile()}}},[e._t("default")],2)],1)},staticRenderFns:[]};t.a=n},lGfW:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r("rVsN")),a=i(r("Vr9E")),o=i(r("c71f"));function i(e){return e&&e.__esModule?e:{default:e}}t.default={name:"orderGuarantorEnterpriseForm",mixins:[a.default],props:{index:{default:0}},components:{},data:function(){return{guarantorEnterpriseRule:o.default.guarantorEnterpriseRule,targetObj:{}}},computed:{formModel:function(){var e=this.orderData.cust.guarantorEnterprise[this.index];if(e)return e}},mounted:function(){var e=this;this.queryDictData(["relationship","firmNature"]),this.$nextTick(function(){e.todoRecount()})},methods:{deleteBondsman:function(){this.$emit("on-delete","2",this.index)},handleBlur:function(e){var t=this,r=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v"),n=r.split(".");if(n.splice(1,0,this.index),r=n.join("."),!this.checkFieldIsChange(r))return!1;"guarantorEnterprise.0.enterpriseName"==r&&this.openEye(this.formModel.enterpriseName),this.$nextTick(function(){t.cacheData("guarantorEnterprise"),t.todoRecount()})},handleChange:function(e,t,r){var n=this,a=t.split(".");if(a.splice(1,0,this.index),t=a.join("."),!this.checkFieldIsChange(t)&&!r)return!1;this.$nextTick(function(){n.cacheData("guarantorEnterprise"),n.todoRecount()})},changeRegion:function(e,t){this.setChangeRegion({module:"guarantorEnterprise",index:this.index,field:e}),this.handleChange(e,t,!0)},validate:function(e){var t=this,r=[];["formModel","regionRef1","regionRef2"].forEach(function(e){r.push(new n.default(function(r){t.$refs[e]?t.$refs[e].validate(function(e){r(e)}):r(!0)}))}),n.default.all(r).then(function(t){var r=_.every(t);e&&e(r)})},setOcrRes:function(e){var t=this;if("2"==e.flag){if(!(this.formModel.enterpriseName!=e.enterpriseName||this.formModel.unifiedSocialCreditCode!=e.cfuscc||this.formModel.enterpriseRegistrationAddress!=e.residenceAddress))return this.openEye(e.enterpriseName),!1;this.formModel.enterpriseName=e.enterpriseName,this.formModel.unifiedSocialCreditCode=e.cfuscc,this.formModel.enterpriseRegistrationAddress=e.residenceAddress,e.enterpriseName&&this.openEye(e.enterpriseName)}else{if(!(this.formModel.corporationIdentityCard!=e.idcard||this.formModel.corporationName!=e.name))return!1;this.formModel.corporationName=e.name,this.formModel.corporationIdentityCard=e.idcard}this.$nextTick(function(){t.cacheData("guarantorEnterprise"),t.todoRecount()})},openEye:function(e){var t=this;if(!e)return!1;this.showLoading(),this.$http.get(polarisserver+"/customer/openEye?enterpriseName="+e,{}).then(function(e){t.hideLoading();var r=e.data;if(r.success&&r.data){var n=r.data,a={enterpriseName:n.enterpriseName?n.enterpriseName:t.formModel.enterpriseName,unifiedSocialCreditCode:n.unifiedSocialCreditCode?n.unifiedSocialCreditCode:t.formModel.unifiedSocialCreditCode,enterpriseRegistrationAddress:n.enterpriseRegistrationAddress?n.enterpriseRegistrationAddress:t.formModel.enterpriseRegistrationAddress,corporationName:n.corporationName?n.corporationName:t.formModel.corporationName,corporationIdentityCard:n.corporationIdentityCard?n.corporationIdentityCard:t.formModel.corporationIdentityCard};if(!(t.formModel.enterpriseName!=a.enterpriseName||t.formModel.unifiedSocialCreditCode!=a.unifiedSocialCreditCode||t.formModel.enterpriseRegistrationAddress!=a.enterpriseRegistrationAddress||t.formModel.corporationName!=a.corporationName||t.formModel.corporationIdentityCard!=a.corporationIdentityCard))return;t.formModel.enterpriseName=a.enterpriseName,t.formModel.unifiedSocialCreditCode=a.unifiedSocialCreditCode,t.formModel.enterpriseRegistrationAddress=a.enterpriseRegistrationAddress,t.formModel.corporationName=a.corporationName,t.formModel.corporationIdentityCard=a.corporationIdentityCard,t.$nextTick(function(){t.cacheData("guarantorEnterprise"),t.todoRecount()})}else{if(r.success)return t.$Message.error("天眼查请求无数据");if(!r.success)return t.$Message.error(r.errorMessage||"天眼查请求失败")}}).catch(function(e){t.hideLoading(),t.errorCatchModal("天眼查请求出错：",e)})}}}},ldIv:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.formModel?r("Form",{ref:"formModel",attrs:{model:e.formModel,rules:e.guarantorPersonalRule,"label-width":120}},[r("div",[r("h3",{staticClass:"margin-b-14"},[e._v("个人担保人\n                "),r("ocr-button",{attrs:{itemid:"guarantorIDPositive",ocrtype:"1"},on:{"on-ocr-result":e.setOcrRes}},[e._v("上传身份证部分免填写\n                ")]),e._v(" "),r("Button",{staticStyle:{float:"right"},attrs:{type:"text",size:"small"},on:{click:e.deleteBondsman}},[e._v("删除\n                ")])],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"与申请人关系",prop:"guarantorRelationship"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"guarantorPersonal.guarantorRelationship")}},model:{value:e.formModel.guarantorRelationship,callback:function(t){e.$set(e.formModel,"guarantorRelationship",t)},expression:"formModel.guarantorRelationship"}},e._l(e.dp.relationship,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                "+e._s(t.dictName)+"\n                            ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"担保人姓名",prop:"guarantorName"}},[r("Input",{attrs:{type:"text",clearable:"",placeholder:"请输入",v:"guarantorPersonal.guarantorName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.guarantorName,callback:function(t){e.$set(e.formModel,"guarantorName",t)},expression:"formModel.guarantorName"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"手机号码",prop:"guarantorPhone"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.guarantorPhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.guarantorPhone,callback:function(t){e.$set(e.formModel,"guarantorPhone",t)},expression:"formModel.guarantorPhone"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"证件类型",prop:"guarantorCredentialType"}},[r("i-select",{attrs:{type:"text",disabled:"",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"guarantorPersonal.guarantorCredentialType")}},model:{value:e.formModel.guarantorCredentialType,callback:function(t){e.$set(e.formModel,"guarantorCredentialType",t)},expression:"formModel.guarantorCredentialType"}},e._l(e.DICT_gcertType,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                "+e._s(t.dictName)+"\n                            ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"证件号码",prop:"guarantorIdentityCard"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.guarantorIdentityCard"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.guarantorIdentityCard,callback:function(t){e.$set(e.formModel,"guarantorIdentityCard",t)},expression:"formModel.guarantorIdentityCard"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"单位电话",prop:"companyPhone"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.companyPhone"},on:{"on-blur":e.handleBlur},model:{value:e.formModel.companyPhone,callback:function(t){e.$set(e.formModel,"companyPhone",t)},expression:"formModel.companyPhone"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"单位名称",prop:"companyName"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.companyName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.companyName,callback:function(t){e.$set(e.formModel,"companyName",t)},expression:"formModel.companyName"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"单位所在地"}},[r("region-picker",{ref:"regionRef1",attrs:{type:"3",regionlabel:"单位所在地"},on:{"on-change":function(t){return e.changeRegion("company","guarantorPersonal.company_Region")}},model:{value:e.formModel.company_Region,callback:function(t){e.$set(e.formModel,"company_Region",t)},expression:"formModel.company_Region"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"单位详细地址",prop:"companyDetailAddress"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.companyDetailAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.companyDetailAddress,callback:function(t){e.$set(e.formModel,"companyDetailAddress",t)},expression:"formModel.companyDetailAddress"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"现居地"}},[r("region-picker",{ref:"regionRef2",attrs:{type:"3",regionlabel:"现居地"},on:{"on-change":function(t){return e.changeRegion("currentResidence","guarantorPersonal.currentResidence_Region")}},model:{value:e.formModel.currentResidence_Region,callback:function(t){e.$set(e.formModel,"currentResidence_Region",t)},expression:"formModel.currentResidence_Region"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"现居地详细地址",prop:"currentResidenceAddress"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.currentResidenceAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.currentResidenceAddress,callback:function(t){e.$set(e.formModel,"currentResidenceAddress",t)},expression:"formModel.currentResidenceAddress"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"户籍地"}},[r("region-picker",{ref:"regionRef3",attrs:{type:"3",regionlabel:"户籍地"},on:{"on-change":function(t){return e.changeRegion("censusRegister","guarantorPersonal.censusRegister_Region")}},model:{value:e.formModel.censusRegister_Region,callback:function(t){e.$set(e.formModel,"censusRegister_Region",t)},expression:"formModel.censusRegister_Region"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"户籍地详细地址",prop:"censusRegisterAddress"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.censusRegisterAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.censusRegisterAddress,callback:function(t){e.$set(e.formModel,"censusRegisterAddress",t)},expression:"formModel.censusRegisterAddress"}})],1)],1)],1)],1)]):e._e()],1)},staticRenderFns:[]};t.a=n},mMLf:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("cQPK"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("dMMi"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},mvdO:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("3zeM"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("ZbR5"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},nE5A:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=g(r("rVsN")),a=g(r("aA9S")),o=g(r("lC5x")),i=g(r("J0Oq")),s=g(r("Jkb2")),l=g(r("dAAp")),c=g(r("M5ii")),u=g(r("mvdO")),d=g(r("OoiP")),f=g(r("yUk/")),p=g(r("Vr9E")),m=g(r("afUM")),h=r("VSB1"),v=g(r("JyLo"));function g(e){return e&&e.__esModule?e:{default:e}}t.default={name:"orderCustModule",mixins:[p.default],components:{orderPersonalForm:s.default,orderEnterpriseForm:l.default,orderContactorForm:u.default,orderGuarantorPersonalForm:d.default,orderGuarantorEnterpriseForm:f.default,orderRelativeForm:c.default},props:{},data:function(){return{inited:!0,hasError:!1,tokenInited:!1}},destroy:function(){},computed:{orderinfo:function(){return this.orderData.orderinfo||{}}},mounted:function(){var e=this;this.queryDictData(["province"]).then(function(t){t.province&&t.province.length||e.errorModal("请求省份数据为空")}),this.queryInit();var t={orderId:this.orderNo,viewCode:"yixin_xiaofei_tibao_polaris",orderUserId:this.account,orderUserName:this.userName};this.COS=new v.default(t,function(t){e.SET_ORDER_COS(e.COS),e.tokenInited=!0})},destroyed:function(){this.SET_ORDER_COS(void 0),sessionStorage.removeItem("cust")},methods:{queryInit:function(){var e=this;return(0,i.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isQy){t.next=6;break}return t.next=3,e.queryInitData("personal");case 3:t.sent,t.next=13;break;case 6:if(!e.isQy){t.next=12;break}return t.next=9,e.queryInitData("enterprise");case 9:t.sent,t.next=13;break;case 12:return t.abrupt("return",!1);case 13:return t.next=15,e.queryInitData("contactor");case 15:return t.sent,t.next=18,e.queryInitData("guarantor");case 18:t.sent,e.$nextTick(function(){e.todoRecount()});case 20:case"end":return t.stop()}},t,e)}))()},addBondsman:function(e){"1"==e?this.addOrderGuarantorPersonal():"2"==e&&this.addOrderGuarantorEnterprise()},deleteBondsman:function(e,t){var r=this;this.$Modal.confirm({title:"提示",content:"您确定要删除担保人信息吗？",onOk:function(){"1"==e?(r.guarantorPersonal.splice(t,1),r.cacheData("guarantorPersonal"),r.todoRecount()):"2"==e&&(r.guarantorEnterprise.splice(t,1),r.cacheData("guarantorEnterprise"),r.todoRecount())}})},getSaveData:function(){var e=this.orderData.orderinfo,t={contactInfoList:m.default.transToSave("contactor",this.orderData.cust),personalGuarantor:m.default.transToSave("guarantorPersonal",this.orderData.cust),enterpriseGuarantor:m.default.transToSave("guarantorEnterprise",this.orderData.cust)};if(t.contactInfoList.map(function(t){t.orderNo=e.orderNo,delete t.id}),t.personalGuarantor.length?(t.personalGuarantor=t.personalGuarantor[0],t.personalGuarantor.orderNo=e.orderNo,delete t.personalGuarantor.id):t.personalGuarantor=void 0,t.enterpriseGuarantor.length?(t.enterpriseGuarantor=t.enterpriseGuarantor[0],t.enterpriseGuarantor.orderNo=e.orderNo,delete t.enterpriseGuarantor.id):t.enterpriseGuarantor=void 0,this.isQy){var r=m.default.transToSave("enterprise",this.orderData.cust);t.enterprise=(0,a.default)({},r.enterpriseApplier,r.enterpriseLicense),t.enterprise.orderNo=e.orderNo,delete t.enterprise.id}else t.personal=m.default.transToSave("personal",this.orderData.cust),t.personal.orderNo=e.orderNo,t.relationship=m.default.transToSave("relative",this.orderData.cust),t.relationship.orderNo=e.orderNo,delete t.personal.id,delete t.relationship.id;return t},toSave:function(e){var t=this;return new n.default(function(r,n){t.validate(function(a){if(a){var o=t.getSaveData();o.saveFrom="PC",t.showLoading();var i="";i=t.isQy?polarisserver+"/customer/enterprise/submit":polarisserver+"/customer/personal/submit",t.$http.post(i,o).then(function(n){t.hideLoading();var a=n.data;a.success?(t.setOrderCustTabSaved(!0),e||t.$Message.success("客戶信息保存成功!"),r(!0)):(t.setOrderCustTabSaved(!1),t.errorModal(a.errorMessage||"保存失败"),r(!1))}).catch(function(e){t.hideLoading(),t.setOrderCustTabSaved(!1),t.errorCatchModal("客戶信息保存请求出错：",e),n(e)})}else r(!1)})})},scrollToValid:function(t){var r=this;this.$nextTick(function(){if(!t){var n=e(".apply-client-module .ivu-form-item-error")[0];if(n&&n.getBoundingClientRect){var a=n.getBoundingClientRect(),o=document.documentElement.scrollTop||document.body.scrollTop,i=a.top+o-200;(0,h.scrollTo)(document,i,300)}}r.setOrderModuleError({index:0,hasError:!t})})},validate:function(e){var t=this,r=[],a=[],o=this.isQy?"enterpriseForm":"personalForm";a.push(o),this.isQy||a.push("relativeForm"),a.push("contactorForm"),this.guarantorPersonal&&this.guarantorPersonal.length&&a.push("guarantorPersonal0"),this.guarantorEnterprise&&this.guarantorEnterprise.length&&a.push("guarantorEnterprise0"),a.forEach(function(e){var a=t.$refs[e];"guarantorPersonal0"!=e&&"guarantorEnterprise0"!=e||(a=a[0]),a&&r.push(new n.default(function(e){a?a.validate(function(t){e(t)}):e(!0)}))}),n.default.all(r).then(function(r){var n=_.every(r);t.scrollToValid(n),e&&e(n)})}}}}).call(t,r("L7Pj"))},nYYZ:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.formModel?r("Form",{ref:"formModel",attrs:{model:e.formModel,rules:e.guarantorEnterpriseRule,"label-width":120}},[r("div",[r("h3",{staticClass:"margin-b-14"},[e._v("企业担保人\n                "),r("ocr-button",{attrs:{itemid:"guarantorBusinessLicence",ocrtype:"2"},on:{"on-ocr-result":e.setOcrRes}},[e._v("上传营业执照部分免填写\n                ")]),e._v(" "),r("ocr-button",{attrs:{itemid:"guarantorIDPositive",ocrtype:"1"},on:{"on-ocr-result":e.setOcrRes}},[e._v("\n                    上传担保人身份证部分免填写\n                ")]),e._v(" "),r("Button",{staticStyle:{float:"right"},attrs:{type:"text",size:"small"},on:{click:e.deleteBondsman}},[e._v("删除\n                ")])],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"与申请人关系",prop:"guarantorRelationship"}},[r("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"guarantorEnterprise.guarantorRelationship")}},model:{value:e.formModel.guarantorRelationship,callback:function(t){e.$set(e.formModel,"guarantorRelationship",t)},expression:"formModel.guarantorRelationship"}},e._l(e.dp.relationship,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                "+e._s(t.dictName)+"\n                            ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"企业名称",prop:"enterpriseName"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.enterpriseName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseName,callback:function(t){e.$set(e.formModel,"enterpriseName",t)},expression:"formModel.enterpriseName"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"企业性质",prop:"enterpriseNature"}},[r("i-select",{attrs:{placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"guarantorEnterprise.enterpriseNature")}},model:{value:e.formModel.enterpriseNature,callback:function(t){e.$set(e.formModel,"enterpriseNature",t)},expression:"formModel.enterpriseNature"}},e._l(e.dp.firmNature,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                                "+e._s(t.dictName)+"\n                            ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"统一社会信用代码",prop:"unifiedSocialCreditCode"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.unifiedSocialCreditCode"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.unifiedSocialCreditCode,callback:function(t){e.$set(e.formModel,"unifiedSocialCreditCode",t)},expression:"formModel.unifiedSocialCreditCode"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"法人姓名",prop:"corporationName"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.corporationName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationName,callback:function(t){e.$set(e.formModel,"corporationName",t)},expression:"formModel.corporationName"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"法人证件号码",prop:"corporationIdentityCard"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.corporationIdentityCard"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationIdentityCard,callback:function(t){e.$set(e.formModel,"corporationIdentityCard",t)},expression:"formModel.corporationIdentityCard"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"法人联系电话",prop:"corporationPhone"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.corporationPhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationPhone,callback:function(t){e.$set(e.formModel,"corporationPhone",t)},expression:"formModel.corporationPhone"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"实际控制人姓名",prop:"actualControllerName"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.actualControllerName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.actualControllerName,callback:function(t){e.$set(e.formModel,"actualControllerName",t)},expression:"formModel.actualControllerName"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"实际控制人证件号码",prop:"actualControllerIdentityCard"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.actualControllerIdentityCard"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.actualControllerIdentityCard,callback:function(t){e.$set(e.formModel,"actualControllerIdentityCard",t)},expression:"formModel.actualControllerIdentityCard"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"实际控制人联系电话",prop:"actualControllerPhone"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.actualControllerPhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.actualControllerPhone,callback:function(t){e.$set(e.formModel,"actualControllerPhone",t)},expression:"formModel.actualControllerPhone"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"企业注册地"}},[r("region-picker",{ref:"regionRef1",attrs:{type:"3",regionlabel:"企业注册地"},on:{"on-change":function(t){return e.changeRegion("enterpriseRegistration","guarantorEnterprise.enterpriseRegistration_Region")}},model:{value:e.formModel.enterpriseRegistration_Region,callback:function(t){e.$set(e.formModel,"enterpriseRegistration_Region",t)},expression:"formModel.enterpriseRegistration_Region"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"企业注册地详细地址",prop:"enterpriseRegistrationAddress"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.enterpriseRegistrationAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseRegistrationAddress,callback:function(t){e.$set(e.formModel,"enterpriseRegistrationAddress",t)},expression:"formModel.enterpriseRegistrationAddress"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"企业经营地"}},[r("region-picker",{ref:"regionRef2",attrs:{type:"3",regionlabel:"企业经营地"},on:{"on-change":function(t){return e.changeRegion("enterpriseManagement","guarantorEnterprise.enterpriseManagement_Region")}},model:{value:e.formModel.enterpriseManagement_Region,callback:function(t){e.$set(e.formModel,"enterpriseManagement_Region",t)},expression:"formModel.enterpriseManagement_Region"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"企业经营地详细地址",prop:"enterpriseManagementAddress"}},[r("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.enterpriseManagementAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseManagementAddress,callback:function(t){e.$set(e.formModel,"enterpriseManagementAddress",t)},expression:"formModel.enterpriseManagementAddress"}})],1)],1)],1)],1)]):e._e()],1)},staticRenderFns:[]};t.a=n},oVr6:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=h(r("rVsN")),a=h(r("4YfN")),o=r("R4Sj"),i=h(r("mMLf")),s=h(r("UzJl")),l=h(r("86i2")),c=h(r("7dof")),u=h(r("RE4Y")),d=h(r("VfUO")),f=r("ZgZx"),p=r("VSB1"),m=h(r("iClD"));function h(e){return e&&e.__esModule?e:{default:e}}t.default={name:"orderLoanModule",mixins:[d.default],components:{orderLoanBaseForm:i.default,orderLoanItemForm:s.default,orderLoanDiscountForm:l.default,orderLoanMarginForm:c.default,orderLoanCalcForm:u.default},directives:{},props:{},data:function(){return{contactorModel:{},ruleValidate:f.validateRules.loanInfoPage,hasBaseInfo:!1,hasItemInfo:!1,hasDiscountInfo:!1,hasMarginInfo:!1,hasCalcInfo:!1,showCalcRes:!1,calcres:{title:"贷款试算结果",showModal:!1,exportLoading:!1,loading:!1,total:0,data:[],columns:[{title:"金融机构",key:"capitalName",render:function(e,t){return e("div",t.row.capitalName||"--")}},{title:"客户融资额(元)",key:"custFinanceAmount",render:function(e,t){return e("div",m.default.number(t.row.custFinanceAmount)||"--")}},{title:"风控融资额(元)",key:"riskControlFinanceAmount",render:function(e,t){return e("div",m.default.number(t.row.riskControlFinanceAmount)||"--")}},{title:"风险融资额(元)",key:"riskFinanceAmount",render:function(e,t){return e("div",m.default.number(t.row.riskFinanceAmount)||"--")}},{title:"客户利率(%)",key:"custInterestRate",render:function(e,t){return e("div",m.default.number(t.row.custInterestRate)||"--")}},{title:"客户费率(%)",key:"custCostRate",render:function(e,t){var r=t.row.custCostRate;return e("span",{style:{color:r<0?"#F5222D ":""}},m.default.number(r)||"--")}},{title:"月供金额(元)",key:"custMonthlyAmount",render:function(e,t){return e("div",m.default.number(t.row.custMonthlyAmount)||"--")}},{title:"放款金额(元)",key:"loanPayableAmount",render:function(e,t){return"YX"==t.row.capitalCode?e("div",m.default.number(t.row.loanPayableAmount)||"--"):e("div","--")}}]}}},computed:(0,a.default)({},(0,o.mapState)("apply",["orderData"])),mounted:function(){var e=this;this.queryDictData(["province"]).then(function(t){t.province&&t.province.length||e.errorModal("请求省份数据为空")}),this.queryInitData("baseInfo",function(t){e.hasBaseInfo=!!t,e.hasItemInfo="1"==t.hasInsurance||"1"==t.hasGps||"1"==t.hasTheftInsurance||"1"==t.hasOtherFinance,e.hasMarginInfo="1"==t.hasMargin;var r="011100001"==t.chargingMode||"011100002"==t.chargingMode;e.hasDiscountInfo=r||"1"==t.hasFeeDiscount||"1"==t.hasRateDiscount})},destroyed:function(){sessionStorage.removeItem("loan")},methods:(0,a.default)({},(0,o.mapMutations)("apply",["setLoanData"]),(0,o.mapMutations)("app",["showLoading","hideLoading"]),{financePeriodChangeFn:function(){this.orderData.loan.itemInfo&&this.orderData.loan.itemInfo.theftInsuranceInfo&&this.$refs.itemInfoRef&&this.$refs.itemInfoRef.updateTheftBasePrice(),1!=this.baseInfo.isShowPoundage&&1!=this.baseInfo.hasFeeDiscount&&1!=this.baseInfo.hasRateDiscount||!this.$refs.discountInfoRef||this.$refs.discountInfoRef.reloadDiscountInfo(!0)},sellPriceChangeFn:function(){this.orderData.loan.itemInfo&&this.orderData.loan.itemInfo.theftInsuranceInfo&&this.$refs.itemInfoRef&&this.$refs.itemInfoRef.updateTheftBasePrice(),this.orderData.loan.marginInfo&&this.$refs.marginInfoRef&&this.$refs.marginInfoRef.updateMarginCalc(),this.orderData.loan.calcInfo&&this.$refs.calcInfoRef&&this.$refs.calcInfoRef.updateCalcAmount()},updateFullLoanData:function(e){var t=this;if(console.log(e),this.calcres.data.splice(0),!e)return!1;var r=e.financeCalculationInfo;if(r&&r.financeCalculationTableList){var n=["custCostRate","custFinanceAmount","custInterestRate","custMonthlyAmount","loanPayableAmount","riskControlFinanceAmount","riskFinanceAmount"];r.financeCalculationTableList.forEach(function(e){n.forEach(function(t){e[t]=""+(0,p.stringToNumber)(e[t])}),t.calcres.data.push(e)}),this.showCalcRes=!0}this.orderData.loan.calcInfo.financeCalculationTableList=this.calcres.data;var a=this.orderData.loan.itemInfo,o=e.financeItemInfo;if(a&&o){if(a.insuranceInfo&&a.insuranceInfo.insuranceItemList&&o.insuranceInfo&&o.insuranceInfo.insuranceItemList&&a.insuranceInfo.insuranceItemList.forEach(function(e,r){var n=o.insuranceInfo.insuranceItemList[r];["insurancMinPrice","insuranceMaxPrice","insuranceAmount"].forEach(function(r){t.$set(e,r,""+(0,p.stringToNumber)(n[r]))})}),a.gpsInfo&&o.gpsInfo){["increasePriceMax","increasePriceMin"].forEach(function(e){t.$set(a.gpsInfo,e,""+(0,p.stringToNumber)(o.gpsInfo[e]))})}if(a.theftInsuranceInfo&&o.theftInsuranceInfo){["basePrice","increasePrice","increaseMaxPrice","increaseMinPrice","totalPrice"].forEach(function(e){t.$set(a.theftInsuranceInfo,e,""+(0,p.stringToNumber)(o.theftInsuranceInfo[e]))})}a.otherFinanceInfo&&o.otherFinanceInfo&&a.otherFinanceInfo.forEach(function(e,r){var n=o.otherFinanceInfo[r];t.$set(e,"financePrice",""+(0,p.stringToNumber)(n.financePrice))}),this.orderTabs[1].hasSaved||this.cacheData("itemInfo")}var i=this.orderData.loan.marginInfo,s=e.financeMarginInfo;i&&s&&(this.$set(i,"marginAmount",""+(0,p.stringToNumber)(s.marginAmount)),this.$set(i,"marginProportion",""+(0,p.stringToNumber)(s.marginProportion)),this.orderTabs[1].hasSaved||this.cacheData("marginInfo"));var l=this.orderData.loan.discountInfo,c=e.financeDiscountInfo;l&&c&&(l.feeDiscountInfo&&c.feeDiscountInfo&&(this.$set(l.feeDiscountInfo,"poundageAmount",""+(0,p.stringToNumber)(c.feeDiscountInfo.poundageAmount)),this.$set(l.feeDiscountInfo,"dealerDiscountAmount",""+(0,p.stringToNumber)(c.feeDiscountInfo.dealerDiscountAmount)),this.$set(l.feeDiscountInfo,"manufacturerDiscountAmount",""+(0,p.stringToNumber)(c.feeDiscountInfo.manufacturerDiscountAmount)),this.$set(l.feeDiscountInfo,"discountTotalAmount",""+(0,p.stringToNumber)(c.feeDiscountInfo.discountTotalAmount)),this.$set(l.feeDiscountInfo,"ratioValue",""+(0,p.stringToNumber)(c.feeDiscountInfo.ratioValue))),l.rateDiscountInfo&&c.rateDiscountInfo&&(this.$set(l.rateDiscountInfo,"dealerDiscountAmount",""+(0,p.stringToNumber)(c.rateDiscountInfo.dealerDiscountAmount)),this.$set(l.rateDiscountInfo,"manufacturerDiscountAmount",""+(0,p.stringToNumber)(c.rateDiscountInfo.manufacturerDiscountAmount)),this.$set(l.rateDiscountInfo,"discountTotalAmount",""+(0,p.stringToNumber)(c.rateDiscountInfo.discountTotalAmount)),this.$set(l.rateDiscountInfo,"ratioValue",""+(0,p.stringToNumber)(c.rateDiscountInfo.ratioValue))),this.orderTabs[1].hasSaved||this.cacheData("discountInfo"));var u=this.orderData.loan.calcInfo;if(u&&e.financeCalculationInfo){["downPaymentProportion","downPaymentAmount","finalPaymentProportion","finalPaymentAmount"].forEach(function(r){t.$set(u,r,""+(0,p.stringToNumber)(e.financeCalculationInfo[r]))}),this.orderTabs[1].hasSaved||this.cacheData("calcInfo")}},todoCalc:function(){var e=this;this.calcres.data.splice(0),this.validate(function(t){if(!t)return e.errorModal("请先完善贷款基本信息之后再进行试算！");var r=e.getSaveData(),n=polarisserver+"/finance/calculation/financeInfo";e.showLoading(),e.$http.post(n,r).then(function(t){e.hideLoading();var r=t.data;if(r.data&&(e.updateFullLoanData(r.data),e.$nextTick(function(){e.todoRecount()})),!r.success)return e.errorModal(r.errorMessage||"请求贷款试算失败")}).catch(function(t){e.hideLoading(),e.errorCatchModal("请求贷款试算出错：",t)})})},toSave:function(e){var t=this;return new n.default(function(r,n){t.validate(function(a){if(a){t.showLoading();var o=t.getSaveData();o.saveFrom="PC";var i=polarisserver+"/finance/save/financeInfo";t.$http.post(i,o).then(function(n){t.hideLoading();var a=n.data;t.setOrderLoanTabSaved(a.success),a.data&&(t.updateFullLoanData(a.data),t.$nextTick(function(){t.todoRecount()})),a.success?(e||t.$Message.success("贷款信息保存成功!"),r(!0)):(t.errorModal(a.errorMessage||"贷款信息保存失败"),r(!1))}).catch(function(e){t.hideLoading(),t.setOrderLoanTabSaved(!1),t.errorCatchModal("贷款信息保存请求出错：",e),n(e)})}else r(!1)})})},scrollToValid:function(t){var r=this;this.$nextTick(function(){if(!t){var n=e(".apply-loan-module .ivu-form-item-error")[0];if(n&&n.getBoundingClientRect){var a=n.getBoundingClientRect(),o=document.documentElement.scrollTop||document.body.scrollTop,i=a.top+o-200;(0,p.scrollTo)(document,i,300)}}r.setOrderModuleError({index:1,hasError:!t})})},validate:function(e){var t=this,r=[];["baseInfoRef","itemInfoRef","marginInfoRef","discountInfoRef","calcInfoRef"].forEach(function(e){r.push(new n.default(function(r){t.$refs[e]?t.$refs[e].validate(function(e){r(e)}):r(!0)}))}),n.default.all(r).then(function(r){var n=_.every(r);t.scrollToValid(n),e&&e(n)})}})}}).call(t,r("L7Pj"))},pDAh:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"apply-loan-module"},[e.hasBaseInfo?r("order-loan-base-form",{ref:"baseInfoRef",staticClass:"cm-panel",on:{"on-sellpricechange":e.sellPriceChangeFn,"on-financeperiodchange":e.financePeriodChangeFn}}):e._e(),e._v(" "),r("div",{class:e.loanNextDisabled?"mask-disabled":""},[e.loanNextDisabled?r("div",{staticClass:"mask-disabled-content"},[e._m(0)]):e._e(),e._v(" "),e.hasBaseInfo&&e.hasItemInfo?r("order-loan-item-form",{ref:"itemInfoRef"}):e._e(),e._v(" "),e.hasBaseInfo&&e.hasDiscountInfo?r("order-loan-discount-form",{ref:"discountInfoRef"}):e._e(),e._v(" "),e.hasBaseInfo&&e.hasMarginInfo?r("order-loan-margin-form",{ref:"marginInfoRef"}):e._e(),e._v(" "),e.hasBaseInfo?r("order-loan-calc-form",{ref:"calcInfoRef"}):e._e(),e._v(" "),r("div",{staticClass:"cm-panel",staticStyle:{"margin-top":"-34px"}},[r("div",{staticClass:"text-center"},[r("Button",{attrs:{type:"primary","custom-icon":"iconfont icon-calculator"},on:{click:e.todoCalc}},[e._v("贷款试算")])],1),e._v(" "),e.showCalcRes?r("i-table",{staticClass:"table-only-horizon-line margin-t-20",attrs:{total:e.calcres.total,loading:e.calcres.loading,border:"",columns:e.calcres.columns,data:e.calcres.data}}):e._e()],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mask-disabled-body"},[t("div",{staticClass:"ivu-modal-confirm-head"},[t("div",{staticClass:"ivu-modal-confirm-head-icon ivu-modal-confirm-head-icon-confirm"},[t("i",{staticClass:"ivu-icon ivu-icon-md-alert"})]),this._v(" "),t("div",{staticClass:"ivu-modal-confirm-head-title"},[this._v("提示")])]),this._v(" "),t("div",{staticClass:"ivu-modal-confirm-body"},[t("div",[this._v("请先完善贷款基本信息。")])])])}]};t.a=n},qAG1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("rVsN")),a=s(r("Vr9E")),o=s(r("c71f")),i=r("ZgZx");function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"orderRelativeForm",mixins:[a.default],props:{},components:{},data:function(){return{relativeRule:o.default.relativeRule,targetObj:{},shipDisabled:!1}},computed:{formModel:function(){return this.orderData.cust.relative},personalInfo:function(){return this.orderData.cust.personal},DICT_relativeship:function(){return this.personalInfo&&"1"===this.personalInfo.marriage?("3"==this.formModel.relativeType?this.shipDisabled=!0:(this.formModel.relativeType="",this.shipDisabled=!1),(this.dp.relativeRelationship||[]).filter(function(e){return"3"==e.dictCode})):this.personalInfo&&"0"===this.personalInfo.marriage?(this.shipDisabled=!1,(this.dp.relativeRelationship||[]).filter(function(e){return"3"!=e.dictCode})):(this.shipDisabled=!1,this.dp.relativeRelationship)}},mounted:function(){var e=this;this.queryDictData(["certType","relativeRelationship"]),this.$nextTick(function(){e.todoRecount()})},methods:{createCertNoRule:function(){var e=[(0,i.required)("证件号码")];return"1"!=this.formModel.relativeCertificateType&&"7"!=this.formModel.relativeCertificateType||e.push({validator:i.validators.certNo,trigger:"change"}),e},validate:function(e){var t=this,r=!0,a=[];["formModel","regionRef1"].forEach(function(e){a.push(new n.default(function(r){t.$refs[e]?t.$refs[e].validate(function(e){r(e)}):r(!0)}))}),n.default.all(a).then(function(t){r=_.every(t),e&&e(r)})},handleBlur:function(e){var t=this,r=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v");if(!this.checkFieldIsChange(r))return!1;this.$nextTick(function(){t.cacheData("relative"),t.todoRecount()})},handleChange:function(e,t,r){var n=this;if(!this.checkFieldIsChange(t)&&!r)return!1;this.$nextTick(function(){"relative.relativeCertificateType"==t&&n.formModel.relativeCertificateNo&&n.$refs.formModel.validateField("relativeCertificateNo"),n.cacheData("relative"),n.todoRecount()})},changeRegion:function(e,t){this.setChangeRegion({module:"relative",field:e}),this.handleChange(e,t,!0)},relativeUploadIDCard:function(e){this.$refs[e].value="",this.$refs[e].click()},setOcrRes:function(e){var t=this;if(!(this.formModel.relativeCertificateNo!=e.idcard||this.formModel.relativeName!=e.name||"1"!=this.formModel.relativeCertificateType))return!1;this.formModel.relativeCertificateNo=e.idcard,this.formModel.relativeName=e.name,this.formModel.relativeCertificateType="1",this.$nextTick(function(){t.cacheData("relative"),t.todoRecount()})}},watch:{}}},qyku:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("rVsN")),a=s(r("Vr9E")),o=s(r("c71f")),i=r("ZgZx");function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"orderGuarantorPersonalForm",mixins:[a.default],props:{index:{default:0}},components:{},data:function(){return{guarantorPersonalRule:o.default.guarantorPersonalRule,targetObj:{}}},computed:{formModel:function(){var e=this.orderData.cust.guarantorPersonal[this.index];if(e)return e}},mounted:function(){var e=this;this.$nextTick(function(){e.todoRecount()})},methods:{createCertNoRule:function(){var e=[(0,i.required)("证件号码")];return"1"!=this.formModel.guarantorCredentialType&&"7"!=this.formModel.guarantorCredentialType||e.push({validator:i.validators.certNo,trigger:"change"}),e},deleteBondsman:function(){this.$emit("on-delete","1",this.index)},handleBlur:function(e){var t=this,r=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v"),n=r.split(".");if(n.splice(1,0,this.index),r=n.join("."),!this.checkFieldIsChange(r))return!1;this.$nextTick(function(){t.cacheData("guarantorPersonal"),t.todoRecount()})},handleChange:function(e,t,r){var n=this,a=t.split(".");if(a.splice(1,0,this.index),t=a.join("."),!this.checkFieldIsChange(t)&&!r)return!1;this.$nextTick(function(){"guarantorPersonal.guarantorCredentialType"==t&&n.formModel.guarantorIdentityCard&&n.$refs.formModel.validateField("guarantorIdentityCard"),n.cacheData("guarantorPersonal"),n.todoRecount()})},changeRegion:function(e,t){this.setChangeRegion({module:"guarantorPersonal",index:this.index,field:e}),this.handleChange(e,t,!0)},validate:function(e){var t=this,r=!0,a=[];["formModel","regionRef1","regionRef2","regionRef3"].forEach(function(e){a.push(new n.default(function(r){t.$refs[e]?t.$refs[e].validate(function(e){r(e)}):r(!0)}))}),n.default.all(a).then(function(t){r=_.every(t),e&&e(r)})},setOcrRes:function(e){var t=this;if(!(this.formModel.guarantorIdentityCard!=e.idcard||this.formModel.guarantorName!=e.name||this.formModel.censusRegisterAddress!=e.address))return!1;this.formModel.guarantorIdentityCard=e.idcard,this.formModel.guarantorName=e.name,this.formModel.guarantorCredentialType="1",this.formModel.censusRegisterAddress=e.address||"",this.$nextTick(function(){t.cacheData("guarantorPersonal"),t.todoRecount()})}},watch:{}}},sgIi:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",{staticClass:"margin-b-14"},[e._v("个人信息")]),e._v(" "),r("Form",{ref:"formModel",attrs:{model:e.formModel,rules:e.personalRule,"label-width":120}},[r("Row",[r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"申请人姓名",prop:"custName"}},[r("Input",{attrs:{name:"custName",disabled:"",placeholder:"请输入",v:"personal.custName"},model:{value:e.formModel.custName,callback:function(t){e.$set(e.formModel,"custName",t)},expression:"formModel.custName"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"证件类型",prop:"custCertificateType"}},[r("i-select",{attrs:{name:"custCertificateType",disabled:"",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"personal.custCertificateType")}},model:{value:e.formModel.custCertificateType,callback:function(t){e.$set(e.formModel,"custCertificateType",t)},expression:"formModel.custCertificateType"}},e._l(e.dp.certType,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"证件号码",prop:"custCertificateNo"}},[r("Input",{attrs:{name:"custCertificateNo",disabled:"",placeholder:"请输入",v:"personal.custCertificateNo"},model:{value:e.formModel.custCertificateNo,callback:function(t){e.$set(e.formModel,"custCertificateNo",t)},expression:"formModel.custCertificateNo"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"手机号码",prop:"custPhone"}},[r("Input",{attrs:{name:"custPhone",disabled:"",placeholder:"请输入",v:"personal.custPhone"},model:{value:e.formModel.custPhone,callback:function(t){e.$set(e.formModel,"custPhone",t)},expression:"formModel.custPhone"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"性别",prop:"custGender"}},[r("i-select",{attrs:{name:"custGender",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"personal.custGender")}},model:{value:e.formModel.custGender,callback:function(t){e.$set(e.formModel,"custGender",t)},expression:"formModel.custGender"}},e._l(e.dp.sex,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"婚姻状况",prop:"marriage"}},[r("i-select",{attrs:{name:"marriage",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"personal.marriage")}},model:{value:e.formModel.marriage,callback:function(t){e.$set(e.formModel,"marriage",t)},expression:"formModel.marriage"}},e._l(e.dp.marriage,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"申请人学历",prop:"custEducation"}},[r("i-select",{attrs:{name:"custEducation",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"personal.custEducation")}},model:{value:e.formModel.custEducation,callback:function(t){e.$set(e.formModel,"custEducation",t)},expression:"formModel.custEducation"}},e._l(e.dp.education,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"申请人学位",prop:"custDegree"}},[r("i-select",{attrs:{name:"custDegree",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"personal.custDegree")}},model:{value:e.formModel.custDegree,callback:function(t){e.$set(e.formModel,"custDegree",t)},expression:"formModel.custDegree"}},e._l(e.dp.degree,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"有无房产",prop:"hasEstate"}},[r("i-select",{attrs:{name:"hasEstate",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"personal.hasEstate")}},model:{value:e.formModel.hasEstate,callback:function(t){e.$set(e.formModel,"hasEstate",t)},expression:"formModel.hasEstate"}},e._l(e.dp.hasEstate,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"居住状况",prop:"livingStatus"}},[r("i-select",{attrs:{name:"livingStatus",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"personal.livingStatus")}},model:{value:e.formModel.livingStatus,callback:function(t){e.$set(e.formModel,"livingStatus",t)},expression:"formModel.livingStatus"}},e._l(e.dp.livingStatus,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"所属行业",prop:"industry"}},[r("i-select",{attrs:{name:"industry",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"personal.industry")}},model:{value:e.formModel.industry,callback:function(t){e.$set(e.formModel,"industry",t)},expression:"formModel.industry"}},e._l(e.dp.industry,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"税后年薪（万元）",prop:"annualSalaryAfterTax"}},[r("InputNumber",{attrs:{clearable:"",name:"annualSalaryAfterTax",placeholder:"请输入",v:"personal.annualSalaryAfterTax"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.annualSalaryAfterTax,callback:function(t){e.$set(e.formModel,"annualSalaryAfterTax",t)},expression:"formModel.annualSalaryAfterTax"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"申请人职业",prop:"custProfession"}},[r("i-select",{attrs:{name:"custProfession",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"personal.custProfession")}},model:{value:e.formModel.custProfession,callback:function(t){e.$set(e.formModel,"custProfession",t)},expression:"formModel.custProfession"}},e._l(e.dp.profession,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"申请人职务",prop:"custPosition"}},[r("i-select",{attrs:{name:"custPosition",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"personal.custPosition")}},model:{value:e.formModel.custPosition,callback:function(t){e.$set(e.formModel,"custPosition",t)},expression:"formModel.custPosition"}},e._l(e.dp.position,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"申请人职称",prop:"custTitle"}},[r("i-select",{attrs:{name:"custTitle",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"personal.custTitle")}},model:{value:e.formModel.custTitle,callback:function(t){e.$set(e.formModel,"custTitle",t)},expression:"formModel.custTitle"}},e._l(e.dp.title,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"企业性质",prop:"companyNature"}},[r("i-select",{attrs:{name:"companyNature",placeholder:"请选择"},on:{"on-change":function(t){e.handleChange(t,"personal.companyNature")}},model:{value:e.formModel.companyNature,callback:function(t){e.$set(e.formModel,"companyNature",t)},expression:"formModel.companyNature"}},e._l(e.dp.firmNature,function(t,n){return r("i-option",{key:t.dictCode,attrs:{value:t.dictCode}},[e._v("\n                            "+e._s(t.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"现居住地年限",prop:"currentResidenceYears"}},[r("Input",{attrs:{clearable:"",name:"currentResidenceYears",placeholder:"请输入",v:"personal.currentResidenceYears"},on:{"on-blur":e.handleBlur},model:{value:e.formModel.currentResidenceYears,callback:function(t){e.$set(e.formModel,"currentResidenceYears",t)},expression:"formModel.currentResidenceYears"}})],1)],1),e._v(" "),r("i-col",{attrs:{xs:24,sm:12,md:8}},[r("FormItem",{attrs:{label:"现居住地邮编",prop:"postalCode"}},[r("Input",{attrs:{clearable:"",name:"postalCode",placeholder:"请输入",v:"personal.postalCode"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.postalCode,callback:function(t){e.$set(e.formModel,"postalCode",t)},expression:"formModel.postalCode"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"单位名称",prop:"companyName"}},[r("Input",{attrs:{clearable:"",name:"companyName",placeholder:"请输入",v:"personal.companyName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.companyName,callback:function(t){e.$set(e.formModel,"companyName",t)},expression:"formModel.companyName"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"单位所在地"}},[r("region-picker",{ref:"regionRef1",attrs:{type:"3",regionlabel:"单位所在地"},on:{"on-change":function(t){return e.changeRegion("company","personal.company_Region")}},model:{value:e.formModel.company_Region,callback:function(t){e.$set(e.formModel,"company_Region",t)},expression:"formModel.company_Region"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"单位详细地址",prop:"companyAddress"}},[r("Input",{attrs:{placeholder:"请输入",clearable:"",v:"personal.companyAddress"},on:{"on-blur":e.handleBlur},model:{value:e.formModel.companyAddress,callback:function(t){e.$set(e.formModel,"companyAddress",t)},expression:"formModel.companyAddress"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"现居地"}},[r("region-picker",{ref:"regionRef2",attrs:{type:"3",regionlabel:"现居地"},on:{"on-change":function(t){return e.changeRegion("currentResidence","personal.currentResidence_Region")}},model:{value:e.formModel.currentResidence_Region,callback:function(t){e.$set(e.formModel,"currentResidence_Region",t)},expression:"formModel.currentResidence_Region"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"现居地详细地址",prop:"currentResidenceAddress"}},[r("Input",{attrs:{placeholder:"请输入",clearable:"",v:"personal.currentResidenceAddress"},on:{"on-blur":e.handleBlur},model:{value:e.formModel.currentResidenceAddress,callback:function(t){e.$set(e.formModel,"currentResidenceAddress",t)},expression:"formModel.currentResidenceAddress"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{staticClass:"hascol-form-item",attrs:{label:"户籍地"}},[r("region-picker",{ref:"regionRef3",attrs:{type:"3",regionlabel:"户籍地"},on:{"on-change":function(t){return e.changeRegion("censusRegister","personal.censusRegister_Region")}},model:{value:e.formModel.censusRegister_Region,callback:function(t){e.$set(e.formModel,"censusRegister_Region",t)},expression:"formModel.censusRegister_Region"}})],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{xs:24,sm:16}},[r("FormItem",{attrs:{label:"户籍地详细地址",prop:"censusRegisterAddress"}},[r("Input",{attrs:{placeholder:"请输入",clearable:"",v:"personal.censusRegisterAddress"},on:{"on-blur":e.handleBlur},model:{value:e.formModel.censusRegisterAddress,callback:function(t){e.$set(e.formModel,"censusRegisterAddress",t)},expression:"formModel.censusRegisterAddress"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};t.a=n},uXXL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("E3G1"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("PQaK"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},uZu1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.amountRequireValidator=void 0;var n=r("ZgZx"),a=r("VSB1");t.amountRequireValidator=function(e,t){return{validator:function(t,r,n){a.yx.isEmpty(r)?n(new Error(e+"不得为空")):/^((\d+\d*)|(\d+\d*\.\d{1,2}))$/.test(r)?n():n(new Error(e+"填写错误"))},trigger:"change"}};t.default={loanBasicRule:{businessType:[(0,n.required)("业务类型")],leaseType:[(0,n.required)("租赁属性")],repaymentMode:[(0,n.required)("还款方式")],repaymentFrequency:[(0,n.required)("还款频率")],financePeriod:[(0,n.required)("融资期限")],purchasePurpose:[(0,n.required)("购车目的")],carCommercialType:[(0,n.required)("车辆使用性质")],actualSellingPrice:[],isResourceCar:[(0,n.required)("是否资源车")],carType:[(0,n.required)("车辆类型")],mileage:[{validator:function(e,t,r){a.yx.isEmpty(t)?r(new Error("公里数不能为空")):/^([1-5]\d|\d)(\.\d{1,2})?$|^60(\.[0]{1,2})?$/.test(t)?0==(0,a.stringToNumber)(t)?r(new Error("公里数必须大于0！")):r():r(new Error("公里数只能输入0 - 60"))},trigger:"change"}],carEstimatedPrice:[],vinNum:[(0,n.required)("车架号（VIN码）"),{validator:n.validators.isVehicleVin,trigger:"change"}],productionDate:[],initialDate:[],provinceCode:[(0,n.required)("")],cityCode:[(0,n.required)("")],licenseSequence:[(0,n.required)(""),{validator:n.validators.licenseSequence,trigger:"change"}],carEvaluationAgency:[(0,n.required)("二手车评估机构")],isReverseMortgage:[(0,n.required)("是否反贷")],carInvoiceDate:[{validator:function(e,t,r){""==t?r(new Error("车辆开票日期不能为空")):"[object Date]"==Object.prototype.toString.call(t)||"string"==typeof t?r():r(new Error("车辆开票日期格式不对"))},trigger:"change"}],carTransferDate:[{validator:function(e,t,r){""==t?r(new Error("车辆过户完成日期不能为空")):"[object Date]"==Object.prototype.toString.call(t)||"string"==typeof t?r():r(new Error("车辆过户完成日期格式不对"))},trigger:"change"}],plate_Region:[n.validators.regionValidator("预计上牌",2)],custPrimaryChannel:[(0,n.required)("客户一级渠道")],transferTimes:[{validator:function(e,t,r){a.yx.isEmpty(t)?r(new Error("车辆过户次数不能为空")):/^([1-9]\d|\d)$|^100$/.test(t)?r():r(new Error("车辆过户次数只能输入0 - 100"))},trigger:"change"}],compulsoryInsuranceExpiryDate:[{validator:function(e,t,r){""==t?r(new Error("交强险失效日不能为空")):"[object Date]"==Object.prototype.toString.call(t)||"string"==typeof t?r():r(new Error("交强险失效日格式不对"))},trigger:"change"}]},loanInsuranceRule:{isFinanceInsurance:[(0,n.required)("是否融保险")],insuranceChannel:[(0,n.required)("保险出单地")],insuranceMode:[(0,n.required)("商业险出单方式")],itemRule:{insuranceKind:[{type:"array",required:!0,message:"险种不能为空",trigger:"change"}],insuranceAmount:[{required:!0,type:"number",message:"融资额不能为空",trigger:"change"}]}},loanGpsRule:{custPrimaryChannel:[(0,n.required)("客户一级渠道")],gpsSupplier:[(0,n.required)("GPS厂商")],gpsPriceType:[(0,n.required)("GPS价格类型")],gpsBasePrice:[{required:!0,type:"number",message:"GPS基础价金额不能为空",trigger:"change"}],gpsIncreasePrice:[{required:!0,type:"number",message:"GPS加价金额不能为空",trigger:"change"}],increaseFinanceType:[(0,n.required)("GPS加价放款类型")]},loanTheftRule:{buyTheftInsurance:[(0,n.required)("是否融盗抢责任险")],increaseFinancePeriod:[(0,n.required)("盗抢责任险加融期限")],increasePriceType:[(0,n.required)("盗抢责任险加价类型")],isGift:[(0,n.required)("是否赠送")]},loanOtherRule:{financeSelected:[(0,n.required)("融资项档次")],financeAmount:[{required:!0,type:"number",message:"融资项金额不能为空",trigger:"change"}]},feeDiscountInfoRule:{},loanTiexiRule:{isDiscount:[(0,n.required)("是否贴息")]},loanDepositRule:{marginType:[(0,n.required)("保证金设定")],marginAmount:[],isOffset:[(0,n.required)("保证金是否冲抵")]},loanCalcRule:{}}},v7Zi:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("ao0m"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("wAck"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},v8v7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("2s5e"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("MJFL"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports},wAck:function(e,t,r){"use strict";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"insurance-drop-panel"},[r("div",{staticClass:"insurance-drop-header",on:{click:e.handleCheckAll}},[r("Checkbox",{attrs:{indeterminate:e.indeterminate,value:e.checkAll}}),e._v(" "),r("span",{staticClass:"insurance-drop-alltext"},[e._v("全选")])],1),e._v(" "),r("CheckboxGroup",{staticStyle:{height:"128px",overflow:"auto"},on:{"on-change":e.checkAllGroupChange},model:{value:e.checkAllGroup,callback:function(t){e.checkAllGroup=t},expression:"checkAllGroup"}},e._l(e.insTypesDict,function(t,n){return r("label",{key:n,staticClass:"ivu-select-item",staticStyle:{display:"block"}},[r("Checkbox",{attrs:{label:t.dictCode}},[e._v(e._s(t.dictName))])],1)}),0)],1)},staticRenderFns:[]};t.a=n},wWME:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r("VfUO"),o=(n=a)&&n.__esModule?n:{default:n},i=r("VSB1");r("ZgZx");t.default={name:"marginInfo",mixins:[o.default],props:{},components:{},data:function(){return{isFixedAmount:!1,isFixedRatio:!1,isEditable:!1,marginMethod:0,DICT_marginIsOffset:[]}},computed:{marginAmountDisabled:function(){if("3"!=this.marginMethod)return!0;var e=this.marginInfo.marginAmount,t=this.marginInfo.marginProportion;return(""===e||null===e)&&!(""===t||null===t)},marginPctDisabled:function(){if("3"!=this.marginMethod)return!0;var e=this.marginInfo.marginAmount,t=this.marginInfo.marginProportion;return!(""===e||null===e||""!==t&&null!==t)}},mounted:function(){var e=this;this.queryDictData(["whether"]),"1"==this.baseInfo.hasMargin&&this.queryInitData("marginInfo",function(){e.marginMethod=i.yx.getMarginMethod(e.marginInfo.marginType),e.isFixedAmount="1"==e.marginMethod,e.isFixedRatio="2"==e.marginMethod,e.isEditable="3"==e.marginMethod,e.DICT_marginIsOffset=e.dp.whether,"1"!=e.marginMethod&&"2"!=e.marginMethod||""===e.sellingAmount||e.updateMarginCalc(),e.$nextTick(function(){e.todoRecount()})})},methods:{createMarginAmountRule:function(){var e=this;return[{validator:function(t,r,n){var a=r,o=e.marginInfo.marginProportion;"3"==e.marginMethod&&i.yx.isEmpty(a)&&i.yx.isEmpty(o)?n(new Error("保证金金额和保证金比例必须填一项")):"2"!=e.marginMethod&&"3"!=e.marginMethod||i.yx.isEmpty(o)||!i.yx.isEmpty(a)?i.yx.amountReg.test(r)?n():n(new Error("保证金金额格式不对")):n()},trigger:"change"}]},createMarginRatioRule:function(){var e=this;return[{validator:function(t,r,n){var a=e.marginInfo.marginAmount,o=r;"3"==e.marginMethod&&i.yx.isEmpty(a)&&i.yx.isEmpty(o)?n(new Error("保证金金额和保证金比例必须填一项")):"1"!=e.marginMethod&&"3"!=e.marginMethod||i.yx.isEmpty(a)||!i.yx.isEmpty(o)?i.yx.pctReg.test(r)?n():n(new Error("保证金比例只能输入0 - 100")):n()},trigger:"change"}]},updateMarginCalc:function(e){if(e&&this.isEditable||this.isFixedAmount){var t=(0,i.stringToNumber)(this.marginInfo.marginAmount||0);if(0==t||0==this.sellingAmount)return void(this.marginInfo.marginProportion=0);var r=(0,i.floatDiv)((0,i.floatMul)(t,100),this.sellingAmount);this.marginInfo.marginProportion=(0,i.stringToNumber)(r.toFixed(2)),this.$refs.marginInfo&&this.$refs.marginInfo.validateField("marginProportion")}else if(this.isEditable||this.isFixedRatio){var n=(0,i.stringToNumber)(this.marginInfo.marginProportion||0);if(0==n||0==this.sellingAmount)return void(this.marginInfo.marginAmount=0);var a=(0,i.floatMul)((0,i.floatDiv)(n,100),this.sellingAmount);this.marginInfo.marginAmount=(0,i.stringToNumber)(a.toFixed(2)),this.$refs.marginInfo&&this.$refs.marginInfo.validateField("marginAmount")}},handleBlur:function(e){var t=this,r=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v");"marginInfo.marginAmount"==r&&this.updateMarginCalc(!0),this.isEditable&&"marginInfo.marginProportion"==r&&this.updateMarginCalc(),this.$nextTick(function(){t.cacheData("marginInfo"),t.todoRecount()})},handleChange:function(e,t){var r=this;this.$nextTick(function(){r.cacheData("marginInfo"),r.todoRecount()})},validate:function(e){this.$refs.marginInfo?this.$refs.marginInfo.validate(function(t){e&&e(t)}):e&&e(!0)}}}},"yUk/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("lGfW"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r("nYYZ"),s=r("C7Lr")(a.a,i.a,!1,null,null,null);t.default=s.exports}});
//# sourceMappingURL=1.8be10755500802a17cc8.js.map