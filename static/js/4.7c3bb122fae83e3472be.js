webpackJsonp([4],{"3zeM":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=s(t("rVsN")),a=s(t("Vr9E")),n=s(t("c71f")),i=t("VSB1");function s(e){return e&&e.__esModule?e:{default:e}}r.default={name:"orderContactorForm",mixins:[a.default],props:{},components:{},data:function(){return{contactorRule:n.default.contactorRule}},computed:{contactorArr:function(){return this.orderData.cust.contactor},relationShipRule:function(){var e=this;return[{validator:function(r,t,o){var a=e.contactorArr[0],n=e.contactorArr[1];i.yx.isEmpty(t)?o(new Error("与申请人关系不能为空")):i.yx.isEmpty(a.contactRelationship)||i.yx.isEmpty(n.contactRelationship)||a.contactRelationship!==n.contactRelationship?o():o(new Error("联系人关系不能相同"))},trigger:"change"}]}},mounted:function(){var e=this;this.queryDictData(["relationship"]),this.$nextTick(function(){e.todoRecount()})},methods:{validate:function(e){var r=this,t=[];["contactor0","contactor1"].forEach(function(e){t.push(new o.default(function(t){r.$refs[e]?r.$refs[e][0].validate(function(e){t(e)}):t(!0)}))}),o.default.all(t).then(function(r){var t=_.every(r);e&&e(t)})},handleBlur:function(e){var r=this,t=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v");if(!this.checkFieldIsChange(t))return!1;this.$nextTick(function(){r.cacheData("contactor"),r.todoRecount()})},handleChange:function(e,r){var t=this;if(!this.checkFieldIsChange(r))return!1;this.$nextTick(function(){"contactor.0.contactRelationship"!=r||i.yx.isEmpty(t.contactorArr[1].contactRelationship)||t.$refs.contactor1[0].validateField("contactRelationship"),"contactor.1.contactRelationship"!=r||i.yx.isEmpty(t.contactorArr[0].contactRelationship)||t.$refs.contactor0[0].validateField("contactRelationship"),t.cacheData("contactor"),t.todoRecount()})}},watch:{}}},"4BGY":function(e,r,t){"use strict";var o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"apply-client-module"},[e.personal&&!e.isQy?t("order-personal-form",{ref:"personalForm",staticClass:"cm-panel"}):e._e(),e._v(" "),e.enterprise&&e.isQy?t("order-enterprise-form",{ref:"enterpriseForm",staticClass:"cm-panel",attrs:{tokenInited:e.tokenInited}}):e._e(),e._v(" "),e.relative&&!e.isQy?t("order-relative-form",{ref:"relativeForm",staticClass:"cm-panel"}):e._e(),e._v(" "),e.contactor&&e.contactor.length?t("order-contactor-form",{ref:"contactorForm"}):e._e(),e._v(" "),0==e.guarantorPersonal.length&&0==e.guarantorEnterprise.length?t("div",{staticClass:"cm-panel"},[t("h3",{staticClass:"margin-b-14"},[e._v("担保人 "),e.isQy?e._e():t("span",[e._v("(选填)")])]),e._v(" "),t("div",{staticClass:"font0",staticStyle:{"margin-bottom":"-10px"}},[t("Button",{attrs:{type:"primary",ghost:"","custom-icon":"iconfont icon-add"},on:{click:function(r){return e.addBondsman("1")}}},[e._v("添加个人担保人")]),e._v(" "),t("Button",{attrs:{type:"primary",ghost:"","custom-icon":"iconfont icon-add"},on:{click:function(r){return e.addBondsman("2")}}},[e._v("添加企业担保人")])],1)]):e._e(),e._v(" "),e._l(e.guarantorPersonal,function(r,o){return t("div",{staticClass:"cm-panel"},[t("order-guarantor-personal-form",{ref:"guarantorPersonal"+o,refInFor:!0,attrs:{type:"1",index:o},on:{"on-delete":function(r){return e.deleteBondsman("1",o)}}})],1)}),e._v(" "),e._l(e.guarantorEnterprise,function(r,o){return t("div",{staticClass:"cm-panel"},[t("order-guarantor-enterprise-form",{ref:"guarantorEnterprise"+o,refInFor:!0,attrs:{index:o},on:{"on-delete":function(r){return e.deleteBondsman("2",o)}}})],1)})],2)},staticRenderFns:[]};r.a=o},"9Ueq":function(e,r,t){"use strict";var o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("h3",{staticClass:"margin-b-14"},[e._v("企业信息\n        "),t("ocr-button",{attrs:{itemid:"applicantBusinessLicence",ocrtype:"2"},on:{"on-ocr-result":e.setOcrRes}},[e._v("上传营业执照部分免填写\n        ")]),e._v(" "),t("ocr-button",{attrs:{itemid:"applicantOrderIdPositive",ocrtype:"1"},on:{"on-ocr-result":e.setOcrRes}},[e._v("\n            上传申请人身份证部分免填写\n        ")])],1),e._v(" "),t("Form",{ref:"formModel",attrs:{model:e.formModel,rules:e.enterpriseRule,"label-width":120}},[t("Row",[t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"订单申请类型",prop:"orderApplicationType"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择",v:"enterprise.orderApplicationType"},on:{"on-change":function(r){e.handleChange(r,"enterprise.orderApplicationType")}},model:{value:e.formModel.orderApplicationType,callback:function(r){e.$set(e.formModel,"orderApplicationType",r)},expression:"formModel.orderApplicationType"}},e._l(e.dp.applyType,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"企业名称",prop:"enterpriseName"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.enterpriseName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseName,callback:function(r){e.$set(e.formModel,"enterpriseName",r)},expression:"formModel.enterpriseName"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"统一社会信用代码",prop:"unifiedSocialCreditCode"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.unifiedSocialCreditCode"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.unifiedSocialCreditCode,callback:function(r){e.$set(e.formModel,"unifiedSocialCreditCode",r)},expression:"formModel.unifiedSocialCreditCode"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"组织机构代码",prop:"organizationCode"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.organizationCode"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.organizationCode,callback:function(r){e.$set(e.formModel,"organizationCode",r)},expression:"formModel.organizationCode"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"组织机构类别",prop:"organizationCategory"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"enterprise.organizationCategory")}},model:{value:e.formModel.organizationCategory,callback:function(r){e.$set(e.formModel,"organizationCategory",r)},expression:"formModel.organizationCategory"}},e._l(e.DICT_orgType,function(r,o){return t("i-option",{key:r.value,attrs:{value:r.value}},[e._v("\n                            "+e._s(r.name)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"组织机构类别细分",prop:"organizationCategoryDetail"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择",disabled:!e.formModel.organizationCategory},on:{"on-change":function(r){e.handleChange(r,"enterprise.organizationCategoryDetail")}},model:{value:e.formModel.organizationCategoryDetail,callback:function(r){e.$set(e.formModel,"organizationCategoryDetail",r)},expression:"formModel.organizationCategoryDetail"}},e._l(e.orgList.filter(function(r){return r.parent==e.formModel.organizationCategory}),function(r,o){return t("i-option",{key:r.value,attrs:{value:r.value}},[e._v("\n                            "+e._s(r.name)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"纳税人识别号",prop:"taxpayerIdentificationNum"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.taxpayerIdentificationNum"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.taxpayerIdentificationNum,callback:function(r){e.$set(e.formModel,"taxpayerIdentificationNum",r)},expression:"formModel.taxpayerIdentificationNum"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"中征码",prop:"eigenCode",rules:e.eigenCodeRule}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.eigenCode",disabled:"2"!=e.formModel.orderApplicationType},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.eigenCode,callback:function(r){e.$set(e.formModel,"eigenCode",r)},expression:"formModel.eigenCode"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"国别",prop:"country"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"enterprise.country")}},model:{value:e.formModel.country,callback:function(r){e.$set(e.formModel,"country",r)},expression:"formModel.country"}},e._l(e.dp.country,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("Form-item",{attrs:{label:"是否事业单位",prop:"isInstitution"}},[t("RadioGroup",{on:{"on-change":function(r){e.handleChange(r,"enterprise.isInstitution")}},model:{value:e.formModel.isInstitution,callback:function(r){e.$set(e.formModel,"isInstitution",r)},expression:"formModel.isInstitution"}},e._l(e.dp.whether,function(r,o){return t("Radio",{key:r.dictCode,attrs:{label:r.dictCode}},[t("span",[e._v(e._s(r.dictName))])])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"成立日期",prop:"establishDate"}},[t("DatePicker",{attrs:{type:"date",options:e.currentDateOptions,editable:!1,placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"enterprise.establishDate")}},model:{value:e.formModel.establishDate,callback:function(r){e.$set(e.formModel,"establishDate",r)},expression:"formModel.establishDate"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"企业规模",prop:"enterpriseScale"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"enterprise.enterpriseScale")}},model:{value:e.formModel.enterpriseScale,callback:function(r){e.$set(e.formModel,"enterpriseScale",r)},expression:"formModel.enterpriseScale"}},e._l(e.dp.firmScale,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"证书是否长期",prop:"isLongCertificate"}},[t("RadioGroup",{on:{"on-change":function(r){e.handleChange(r,"enterprise.isLongCertificate")}},model:{value:e.formModel.isLongCertificate,callback:function(r){e.$set(e.formModel,"isLongCertificate",r)},expression:"formModel.isLongCertificate"}},e._l(e.dp.whether,function(r,o){return t("Radio",{key:r.dictCode,attrs:{label:r.dictCode}},[t("span",[e._v(e._s(r.dictName))])])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"证书到期日期",prop:"certificateExpiryDate",rules:e.certificateExpiryDateRule}},[t("DatePicker",{attrs:{type:"date",editable:!1,placeholder:"请选择",disabled:"1"==e.formModel.isLongCertificate},on:{"on-change":function(r){e.handleChange(r,"enterprise.certificateExpiryDate")}},model:{value:e.formModel.certificateExpiryDate,callback:function(r){e.$set(e.formModel,"certificateExpiryDate",r)},expression:"formModel.certificateExpiryDate"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"机构状态",prop:"organizationStatus"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"enterprise.organizationStatus")}},model:{value:e.formModel.organizationStatus,callback:function(r){e.$set(e.formModel,"organizationStatus",r)},expression:"formModel.organizationStatus"}},e._l(e.dp.orgStatus,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"注册资本币种",prop:"registeredCapitalCurrency"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"enterprise.registeredCapitalCurrency")}},model:{value:e.formModel.registeredCapitalCurrency,callback:function(r){e.$set(e.formModel,"registeredCapitalCurrency",r)},expression:"formModel.registeredCapitalCurrency"}},e._l(e.dp.currency,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"注册资本(万)",prop:"registeredCapital"}},[t("InputNumber",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.registeredCapital"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.registeredCapital,callback:function(r){e.$set(e.formModel,"registeredCapital",r)},expression:"formModel.registeredCapital"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"经济类型",prop:"economicType"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"enterprise.economicType")}},model:{value:e.formModel.economicType,callback:function(r){e.$set(e.formModel,"economicType",r)},expression:"formModel.economicType"}},e._l(e.dp.economicType,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"经济行业大类",prop:"economicIndustryLargeClass"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"enterprise.economicIndustryLargeClass")}},model:{value:e.formModel.economicIndustryLargeClass,callback:function(r){e.$set(e.formModel,"economicIndustryLargeClass",r)},expression:"formModel.economicIndustryLargeClass"}},e._l(e.dp.industryLageClass,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"经济行业小类",prop:"economicIndustrySmallClass"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择",disabled:!e.formModel.economicIndustryLargeClass},on:{"on-change":function(r){e.handleChange(r,"enterprise.economicIndustrySmallClass")}},model:{value:e.formModel.economicIndustrySmallClass,callback:function(r){e.$set(e.formModel,"economicIndustrySmallClass",r)},expression:"formModel.economicIndustrySmallClass"}},e._l(e.dp.industrySmallClass,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{staticClass:"hascol-form-item",attrs:{label:"企业注册地省市区"}},[t("region-picker",{ref:"regionRef1",attrs:{type:"3",regionlabel:"企业注册地"},on:{"on-change":function(r){return e.changeRegion("enterpriseRegistration","enterprise.enterpriseRegistration_Region")}},model:{value:e.formModel.enterpriseRegistration_Region,callback:function(r){e.$set(e.formModel,"enterpriseRegistration_Region",r)},expression:"formModel.enterpriseRegistration_Region"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"企业注册地详细地址",prop:"enterpriseRegistrationAddress"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.enterpriseRegistrationAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseRegistrationAddress,callback:function(r){e.$set(e.formModel,"enterpriseRegistrationAddress",r)},expression:"formModel.enterpriseRegistrationAddress"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{staticClass:"hascol-form-item",attrs:{label:"企业经营地省市区"}},[t("region-picker",{ref:"regionRef2",attrs:{type:"3",regionlabel:"企业经营地"},on:{"on-change":function(r){return e.changeRegion("enterpriseManagement","enterprise.enterpriseManagement_Region")}},model:{value:e.formModel.enterpriseManagement_Region,callback:function(r){e.$set(e.formModel,"enterpriseManagement_Region",r)},expression:"formModel.enterpriseManagement_Region"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"企业经营地详细地址",prop:"enterpriseManagementAddress"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.enterpriseManagementAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseManagementAddress,callback:function(r){e.$set(e.formModel,"enterpriseManagementAddress",r)},expression:"formModel.enterpriseManagementAddress"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:24,md:24}},[t("FormItem",{attrs:{label:"经营（业务）范围",prop:"enterpriseBusinessScope"}},[t("Input",{attrs:{clearable:"",type:"textarea",rows:2,placeholder:"请输入",v:"enterprise.enterpriseBusinessScope"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseBusinessScope,callback:function(r){e.$set(e.formModel,"enterpriseBusinessScope",r)},expression:"formModel.enterpriseBusinessScope"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"法人姓名",prop:"corporationName"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.corporationName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationName,callback:function(r){e.$set(e.formModel,"corporationName",r)},expression:"formModel.corporationName"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"法人证件类型",prop:"corporationCertificateType"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"enterprise.corporationCertificateType")}},model:{value:e.formModel.corporationCertificateType,callback:function(r){e.$set(e.formModel,"corporationCertificateType",r)},expression:"formModel.corporationCertificateType"}},e._l(e.dp.frCertType,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"法人证件号码",prop:"corporationCertificateNo",rules:e.createCertNoRule()}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.corporationCertificateNo"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationCertificateNo,callback:function(r){e.$set(e.formModel,"corporationCertificateNo",r)},expression:"formModel.corporationCertificateNo"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"法人手机号",prop:"corporationPhone"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.corporationPhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationPhone,callback:function(r){e.$set(e.formModel,"corporationPhone",r)},expression:"formModel.corporationPhone"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"法人持股比例(%)",prop:"corporationShareholdingRatio"}},[t("InputNumber",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.corporationShareholdingRatio"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationShareholdingRatio,callback:function(r){e.$set(e.formModel,"corporationShareholdingRatio",r)},expression:"formModel.corporationShareholdingRatio"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"企业联系人电话",prop:"enterpriseContactPhone"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"enterprise.enterpriseContactPhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseContactPhone,callback:function(r){e.$set(e.formModel,"enterpriseContactPhone",r)},expression:"formModel.enterpriseContactPhone"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};r.a=o},"9hoD":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("nE5A"),a=t.n(o);for(var n in o)"default"!==n&&function(e){t.d(r,e,function(){return o[e]})}(n);var i=t("4BGY"),s=t("C7Lr")(a.a,i.a,!1,null,null,null);r.default=s.exports},Jkb2:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("N1c+"),a=t.n(o);for(var n in o)"default"!==n&&function(e){t.d(r,e,function(){return o[e]})}(n);var i=t("sgIi"),s=t("C7Lr")(a.a,i.a,!1,null,null,null);r.default=s.exports},Jwfh:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=s(t("4YfN")),a=t("R4Sj"),n=s(t("JyLo")),i=t("VSB1");function s(e){return e&&e.__esModule?e:{default:e}}r.default={name:"ocrButton",mixins:[],props:{itemid:"",ocrtype:{default:"1"}},data:function(){return{inited:!1,hasUpload:!0,thumbnailUrl:"",targetObj:{},orderNo:this.$route.params.orderNo,account:this.$store.state.app.userInfo.userAccount,userName:this.$store.state.app.userInfo.userName,title:"",COS:void 0}},computed:(0,o.default)({},(0,a.mapState)("apply",["ORDER_COS"])),mounted:function(){if(!(this.itemid&&this.ocrtype&&this.account&&this.orderNo&&n.default))return this.$Message.error("必要参数不全，无法上传附件并识别"),!1},methods:(0,o.default)({},(0,a.mapMutations)("app",["showLoading","hideLoading"]),{errorModal:function(e,r,t){var o={title:"提示",okText:t||"确 定",content:e};r&&(o.onOk=r),this.$Modal.error(o)},selectFile:function(){if(!this.ORDER_COS)return this.$Message.error("附件上传参数未获取成功，请稍候再试");this.$refs.uploadInput.value="",this.$refs.uploadInput.click()},changeImage:function(e){var r=this,t=e.target.files;if(t&&t.length){this.$set(this.targetObj,"flag",this.ocrtype);var o=t[0],a="2"==this.ocrType?786432:2359296;i.yx.optim(o,a,function(e){if(e.size>a)return r.errorModal("文件大小超过允许上传的最大值，请重新选择！");r.uploadFiles(e)})}},uploadFiles:function(e){var r=this,t=e.name.lastIndexOf("."),o="";t>0&&(o=e.name.substring(t+1).toLowerCase());var a=this.ORDER_COS.sha256.create(),n=e.name+(new Date).getTime();a.update(n);var i=a.hex()+"."+o;this.showLoading(),this.ORDER_COS.cos.sliceUploadFile({Bucket:this.ORDER_COS.options.Bucket,Region:this.ORDER_COS.options.Region,Key:this.ORDER_COS.options.remotePath+i,Body:e},function(t,a){console.log("err",t),r.hideLoading(),null==t?a&&200==a.statusCode&&(r.$set(r.targetObj,"ext",o),r.$set(r.targetObj,"itemID",r.itemid),r.$set(r.targetObj,"title",r.ORDER_COS.items[r.itemid]),r.$set(r.targetObj,"name",i),r.$set(r.targetObj,"remoteKey",r.ORDER_COS.options.remotePath+i),r.ORDER_COS.saveItemToYun(r.targetObj,function(t){if(!t)return r.errorModal("文件同步云盘失败"),!1;var o=t.items[0];if(o.files&&o.files.length){var a=o.files[0].previewUrl;if(r.$set(r.targetObj,"qcloudUrl",a),a)if("2"==r.ocrtype){var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){r.$set(r.targetObj,"ocrUrl",n.result),r.todoOcr()}}else r.$set(r.targetObj,"ocrUrl",a),r.todoOcr();else r.$set(r.targetObj,"error",!0),r.errorModal("获取上传后图片地址失败")}else r.targetObj.error=!0,r.errorModal("获取上传后文件数据失败")})):r.errorModal("上传文件到腾讯云出错："+t.statusCode+" "+t.error.Message)})},todoOcr:function(){var e=this,r=this.targetObj,t=void 0,o=void 0;"2"==this.ocrtype?(t=polarisserver+"/riskControl/scan",o={type:8,format:r.ext,image:this.targetObj.ocrUrl.split(",")[1],uid:"Polaris",orderid:this.orderNo}):(t=polarisserver+"/credit/scanIdCard",o={sysId:"2",cardType:"0",idcardUrlStr:this.targetObj.ocrUrl}),this.showLoading(),this.$http.post(t,o).then(function(r){e.hideLoading();var t=r.data;if(!t.success)return e.errorModal(t.errorMessage||"识别失败，请重新上传!");var o=t.data;if(!o)return e.errorModal("识别失败，请重新上传!");o.flag=e.ocrtype,e.$emit("on-ocr-result",o)}).catch(function(r){e.hideLoading(),e.errorCatchModal("图片识别请求出错：",r)})}})}},M5ii:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("qAG1"),a=t.n(o);for(var n in o)"default"!==n&&function(e){t.d(r,e,function(){return o[e]})}(n);var i=t("SBJd"),s=t("C7Lr")(a.a,i.a,!1,null,null,null);r.default=s.exports},"N1c+":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=i(t("rVsN")),a=i(t("Vr9E")),n=i(t("c71f"));function i(e){return e&&e.__esModule?e:{default:e}}r.default={name:"orderPersonalForm",mixins:[a.default],props:{},components:{},data:function(){return{personalRule:n.default.personalRule}},computed:{formModel:function(){return this.orderData.cust.personal}},created:function(){},mounted:function(){var e=this;this.queryDictData(["certType","sex","marriage","education","degree","hasEstate","livingStatus","industry","profession","position","title","firmNature"]),this.$nextTick(function(){e.todoRecount()})},methods:{validate:function(e){var r=this,t=!0,a=[];["formModel","regionRef1","regionRef2","regionRef3"].forEach(function(e){a.push(new o.default(function(t){r.$refs[e]?r.$refs[e].validate(function(e){t(e)}):t(!0)}))}),o.default.all(a).then(function(r){t=_.every(r),e&&e(t)})},handleBlur:function(e){var r=this,t=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v");if(!this.checkFieldIsChange(t))return!1;this.$nextTick(function(){r.cacheData("personal"),r.todoRecount()})},handleChange:function(e,r,t){var o=this;if(!this.checkFieldIsChange(r)&&!t)return!1;this.$nextTick(function(){o.cacheData("personal"),o.todoRecount()})},changeRegion:function(e,r){this.setChangeRegion({module:"personal",field:e}),this.handleChange(e,r,!0)}},watch:{}}},OoiP:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("qyku"),a=t.n(o);for(var n in o)"default"!==n&&function(e){t.d(r,e,function(){return o[e]})}(n);var i=t("ldIv"),s=t("C7Lr")(a.a,i.a,!1,null,null,null);r.default=s.exports},SBJd:function(e,r,t){"use strict";var o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("h3",{staticClass:"margin-b-14"},[e._v("亲属信息\n        "),t("ocr-button",{attrs:{itemid:"consortIDPositive",ocrtype:"1"},on:{"on-ocr-result":e.setOcrRes}},[e._v("上传身份证部分免填写\n        ")])],1),e._v(" "),t("Form",{ref:"formModel",attrs:{model:e.formModel,rules:e.relativeRule,"label-width":120}},[t("Row",[t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"与申请人关系",prop:"relativeType"}},[t("i-select",{attrs:{placeholder:"请选择",disabled:e.shipDisabled},on:{"on-change":function(r){e.handleChange(r,"relative.relativeType")}},model:{value:e.formModel.relativeType,callback:function(r){e.$set(e.formModel,"relativeType",r)},expression:"formModel.relativeType"}},e._l(e.DICT_relativeship,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"姓名",prop:"relativeName"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"relative.relativeName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.relativeName,callback:function(r){e.$set(e.formModel,"relativeName",r)},expression:"formModel.relativeName"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"证件类型",prop:"relativeCertificateType"}},[t("i-select",{attrs:{placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"relative.relativeCertificateType")}},model:{value:e.formModel.relativeCertificateType,callback:function(r){e.$set(e.formModel,"relativeCertificateType",r)},expression:"formModel.relativeCertificateType"}},e._l(e.dp.certType,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"证件号码",prop:"relativeCertificateNo",rules:e.createCertNoRule()}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"relative.relativeCertificateNo"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.relativeCertificateNo,callback:function(r){e.$set(e.formModel,"relativeCertificateNo",r)},expression:"formModel.relativeCertificateNo"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"手机号",prop:"relativePhone"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"relative.relativePhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.relativePhone,callback:function(r){e.$set(e.formModel,"relativePhone",r)},expression:"formModel.relativePhone"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"税后年薪（万元）",prop:"relativeAnnualSalaryAfterTax"}},[t("InputNumber",{attrs:{clearable:"",placeholder:"请输入",v:"relative.relativeAnnualSalaryAfterTax"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.relativeAnnualSalaryAfterTax,callback:function(r){e.$set(e.formModel,"relativeAnnualSalaryAfterTax",r)},expression:"formModel.relativeAnnualSalaryAfterTax"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"单位名称",prop:"relativeCompanyName"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"relative.relativeCompanyName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.relativeCompanyName,callback:function(r){e.$set(e.formModel,"relativeCompanyName",r)},expression:"formModel.relativeCompanyName"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{staticClass:"hascol-form-item",attrs:{label:"单位所在地省市区"}},[t("region-picker",{ref:"regionRef1",attrs:{type:"3",regionlabel:"单位所在地"},on:{"on-change":function(r){return e.changeRegion("relativeCompany","relative.relativeCompany_Region")}},model:{value:e.formModel.relativeCompany_Region,callback:function(r){e.$set(e.formModel,"relativeCompany_Region",r)},expression:"formModel.relativeCompany_Region"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"单位详细地址",prop:"relativeCompanyAddress"}},[t("Input",{attrs:{placeholder:"请输入",clearable:"",v:"relative.relativeCompanyAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.relativeCompanyAddress,callback:function(r){e.$set(e.formModel,"relativeCompanyAddress",r)},expression:"formModel.relativeCompanyAddress"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};r.a=o},Vr9E:function(e,r,t){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0});var o=g(t("lC5x")),a=g(t("J0Oq")),n=g(t("aA9S")),i=g(t("3cXf")),s=g(t("hRKE")),l=g(t("4YfN")),d=t("R4Sj"),c=g(t("/qSb")),u=g(t("hndz")),p=g(t("afUM")),m=t("lU5e"),f=g(t("c71f")),h=t("VSB1");function g(e){return e&&e.__esModule?e:{default:e}}r.default={directives:{},components:{regionPicker:c.default,ocrButton:u.default},data:function(){return{DICT_gcertType:[],rules:f.default,personal:void 0,relative:void 0,contactor:void 0,enterprise:void 0,e_applier:void 0,e_license:void 0,guarantorPersonal:[],guarantorEnterprise:[],errors:[],orderNo:this.$route.params.orderNo,isQy:h.yx.isQy(this.$route.params.customerType),account:this.$store.state.app.userInfo.userAccount,userName:this.$store.state.app.userInfo.userName}},computed:(0,l.default)({},(0,d.mapState)("apply",["orderData","orderTabs","ORDER_COS"]),(0,d.mapState)({dp:function(e){return e.dict.dict}})),mounted:function(){var e=this;this.queryDictData(["certType"]).then(function(r){e.DICT_gcertType=r.certType.filter(function(e){return"1"==e.dictCode})})},methods:(0,l.default)({},(0,d.mapMutations)("apply",["SET_ORDER_COS","setCustData","setOrderCustTabSaved","setChangeRegion","setOrderModuleNumber","setOrderModuleError"]),(0,d.mapMutations)("app",["showLoading","hideLoading"]),(0,d.mapActions)("dict",["queryDictData"]),{errorModal:function(e,r,t){var o="";e.split(";").forEach(function(e){e&&(o+=o?"；<br>"+e:e)});var a={title:"提示",okText:t||"确 定",content:o};r&&(a.onOk=r),this.$Modal.error(a)},todoRecount:function(){var r=this;this.updateClientFieldsNumber(),this.$nextTick(function(){var t=e(".apply-client-module .ivu-form-item-error").length;r.hasError=t>0,r.setOrderModuleError({index:0,hasError:r.hasError})})},updateClientFieldsNumber:function(){var e=(0,m.getCustFieldNum)(this.orderData.cust,this.isQy);this.setOrderModuleNumber({index:0,data:e})},addOrderGuarantorPersonal:function(){this.guarantorPersonal.push(p.default.transSingleGuarantorPersonalToForm())},addOrderGuarantorEnterprise:function(){this.guarantorEnterprise.push(p.default.transSingleGuarantorEnterpriseToForm())},getHandleFieldValue:function(e,r){if("object"==(void 0===e?"undefined":(0,s.default)(e))&&r){var t=r.split("."),o=e;for(var a in t)if("object"==(void 0===o?"undefined":(0,s.default)(o))){var n=t[a];_.isArray(o)&&(n=(0,h.stringToNumber)(n)),o=o[n]}return o}},checkFieldIsChange:function(e){var r=this.orderData.cust,t=JSON.parse(sessionStorage.getItem("cust")||"{}"),o=this.getHandleFieldValue(r,e),a=this.getHandleFieldValue(t,e);return(o="object"==(void 0===o?"undefined":(0,s.default)(o))&&o instanceof Date?new Date(o).format("yyyy-MM-dd"):"object"==(void 0===o?"undefined":(0,s.default)(o))?(0,i.default)(o):""+o)!==(a="object"==(void 0===a?"undefined":(0,s.default)(a))&&a instanceof Date?new Date(a).format("yyyy-MM-dd"):"object"==(void 0===a?"undefined":(0,s.default)(a))?(0,i.default)(a):""+a)},cacheData:function(e){var r=this;this.setOrderCustTabSaved(!1);var t=JSON.parse((0,i.default)(this.orderData.cust||{}));if("enterprise"==e){var o=p.default.transToSave(e,this.orderData.cust)||{};t[e]=(0,n.default)({},o.enterpriseApplier,o.enterpriseLicense)}else t[e]=p.default.transToSave(e,this.orderData.cust);if(sessionStorage.setItem("cust",(0,i.default)(t)),this.orderData.hasSaved.cust||this.orderData.hasSaved[e])return!1;var a={personal:":personal:applier",relative:":personal:immediate",contactor:":customer:contact",enterprise:":enterprise:applier",e_applier:":enterprise:applier",e_license:":enterprise:license",guarantorPersonal:":guarantor:personal",guarantorEnterprise:":guarantor:enterprise"},s=this.orderNo+a[e];if("enterprise"==e){var l=[],d=p.default.transToSave("enterprise",this.orderData.cust);d.enterpriseApplier.orderNo=this.orderNo,d.enterpriseApplier.hasSaved=this.orderData.hasSaved.e_applier,d.enterpriseLicense.orderNo=this.orderNo,d.enterpriseLicense.hasSaved=this.orderData.hasSaved.e_license,l.push({key:this.orderNo+a.e_applier,value:(0,i.default)(d.enterpriseApplier)}),l.push({key:this.orderNo+a.e_license,value:(0,i.default)(d.enterpriseLicense)}),this.$http.post(polarisserver+"/cache/insertMultiCache",l).then(function(e){var t=e.data;if(t.hasErrors)return r.$Message.error(t.errorMessage||"缓存保存失败")}).catch(function(e){r.errorCatchModal("缓存请求出错：",e)})}else{var c=p.default.transToSave(e,this.orderData.cust);_.isArray(c)?c.forEach(function(e){e.orderNo=r.orderNo}):c&&(c.orderNo=this.orderNo),"guarantorPersonal"!=e&&"guarantorEnterprise"!=e||(c=c[0]||"");var u={key:s,value:c?(0,i.default)(c):""};this.$http.post(polarisserver+"/cache/insertCache",u).then(function(e){var t=e.data;if(t.hasErrors)return r.$Message.error(t.errorMessage||"缓存保存失败")}).catch(function(e){r.errorCatchModal("缓存请求出错：",e)})}},queryInitData:function(e,r){var t=this;return(0,a.default)(o.default.mark(function a(){var n,i,s;return o.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:n="/"+t.$route.params.orderNo,i={personal:"/customer/personal/query",enterprise:"/customer/enterprise/findBasic",e_applier:"/customer/enterprise/findBasic",e_license:"/customer/enterprise/findLicense",relative:"/customer/relationship/query",contactor:"/customer/contact/query",guarantor:"/customer/guarantor/query"},s=polarisserver+i[e]+""+n,t.showLoading(),t.$http.get(s).then(function(o){if(t.hideLoading(),!o.data.success)return t.errorModal(o.data.errorMessage||"请求失败");var a;switch(e){case"personal":a=o.data.data||{},t.personal=p.default.transToForm(e,a);break;case"relative":a=o.data.data||{},t.relative=p.default.transToForm(e,a);break;case"enterprise":a=o.data.data||{};break;case"contactor":a=o.data.data,t.contactor=p.default.transToForm(e,a);break;case"guarantor":case"guarantorPersonal":case"guarantorEnterprise":var s=o.data.data||{},l=s.guarantorPersonal?p.default.transToForm("guarantorPersonal",[s.guarantorPersonal]):[],d=s.guarantorEnterprise?p.default.transToForm("guarantorEnterprise",[s.guarantorEnterprise]):[];t.guarantorPersonal=l,t.guarantorEnterprise=d}"enterprise"==e?(t.showLoading(),t.$http.get(polarisserver+i.e_license+""+n).then(function(o){if(t.hideLoading(),!o.data.success)return t.errorModal(o.data.errorMessage||"请求失败");var n=o.data.data||{};t.enterprise=p.default.transToForm(e,{basicInfo:a||{},licenseInfo:n||{}}),t.orderData.hasSaved.e_applier=1==a.hasSaved,t.orderData.hasSaved.e_license=1==n.hasSaved,t.setCustData({name:e,data:t[e]}),r&&r(a)}).catch(function(e){t.hideLoading(),t.errorCatchModal("企业执照信息请求出错：",e)})):"personal"==e?(t.setCustData({name:"personal",data:t.personal}),t.queryInitData("relative",r)):"guarantor"==e?(t.setCustData({name:"guarantorPersonal",data:t.guarantorPersonal}),t.setCustData({name:"guarantorEnterprise",data:t.guarantorEnterprise})):(t.setCustData({name:e,data:t[e]}),r&&r(t[e]))}).catch(function(r){t.hideLoading(),t.errorCatchModal("客户"+e+"信息请求出错：",r)});case 5:case"end":return o.stop()}},a,t)}))()}})}}).call(r,t("L7Pj"))},ZbR5:function(e,r,t){"use strict";var o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e.contactorArr&&e.contactorArr.length?t("div",{staticClass:"cm-panel"},[t("h3",{staticClass:"margin-b-14"},[e._v("联系人信息")]),e._v(" "),e._l(e.contactorArr,function(r,o){return t("div",{key:o},[t("Form",{ref:"contactor"+o,refInFor:!0,attrs:{model:r,rules:e.contactorRule,"label-width":120}},[t("Row",[t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"与申请人关系",prop:"contactRelationship",rules:e.relationShipRule}},[t("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"contactor."+o+".contactRelationship")}},model:{value:r.contactRelationship,callback:function(t){e.$set(r,"contactRelationship",t)},expression:"item.contactRelationship"}},e._l(e.dp.relationship,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                                    "+e._s(r.dictName)+"\n                                ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"姓名",prop:"contactName"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"contactor."+o+".contactName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:r.contactName,callback:function(t){e.$set(r,"contactName",t)},expression:"item.contactName"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"电话",prop:"contactPhone"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"contactor."+o+".contactPhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:r.contactPhone,callback:function(t){e.$set(r,"contactPhone",t)},expression:"item.contactPhone"}})],1)],1)],1)],1)],1)})],2):e._e()])},staticRenderFns:[]};r.a=o},c71f:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("ZgZx");r.default={personalRule:{custName:[o.validators.custName("申请人姓名")],custGender:[(0,o.required)("申请人性别")],custPhone:[(0,o.required)("申请人手机"),{validator:o.validators.mobile,trigger:"change"}],custCertificateType:[(0,o.required)("申请人证件类型")],custCertificateNo:[(0,o.required)("申请人证件号码"),{validator:o.validators.certNo,trigger:"change"}],marriage:[(0,o.required)("婚姻状况")],custEducation:[(0,o.required)("申请人学历")],custDegree:[(0,o.required)("申请人学位")],hasEstate:[(0,o.required)("有无房产")],livingStatus:[(0,o.required)("居住情况")],industry:[(0,o.required)("所属行业")],companyNature:[(0,o.required)("企业性质")],companyName:[o.validators.headAndTailNotHasBlank("单位名称",!0),{max:100,message:"单位名称超过100字符",trigger:"change"}],custProfession:[(0,o.required)("申请人职业")],custPosition:[(0,o.required)("申请人职务")],custTitle:[(0,o.required)("申请人职称")],annualSalaryAfterTax:[(0,o.amountValidator)("税后年薪",!0,1e3)],currentResidenceYears:[o.validators.yearsValidator("现居住地年限",!0)],postalCode:[o.validators.zipValidator("现居住地邮编",!0)],company_Region:[o.validators.regionValidator("单位所在",3)],companyProvince:[(0,o.required)("单位所在省份")],companyCity:[(0,o.required)("单位所在城市")],companyDistrict:[(0,o.required)("单位所在区/县")],companyAddress:[o.validators.addressValidator("单位详细地址",!0)],currentResidence_Region:[o.validators.regionValidator("现居地",3)],currentResidenceProvince:[(0,o.required)("现居地省份")],currentResidenceCity:[(0,o.required)("现居地城市")],currentResidenceDistrict:[(0,o.required)("现居住地区/县")],currentResidenceAddress:[o.validators.addressValidator("现居地详细地址",!0)],censusRegister_Region:[o.validators.regionValidator("户籍地",3)],censusRegisterProvince:[(0,o.required)("户籍地省份")],censusRegisterCity:[(0,o.required)("户籍地城市")],censusRegisterDistrict:[(0,o.required)("户籍地区/县")],censusRegisterAddress:[o.validators.addressValidator("户籍地详细地址",!0)]},enterpriseRule:{orderApplicationType:[(0,o.required)("订单申请类型")],unifiedSocialCreditCode:[(0,o.required)("统一社会信用代码"),{validator:o.validators.isCreditCode,trigger:"change"}],enterpriseName:[o.validators.headAndTailNotHasBlank("企业名称",!0),{max:100,message:"公司名称超过100字符",trigger:"change"}],country:[(0,o.required)("国别")],isInstitution:[(0,o.required)("是否事业单位")],registrationType:[(0,o.required)("登记注册号类型")],eigenCode:[],organizationCode:[(0,o.required)("组织机构代码"),{validator:o.validators.checkOrgCodeValid,trigger:"change"}],taxpayerIdentificationNum:[(0,o.required)("纳税人识别号"),{validator:o.validators.checkTaxpayerId,trigger:"change"}],establishDate:[{validator:function(e,r,t){""==r?t(new Error("成立日期不能为空")):"[object Date]"==Object.prototype.toString.call(r)||"string"==typeof r?t():t(new Error("成立日期格式不对"))},trigger:"change"}],isLongCertificate:[(0,o.required)("证书是否长期")],certificateExpiryDate:[],organizationCategory:[(0,o.required)("组织机构类别")],organizationCategoryDetail:[(0,o.required)("组织机构类别细分")],enterpriseScale:[(0,o.required)("企业规模")],registeredCapitalCurrency:[(0,o.required)("注册资本币种")],registeredCapital:[(0,o.amountValidator)("注册资本",!0)],organizationStatus:[(0,o.required)("机构状态")],economicType:[(0,o.required)("经济类型")],economicIndustryLargeClass:[(0,o.required)("经济行业大类")],economicIndustrySmallClass:[(0,o.required)("经济行业小类")],enterpriseBusinessScope:[(0,o.required)("经营（业务）范围"),{max:1e3,message:"填写经营（业务）范围超过1000字符",trigger:"change"}],enterpriseRegistration_Region:[o.validators.regionValidator("企业注册地",3)],enterpriseRegistrationProvince:[(0,o.required)("企业注册地省份")],enterpriseRegistrationCity:[(0,o.required)("企业注册地城市")],enterpriseRegistrationDistrict:[(0,o.required)("企业注册地区/县")],enterpriseRegistrationAddress:[o.validators.addressValidator("企业注册地详细地址",!0)],enterpriseManagement_Region:[o.validators.regionValidator("企业经营地",3)],enterpriseManagementProvince:[(0,o.required)("企业经营地省份")],enterpriseManagementCity:[(0,o.required)("企业经营地城市")],enterpriseManagementDistrict:[(0,o.required)("企业经营地区/县")],enterpriseManagementAddress:[o.validators.addressValidator("企业经营地详细地址",!0)],enterpriseContactPhone:[(0,o.required)("企业联系人电话"),{validator:o.validators.phone,trigger:"change"}],corporationName:[o.validators.custName("法人姓名")],corporationCertificateType:[(0,o.required)("法人证件类型")],corporationCertificateNo:[],corporationPhone:[(0,o.required)("法人手机号"),{validator:o.validators.mobile,trigger:"change"}],corporationShareholdingRatio:[(0,o.pctValidator)("持股比例",!0)]},relativeRule:{relativeType:[(0,o.required)("与申请人关系")],relativeName:[o.validators.custName("姓名")],relativeCertificateType:[(0,o.required)("证件类型")],relativeCertificateNo:[(0,o.required)("证件号码"),{validator:o.validators.certNo,trigger:"change"}],relativePhone:[(0,o.required)("手机号码"),{validator:o.validators.mobile,trigger:"change"}],relativeAnnualSalaryAfterTax:[(0,o.amountValidator)("税后年薪",!0,1e3)],relativeCompanyName:[o.validators.headAndTailNotHasBlank("单位名称",!0),{max:100,message:"单位名称超过100字符",trigger:"change"}],relativeCompany_Region:[o.validators.regionValidator("单位",3)],relativeCompanyProvince:[(0,o.required)("单位所在省份")],relativeCompanyCity:[(0,o.required)("单位所在城市")],relativeCompanyDistrict:[(0,o.required)("单位所在区/县")],relativeCompanyAddress:[o.validators.addressValidator("单位详细地址",!0)]},contactorRule:{contactRelationship:[(0,o.required)("与申请人关系")],contactName:[o.validators.custName("姓名")],contactPhone:[(0,o.required)("电话"),{validator:o.validators.mobile,trigger:"change"}]},guarantorPersonalRule:{guarantorRelationship:[(0,o.required)("与申请人关系")],guarantorName:[o.validators.custName("担保人姓名")],guarantorCredentialType:[(0,o.required)("证件类型")],guarantorIdentityCard:[(0,o.required)("证件号码"),{validator:o.validators.certNo,trigger:"change"}],guarantorPhone:[(0,o.required)("手机号码"),{validator:o.validators.mobile,trigger:"change"}],companyName:[o.validators.headAndTailNotHasBlank("单位名称",!0),{max:100,message:"单位名称超过100字符",trigger:"change"}],companyPhone:[(0,o.required)("单位电话"),{validator:o.validators.phone,trigger:"change"}],company_Region:[o.validators.regionValidator("单位所在",3)],companyProvince:[(0,o.required)("单位所在省份")],companyCity:[(0,o.required)("单位所在城市")],companyDistrict:[(0,o.required)("单位所在区/县")],companyDetailAddress:[o.validators.addressValidator("单位详细地址",!0)],currentResidence_Region:[o.validators.regionValidator("现居住地",3)],currentResidenceProvince:[(0,o.required)("现居住地省份")],currentResidenceCity:[(0,o.required)("现居住地城市")],currentResidenceDistrict:[(0,o.required)("现居住地区/县")],currentResidenceAddress:[o.validators.addressValidator("现居住地详细地址",!0)],censusRegister_Region:[o.validators.regionValidator("户籍地",3)],censusRegisterProvince:[(0,o.required)("户籍地省份")],censusRegisterCity:[(0,o.required)("户籍地城市")],censusRegisterDistrict:[(0,o.required)("户籍地区/县")],censusRegisterAddress:[o.validators.addressValidator("户籍地详细地址",!0)]},guarantorEnterpriseRule:{guarantorRelationship:[(0,o.required)("与申请人关系")],enterpriseName:[o.validators.headAndTailNotHasBlank("企业名称",!0),{max:100,message:"公司名称超过100字符",trigger:"change"}],enterpriseNature:[(0,o.required)("企业性质")],unifiedSocialCreditCode:[(0,o.required)("统一社会信用代码"),{validator:o.validators.isCreditCode,trigger:"change"}],corporationName:[o.validators.custName("法人姓名")],corporationIdentityCard:[(0,o.required)("法人证件号"),{validator:o.validators.certNo,trigger:"change"}],corporationPhone:[(0,o.required)("法人联系电话"),{validator:o.validators.phone,trigger:"change"}],actualControllerName:[o.validators.custName("实际控制人姓名")],actualControllerIdentityCard:[(0,o.required)("实际控制人证件号码"),{validator:o.validators.certNo,trigger:"change"}],actualControllerPhone:[(0,o.required)("实际控制人联系电话"),{validator:o.validators.phone,trigger:"change"}],enterpriseRegistration_Region:[o.validators.regionValidator("企业注册地",3)],enterpriseRegistrationProvince:[(0,o.required)("企业注册地省份")],enterpriseRegistrationCity:[(0,o.required)("企业注册地城市")],enterpriseRegistrationDistrict:[(0,o.required)("企业注册地区/县")],enterpriseRegistrationAddress:[o.validators.addressValidator("企业注册地详细地址",!0)],enterpriseManagement_Region:[o.validators.regionValidator("企业经营地",3)],enterpriseManagementProvince:[(0,o.required)("企业经营地省份")],enterpriseManagementCity:[(0,o.required)("企业经营地城市")],enterpriseManagementDistrict:[(0,o.required)("企业经营地区/县")],enterpriseManagementAddress:[o.validators.addressValidator("企业经营地详细地址",!0)]}}},dAAp:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("fQUs"),a=t.n(o);for(var n in o)"default"!==n&&function(e){t.d(r,e,function(){return o[e]})}(n);var i=t("9Ueq"),s=t("C7Lr")(a.a,i.a,!1,null,null,null);r.default=s.exports},fQUs:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=s(t("rVsN")),a=s(t("Vr9E")),n=s(t("c71f")),i=(t("VSB1"),t("ZgZx"));function s(e){return e&&e.__esModule?e:{default:e}}r.default={name:"orderEnterpriseForm",mixins:[a.default],props:[],components:{},data:function(){return{orgList:[],DICT_orgType:[],DICT_orgSmallType:[],enterpriseRule:n.default.enterpriseRule,showCountryDrop:!1,showCurrencyDrop:!1,currentDateOptions:{disabledDate:function(e){return e&&e.valueOf()>new Date((new Date).format("yyyy-MM-dd")).getTime()}}}},computed:{formModel:function(){return this.orderData.cust.enterprise},eigenCodeRule:function(){var e=this,r=[];return r.push({validator:function(r,t,o){""===t||null===t||void 0===t?"1"!=e.formModel.orderApplicationType?o(new Error("中征码不能为空")):o():16!=String(t).length||/\s/g.test(t)?o(new Error("中征码格式不正确")):o()},trigger:"change"}),r},certificateExpiryDateRule:function(){var e=this,r=[];return r.push({validator:function(r,t,o){""==t?"1"!=e.formModel.isLongCertificate?o(new Error("证书到期日期不能为空")):o():"[object Date]"==Object.prototype.toString.call(t)||"string"==typeof t?o():o(new Error("证书到期日期格式不对"))},trigger:"change"}),r}},created:function(){},mounted:function(){var e=this;this.queryDictData(["country","currency","applyType","whether","firmScale","orgStatus","economicType","industryLageClass","frCertType"]),this.updateSmallClassDict(),this.updateOrgTypeDict(),this.$nextTick(function(){e.todoRecount()})},methods:{getCountryText:function(e){var r=this.dp.country?this.dp.country.find(function(r){return r.dictCode==e}):"";return r?r.dictName:""},selectCountry:function(e){var r=this.formModel.country!=e.dictCode;this.formModel.country=e.dictCode,this.showCountryDrop=!1,r&&this.handleChange(e.dictCode,"enterprise.country")},hideCountryDrop:function(){this.showCountryDrop=!1},getCurrencyText:function(e){var r=this.dp.currency?this.dp.currency.find(function(r){return r.dictCode==e}):"";return r?r.dictName:""},selectCurrency:function(e){var r=this.formModel.registeredCapitalCurrency!=e.dictCode;this.formModel.registeredCapitalCurrency=e.dictCode,this.showCurrencyDrop=!1,r&&this.handleChange(e.dictCode,"enterprise.registeredCapitalCurrency")},hideCurrencyDrop:function(){this.showCurrencyDrop=!1},createCertNoRule:function(){var e=[(0,i.required)("法人证件号码")];return"1"!=this.formModel.corporationCertificateType&&"7"!=this.formModel.corporationCertificateType||e.push({validator:i.validators.certNo,trigger:"change"}),e},setOcrRes:function(e){var r=this;if("2"==e.flag){if(!(this.formModel.enterpriseName!=e.enterpriseName||this.formModel.enterpriseBusinessScope!=e.businessScope||this.formModel.unifiedSocialCreditCode!=e.cfuscc||this.formModel.enterpriseRegistrationAddress!=e.residenceAddress||"number"==typeof e.registeredCapital&&this.formModel.registeredCapital!=e.registeredCapital))return this.openEye(e.enterpriseName),!1;this.formModel.enterpriseName=e.enterpriseName,this.formModel.enterpriseBusinessScope=e.businessScope,this.formModel.unifiedSocialCreditCode=e.cfuscc,this.formModel.enterpriseRegistrationAddress=e.residenceAddress,"number"==typeof e.registeredCapital&&(this.formModel.registeredCapital=e.registeredCapital,this.$nextTick(function(){r.$refs.formModel.validateField("registeredCapital")})),e.enterpriseName&&this.openEye(e.enterpriseName)}else if("1"==e.flag){if(!(this.formModel.corporationCertificateNo!=e.idcard||this.formModel.corporationName!=e.name||"1"!=this.formModel.corporationCertificateType))return!1;this.formModel.corporationName=e.name,this.formModel.corporationCertificateNo=e.idcard,this.formModel.corporationCertificateType="1"}this.$nextTick(function(){r.cacheData("enterprise"),r.todoRecount()})},openEye:function(e){var r=this;if(!e)return!1;this.showLoading(),this.$http.get(polarisserver+"/customer/openEye?enterpriseName="+e,{}).then(function(e){r.hideLoading();var t=e.data;if(t.success&&t.data){var o=t.data,a={unifiedSocialCreditCode:o.unifiedSocialCreditCode?o.unifiedSocialCreditCode:r.formModel.unifiedSocialCreditCode,enterpriseRegistrationAddress:o.enterpriseRegistrationAddress?o.enterpriseRegistrationAddress:r.formModel.enterpriseRegistrationAddress,organizationCode:o.organizationCode?o.organizationCode:r.formModel.organizationCode,taxpayerIdentificationNum:o.taxpayerIdentificationNum?o.taxpayerIdentificationNum:r.formModel.taxpayerIdentificationNum,establishDate:o.establishDate?o.establishDate:r.formModel.establishDate,registeredCapitalCurrency:o.registeredCapitalCurrency?o.registeredCapitalCurrency:r.formModel.registeredCapitalCurrency,registeredCapital:"number"==typeof o.registeredCapital?o.registeredCapital:r.formModel.registeredCapital,enterpriseBusinessScope:o.enterpriseBusinessScope?o.enterpriseBusinessScope:r.formModel.enterpriseBusinessScope,corporationName:o.corporationName?o.corporationName:r.formModel.corporationName,corporationIdentityCard:o.corporationIdentityCard?o.corporationIdentityCard:r.formModel.corporationIdentityCard};if(!(r.formModel.unifiedSocialCreditCode!=a.unifiedSocialCreditCode||r.formModel.enterpriseRegistrationAddress!=a.enterpriseRegistrationAddress||r.formModel.organizationCode!=a.organizationCode||r.formModel.taxpayerIdentificationNum!=a.taxpayerIdentificationNum||r.formModel.establishDate!=a.establishDate||r.formModel.registeredCapitalCurrency!=a.registeredCapitalCurrency||r.formModel.registeredCapital!=a.registeredCapital||r.formModel.enterpriseBusinessScope!=a.enterpriseBusinessScope||r.formModel.corporationName!=a.corporationName||r.formModel.corporationIdentityCard!=a.corporationIdentityCard))return;r.formModel.unifiedSocialCreditCode=a.unifiedSocialCreditCode,r.formModel.enterpriseRegistrationAddress=a.enterpriseRegistrationAddress,r.formModel.organizationCode=a.organizationCode,r.formModel.taxpayerIdentificationNum=a.taxpayerIdentificationNum,r.formModel.establishDate=a.establishDate,r.formModel.registeredCapitalCurrency=a.registeredCapitalCurrency,"number"==typeof o.registeredCapital&&(r.formModel.registeredCapital=o.registeredCapital,r.$nextTick(function(){r.$refs.formModel.validateField("registeredCapital")})),r.formModel.corporationName=a.corporationName,r.formModel.corporationCertificateNo=a.corporationCertificateNo,r.formModel.enterpriseBusinessScope=a.enterpriseBusinessScope,r.$nextTick(function(){r.cacheData("enterprise"),r.todoRecount()})}else{if(t.success)return r.$Message.error("天眼查请求无数据");if(!t.success)return r.$Message.error("天眼查"+t.errorMessage||"请求失败")}}).catch(function(e){r.hideLoading(),r.errorCatchModal("天眼查请求出错：",e)})},todoorderApplicationTypeChange:function(){this.formModel.eigenCode="",this.$refs.formModel.validateField("eigenCode")},todoisLongCertificateChange:function(){this.formModel.certificateExpiryDate="",this.$refs.formModel.validateField("certificateExpiryDate")},handleBlur:function(e){var r=this,t=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v");if(!this.checkFieldIsChange(t))return!1;"enterprise.enterpriseName"==t&&this.formModel.enterpriseName&&this.openEye(this.formModel.enterpriseName),this.$nextTick(function(){r.cacheData("enterprise"),r.todoRecount()})},handleChange:function(e,r,t){var o=this;if(!this.checkFieldIsChange(r)&&!t)return!1;"enterprise.economicIndustryLargeClass"==r&&this.updateSmallClassDict(),"enterprise.orderApplicationType"==r&&this.todoorderApplicationTypeChange(),"enterprise.isLongCertificate"==r&&this.todoisLongCertificateChange(),"enterprise.economicIndustryLargeClass"==r&&this.updateSmallClassDict(),this.$nextTick(function(){"enterprise.corporationCertificateType"==r&&o.formModel.corporationCertificateNo&&o.$refs.formModel.validateField("corporationCertificateNo"),o.cacheData("enterprise"),o.todoRecount()})},changeRegion:function(e,r){this.setChangeRegion({module:"enterprise",field:e}),this.handleChange(e,r,!0)},updateOrgTypeDict:function(e){var r=this;this.showLoading(),this.$http.get(baseserver+"/dictionary/getOrganizationCategory",{}).then(function(t){r.hideLoading();var o=t.data;if(!o.success)return r.errorModal(o.errorMessage||"组织机构类别请求失败");r.orgList=o.data||[],r.DICT_orgType=r.orgList.filter(function(e){return 0==e.parent}),e&&e()}).catch(function(e){r.hideLoading(),r.errorCatchModal("组织机构类别请求出错：",e)})},updateSmallClassDict:function(){var e=this,r=this.formModel.economicIndustryLargeClass;r?this.$http.get(baseserver+"/dictionary/getNextDictionaryList/AL:"+r,{}).then(function(r){var t=r.data;if(!t.success)return e.errorModal(t.errorMessage||"请求经济行业小类失败");e.$set(e.dp,"industrySmallClass",t.data)}).catch(function(r){e.errorCatchModal("请求经济行业小类出错：",r)}):this.$set(this.dp,"industrySmallClass",[])},validate:function(e){var r=this,t=[];["formModel","regionRef1","regionRef2"].forEach(function(e){t.push(new o.default(function(t){r.$refs[e]?r.$refs[e].validate(function(e){t(e)}):t(!0)}))}),o.default.all(t).then(function(r){var t=_.every(r);e&&e(t)})}}}},hndz:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("Jwfh"),a=t.n(o);for(var n in o)"default"!==n&&function(e){t.d(r,e,function(){return o[e]})}(n);var i=t("j4al"),s=t("C7Lr")(a.a,i.a,!1,null,null,null);r.default=s.exports},j4al:function(e,r,t){"use strict";var o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("span",[t("input",{ref:"uploadInput",staticStyle:{display:"none"},attrs:{type:"file",name:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(r){return e.changeImage(r)}}}),e._v(" "),t("Button",{attrs:{type:"primary",ghost:"","custom-icon":"iconfont icon-upload"},on:{click:function(r){return e.selectFile()}}},[e._t("default")],2)],1)},staticRenderFns:[]};r.a=o},lGfW:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=i(t("rVsN")),a=i(t("Vr9E")),n=i(t("c71f"));function i(e){return e&&e.__esModule?e:{default:e}}r.default={name:"orderGuarantorEnterpriseForm",mixins:[a.default],props:{index:{default:0}},components:{},data:function(){return{guarantorEnterpriseRule:n.default.guarantorEnterpriseRule,targetObj:{}}},computed:{formModel:function(){var e=this.orderData.cust.guarantorEnterprise[this.index];if(e)return e}},mounted:function(){var e=this;this.queryDictData(["relationship","firmNature"]),this.$nextTick(function(){e.todoRecount()})},methods:{deleteBondsman:function(){this.$emit("on-delete","2",this.index)},handleBlur:function(e){var r=this,t=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v"),o=t.split(".");if(o.splice(1,0,this.index),t=o.join("."),!this.checkFieldIsChange(t))return!1;"guarantorEnterprise.0.enterpriseName"==t&&this.openEye(this.formModel.enterpriseName),this.$nextTick(function(){r.cacheData("guarantorEnterprise"),r.todoRecount()})},handleChange:function(e,r,t){var o=this,a=r.split(".");if(a.splice(1,0,this.index),r=a.join("."),!this.checkFieldIsChange(r)&&!t)return!1;this.$nextTick(function(){o.cacheData("guarantorEnterprise"),o.todoRecount()})},changeRegion:function(e,r){this.setChangeRegion({module:"guarantorEnterprise",index:this.index,field:e}),this.handleChange(e,r,!0)},validate:function(e){var r=this,t=[];["formModel","regionRef1","regionRef2"].forEach(function(e){t.push(new o.default(function(t){r.$refs[e]?r.$refs[e].validate(function(e){t(e)}):t(!0)}))}),o.default.all(t).then(function(r){var t=_.every(r);e&&e(t)})},setOcrRes:function(e){var r=this;if("2"==e.flag){if(!(this.formModel.enterpriseName!=e.enterpriseName||this.formModel.unifiedSocialCreditCode!=e.cfuscc||this.formModel.enterpriseRegistrationAddress!=e.residenceAddress))return this.openEye(e.enterpriseName),!1;this.formModel.enterpriseName=e.enterpriseName,this.formModel.unifiedSocialCreditCode=e.cfuscc,this.formModel.enterpriseRegistrationAddress=e.residenceAddress,e.enterpriseName&&this.openEye(e.enterpriseName)}else{if(!(this.formModel.corporationIdentityCard!=e.idcard||this.formModel.corporationName!=e.name))return!1;this.formModel.corporationName=e.name,this.formModel.corporationIdentityCard=e.idcard}this.$nextTick(function(){r.cacheData("guarantorEnterprise"),r.todoRecount()})},openEye:function(e){var r=this;if(!e)return!1;this.showLoading(),this.$http.get(polarisserver+"/customer/openEye?enterpriseName="+e,{}).then(function(e){r.hideLoading();var t=e.data;if(t.success&&t.data){var o=t.data,a={enterpriseName:o.enterpriseName?o.enterpriseName:r.formModel.enterpriseName,unifiedSocialCreditCode:o.unifiedSocialCreditCode?o.unifiedSocialCreditCode:r.formModel.unifiedSocialCreditCode,enterpriseRegistrationAddress:o.enterpriseRegistrationAddress?o.enterpriseRegistrationAddress:r.formModel.enterpriseRegistrationAddress,corporationName:o.corporationName?o.corporationName:r.formModel.corporationName,corporationIdentityCard:o.corporationIdentityCard?o.corporationIdentityCard:r.formModel.corporationIdentityCard};if(!(r.formModel.enterpriseName!=a.enterpriseName||r.formModel.unifiedSocialCreditCode!=a.unifiedSocialCreditCode||r.formModel.enterpriseRegistrationAddress!=a.enterpriseRegistrationAddress||r.formModel.corporationName!=a.corporationName||r.formModel.corporationIdentityCard!=a.corporationIdentityCard))return;r.formModel.enterpriseName=a.enterpriseName,r.formModel.unifiedSocialCreditCode=a.unifiedSocialCreditCode,r.formModel.enterpriseRegistrationAddress=a.enterpriseRegistrationAddress,r.formModel.corporationName=a.corporationName,r.formModel.corporationIdentityCard=a.corporationIdentityCard,r.$nextTick(function(){r.cacheData("guarantorEnterprise"),r.todoRecount()})}else{if(t.success)return r.$Message.error("天眼查请求无数据");if(!t.success)return r.$Message.error(t.errorMessage||"天眼查请求失败")}}).catch(function(e){r.hideLoading(),r.errorCatchModal("天眼查请求出错：",e)})}}}},ldIv:function(e,r,t){"use strict";var o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e.formModel?t("Form",{ref:"formModel",attrs:{model:e.formModel,rules:e.guarantorPersonalRule,"label-width":120}},[t("div",[t("h3",{staticClass:"margin-b-14"},[e._v("个人担保人\n                "),t("ocr-button",{attrs:{itemid:"guarantorIDPositive",ocrtype:"1"},on:{"on-ocr-result":e.setOcrRes}},[e._v("上传身份证部分免填写\n                ")]),e._v(" "),t("Button",{staticStyle:{float:"right"},attrs:{type:"text",size:"small"},on:{click:e.deleteBondsman}},[e._v("删除\n                ")])],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"与申请人关系",prop:"guarantorRelationship"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"guarantorPersonal.guarantorRelationship")}},model:{value:e.formModel.guarantorRelationship,callback:function(r){e.$set(e.formModel,"guarantorRelationship",r)},expression:"formModel.guarantorRelationship"}},e._l(e.dp.relationship,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                                "+e._s(r.dictName)+"\n                            ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"担保人姓名",prop:"guarantorName"}},[t("Input",{attrs:{type:"text",clearable:"",placeholder:"请输入",v:"guarantorPersonal.guarantorName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.guarantorName,callback:function(r){e.$set(e.formModel,"guarantorName",r)},expression:"formModel.guarantorName"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"手机号码",prop:"guarantorPhone"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.guarantorPhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.guarantorPhone,callback:function(r){e.$set(e.formModel,"guarantorPhone",r)},expression:"formModel.guarantorPhone"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"证件类型",prop:"guarantorCredentialType"}},[t("i-select",{attrs:{type:"text",disabled:"",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"guarantorPersonal.guarantorCredentialType")}},model:{value:e.formModel.guarantorCredentialType,callback:function(r){e.$set(e.formModel,"guarantorCredentialType",r)},expression:"formModel.guarantorCredentialType"}},e._l(e.DICT_gcertType,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                                "+e._s(r.dictName)+"\n                            ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"证件号码",prop:"guarantorIdentityCard"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.guarantorIdentityCard"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.guarantorIdentityCard,callback:function(r){e.$set(e.formModel,"guarantorIdentityCard",r)},expression:"formModel.guarantorIdentityCard"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"单位电话",prop:"companyPhone"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.companyPhone"},on:{"on-blur":e.handleBlur},model:{value:e.formModel.companyPhone,callback:function(r){e.$set(e.formModel,"companyPhone",r)},expression:"formModel.companyPhone"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"单位名称",prop:"companyName"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.companyName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.companyName,callback:function(r){e.$set(e.formModel,"companyName",r)},expression:"formModel.companyName"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{staticClass:"hascol-form-item",attrs:{label:"单位所在地"}},[t("region-picker",{ref:"regionRef1",attrs:{type:"3",regionlabel:"单位所在地"},on:{"on-change":function(r){return e.changeRegion("company","guarantorPersonal.company_Region")}},model:{value:e.formModel.company_Region,callback:function(r){e.$set(e.formModel,"company_Region",r)},expression:"formModel.company_Region"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"单位详细地址",prop:"companyDetailAddress"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.companyDetailAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.companyDetailAddress,callback:function(r){e.$set(e.formModel,"companyDetailAddress",r)},expression:"formModel.companyDetailAddress"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{staticClass:"hascol-form-item",attrs:{label:"现居地"}},[t("region-picker",{ref:"regionRef2",attrs:{type:"3",regionlabel:"现居地"},on:{"on-change":function(r){return e.changeRegion("currentResidence","guarantorPersonal.currentResidence_Region")}},model:{value:e.formModel.currentResidence_Region,callback:function(r){e.$set(e.formModel,"currentResidence_Region",r)},expression:"formModel.currentResidence_Region"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"现居地详细地址",prop:"currentResidenceAddress"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.currentResidenceAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.currentResidenceAddress,callback:function(r){e.$set(e.formModel,"currentResidenceAddress",r)},expression:"formModel.currentResidenceAddress"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{staticClass:"hascol-form-item",attrs:{label:"户籍地"}},[t("region-picker",{ref:"regionRef3",attrs:{type:"3",regionlabel:"户籍地"},on:{"on-change":function(r){return e.changeRegion("censusRegister","guarantorPersonal.censusRegister_Region")}},model:{value:e.formModel.censusRegister_Region,callback:function(r){e.$set(e.formModel,"censusRegister_Region",r)},expression:"formModel.censusRegister_Region"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"户籍地详细地址",prop:"censusRegisterAddress"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorPersonal.censusRegisterAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.censusRegisterAddress,callback:function(r){e.$set(e.formModel,"censusRegisterAddress",r)},expression:"formModel.censusRegisterAddress"}})],1)],1)],1)],1)]):e._e()],1)},staticRenderFns:[]};r.a=o},mvdO:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("3zeM"),a=t.n(o);for(var n in o)"default"!==n&&function(e){t.d(r,e,function(){return o[e]})}(n);var i=t("ZbR5"),s=t("C7Lr")(a.a,i.a,!1,null,null,null);r.default=s.exports},nE5A:function(e,r,t){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0});var o=v(t("rVsN")),a=v(t("aA9S")),n=v(t("lC5x")),i=v(t("J0Oq")),s=v(t("Jkb2")),l=v(t("dAAp")),d=v(t("M5ii")),c=v(t("mvdO")),u=v(t("OoiP")),p=v(t("yUk/")),m=v(t("Vr9E")),f=v(t("afUM")),h=t("VSB1"),g=v(t("JyLo"));function v(e){return e&&e.__esModule?e:{default:e}}r.default={name:"orderCustModule",mixins:[m.default],components:{orderPersonalForm:s.default,orderEnterpriseForm:l.default,orderContactorForm:c.default,orderGuarantorPersonalForm:u.default,orderGuarantorEnterpriseForm:p.default,orderRelativeForm:d.default},props:{},data:function(){return{inited:!0,hasError:!1,tokenInited:!1}},destroy:function(){},computed:{orderinfo:function(){return this.orderData.orderinfo||{}}},mounted:function(){var e=this;this.queryDictData(["province"]).then(function(r){r.province&&r.province.length||e.errorModal("请求省份数据为空")}),this.queryInit();var r={orderId:this.orderNo,viewCode:"yixin_xiaofei_tibao_polaris",orderUserId:this.account,orderUserName:this.userName};this.COS=new g.default(r,function(r){e.SET_ORDER_COS(e.COS),e.tokenInited=!0})},destroyed:function(){this.SET_ORDER_COS(void 0),sessionStorage.removeItem("cust")},methods:{queryInit:function(){var e=this;return(0,i.default)(n.default.mark(function r(){return n.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.isQy){r.next=6;break}return r.next=3,e.queryInitData("personal");case 3:r.sent,r.next=13;break;case 6:if(!e.isQy){r.next=12;break}return r.next=9,e.queryInitData("enterprise");case 9:r.sent,r.next=13;break;case 12:return r.abrupt("return",!1);case 13:return r.next=15,e.queryInitData("contactor");case 15:return r.sent,r.next=18,e.queryInitData("guarantor");case 18:r.sent,e.$nextTick(function(){e.todoRecount()});case 20:case"end":return r.stop()}},r,e)}))()},addBondsman:function(e){"1"==e?this.addOrderGuarantorPersonal():"2"==e&&this.addOrderGuarantorEnterprise()},deleteBondsman:function(e,r){var t=this;this.$Modal.confirm({title:"提示",content:"您确定要删除担保人信息吗？",onOk:function(){"1"==e?(t.guarantorPersonal.splice(r,1),t.cacheData("guarantorPersonal"),t.todoRecount()):"2"==e&&(t.guarantorEnterprise.splice(r,1),t.cacheData("guarantorEnterprise"),t.todoRecount())}})},getSaveData:function(){var e=this.orderData.orderinfo,r={contactInfoList:f.default.transToSave("contactor",this.orderData.cust),personalGuarantor:f.default.transToSave("guarantorPersonal",this.orderData.cust),enterpriseGuarantor:f.default.transToSave("guarantorEnterprise",this.orderData.cust)};if(r.contactInfoList.map(function(r){r.orderNo=e.orderNo,delete r.id}),r.personalGuarantor.length?(r.personalGuarantor=r.personalGuarantor[0],r.personalGuarantor.orderNo=e.orderNo,delete r.personalGuarantor.id):r.personalGuarantor=void 0,r.enterpriseGuarantor.length?(r.enterpriseGuarantor=r.enterpriseGuarantor[0],r.enterpriseGuarantor.orderNo=e.orderNo,delete r.enterpriseGuarantor.id):r.enterpriseGuarantor=void 0,this.isQy){var t=f.default.transToSave("enterprise",this.orderData.cust);r.enterprise=(0,a.default)({},t.enterpriseApplier,t.enterpriseLicense),r.enterprise.orderNo=e.orderNo,delete r.enterprise.id}else r.personal=f.default.transToSave("personal",this.orderData.cust),r.personal.orderNo=e.orderNo,r.relationship=f.default.transToSave("relative",this.orderData.cust),r.relationship.orderNo=e.orderNo,delete r.personal.id,delete r.relationship.id;return r},toSave:function(e){var r=this;return new o.default(function(t,o){r.validate(function(a){if(a){var n=r.getSaveData();n.saveFrom="PC",r.showLoading();var i="";i=r.isQy?polarisserver+"/customer/enterprise/submit":polarisserver+"/customer/personal/submit",r.$http.post(i,n).then(function(o){r.hideLoading();var a=o.data;a.success?(r.setOrderCustTabSaved(!0),e||r.$Message.success("客戶信息保存成功!"),t(!0)):(r.setOrderCustTabSaved(!1),r.errorModal(a.errorMessage||"保存失败"),t(!1))}).catch(function(e){r.hideLoading(),r.setOrderCustTabSaved(!1),r.errorCatchModal("客戶信息保存请求出错：",e),o(e)})}else t(!1)})})},scrollToValid:function(r){var t=this;this.$nextTick(function(){if(!r){var o=e(".apply-client-module .ivu-form-item-error")[0];if(o&&o.getBoundingClientRect){var a=o.getBoundingClientRect(),n=document.documentElement.scrollTop||document.body.scrollTop,i=a.top+n-200;(0,h.scrollTo)(document,i,300)}}t.setOrderModuleError({index:0,hasError:!r})})},validate:function(e){var r=this,t=[],a=[],n=this.isQy?"enterpriseForm":"personalForm";a.push(n),this.isQy||a.push("relativeForm"),a.push("contactorForm"),this.guarantorPersonal&&this.guarantorPersonal.length&&a.push("guarantorPersonal0"),this.guarantorEnterprise&&this.guarantorEnterprise.length&&a.push("guarantorEnterprise0"),a.forEach(function(e){var a=r.$refs[e];"guarantorPersonal0"!=e&&"guarantorEnterprise0"!=e||(a=a[0]),a&&t.push(new o.default(function(e){a?a.validate(function(r){e(r)}):e(!0)}))}),o.default.all(t).then(function(t){var o=_.every(t);r.scrollToValid(o),e&&e(o)})}}}}).call(r,t("L7Pj"))},nYYZ:function(e,r,t){"use strict";var o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e.formModel?t("Form",{ref:"formModel",attrs:{model:e.formModel,rules:e.guarantorEnterpriseRule,"label-width":120}},[t("div",[t("h3",{staticClass:"margin-b-14"},[e._v("企业担保人\n                "),t("ocr-button",{attrs:{itemid:"guarantorBusinessLicence",ocrtype:"2"},on:{"on-ocr-result":e.setOcrRes}},[e._v("上传营业执照部分免填写\n                ")]),e._v(" "),t("ocr-button",{attrs:{itemid:"guarantorIDPositive",ocrtype:"1"},on:{"on-ocr-result":e.setOcrRes}},[e._v("\n                    上传担保人身份证部分免填写\n                ")]),e._v(" "),t("Button",{staticStyle:{float:"right"},attrs:{type:"text",size:"small"},on:{click:e.deleteBondsman}},[e._v("删除\n                ")])],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"与申请人关系",prop:"guarantorRelationship"}},[t("i-select",{attrs:{type:"text",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"guarantorEnterprise.guarantorRelationship")}},model:{value:e.formModel.guarantorRelationship,callback:function(r){e.$set(e.formModel,"guarantorRelationship",r)},expression:"formModel.guarantorRelationship"}},e._l(e.dp.relationship,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                                "+e._s(r.dictName)+"\n                            ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"企业名称",prop:"enterpriseName"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.enterpriseName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseName,callback:function(r){e.$set(e.formModel,"enterpriseName",r)},expression:"formModel.enterpriseName"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"企业性质",prop:"enterpriseNature"}},[t("i-select",{attrs:{placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"guarantorEnterprise.enterpriseNature")}},model:{value:e.formModel.enterpriseNature,callback:function(r){e.$set(e.formModel,"enterpriseNature",r)},expression:"formModel.enterpriseNature"}},e._l(e.dp.firmNature,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                                "+e._s(r.dictName)+"\n                            ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"统一社会信用代码",prop:"unifiedSocialCreditCode"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.unifiedSocialCreditCode"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.unifiedSocialCreditCode,callback:function(r){e.$set(e.formModel,"unifiedSocialCreditCode",r)},expression:"formModel.unifiedSocialCreditCode"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"法人姓名",prop:"corporationName"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.corporationName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationName,callback:function(r){e.$set(e.formModel,"corporationName",r)},expression:"formModel.corporationName"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"法人证件号码",prop:"corporationIdentityCard"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.corporationIdentityCard"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationIdentityCard,callback:function(r){e.$set(e.formModel,"corporationIdentityCard",r)},expression:"formModel.corporationIdentityCard"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"法人联系电话",prop:"corporationPhone"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.corporationPhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.corporationPhone,callback:function(r){e.$set(e.formModel,"corporationPhone",r)},expression:"formModel.corporationPhone"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"实际控制人姓名",prop:"actualControllerName"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.actualControllerName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.actualControllerName,callback:function(r){e.$set(e.formModel,"actualControllerName",r)},expression:"formModel.actualControllerName"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"实际控制人证件号码",prop:"actualControllerIdentityCard"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.actualControllerIdentityCard"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.actualControllerIdentityCard,callback:function(r){e.$set(e.formModel,"actualControllerIdentityCard",r)},expression:"formModel.actualControllerIdentityCard"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"实际控制人联系电话",prop:"actualControllerPhone"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.actualControllerPhone"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.actualControllerPhone,callback:function(r){e.$set(e.formModel,"actualControllerPhone",r)},expression:"formModel.actualControllerPhone"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{staticClass:"hascol-form-item",attrs:{label:"企业注册地"}},[t("region-picker",{ref:"regionRef1",attrs:{type:"3",regionlabel:"企业注册地"},on:{"on-change":function(r){return e.changeRegion("enterpriseRegistration","guarantorEnterprise.enterpriseRegistration_Region")}},model:{value:e.formModel.enterpriseRegistration_Region,callback:function(r){e.$set(e.formModel,"enterpriseRegistration_Region",r)},expression:"formModel.enterpriseRegistration_Region"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"企业注册地详细地址",prop:"enterpriseRegistrationAddress"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.enterpriseRegistrationAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseRegistrationAddress,callback:function(r){e.$set(e.formModel,"enterpriseRegistrationAddress",r)},expression:"formModel.enterpriseRegistrationAddress"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{staticClass:"hascol-form-item",attrs:{label:"企业经营地"}},[t("region-picker",{ref:"regionRef2",attrs:{type:"3",regionlabel:"企业经营地"},on:{"on-change":function(r){return e.changeRegion("enterpriseManagement","guarantorEnterprise.enterpriseManagement_Region")}},model:{value:e.formModel.enterpriseManagement_Region,callback:function(r){e.$set(e.formModel,"enterpriseManagement_Region",r)},expression:"formModel.enterpriseManagement_Region"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"企业经营地详细地址",prop:"enterpriseManagementAddress"}},[t("Input",{attrs:{clearable:"",placeholder:"请输入",v:"guarantorEnterprise.enterpriseManagementAddress"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.enterpriseManagementAddress,callback:function(r){e.$set(e.formModel,"enterpriseManagementAddress",r)},expression:"formModel.enterpriseManagementAddress"}})],1)],1)],1)],1)]):e._e()],1)},staticRenderFns:[]};r.a=o},qAG1:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=s(t("rVsN")),a=s(t("Vr9E")),n=s(t("c71f")),i=t("ZgZx");function s(e){return e&&e.__esModule?e:{default:e}}r.default={name:"orderRelativeForm",mixins:[a.default],props:{},components:{},data:function(){return{relativeRule:n.default.relativeRule,targetObj:{},shipDisabled:!1}},computed:{formModel:function(){return this.orderData.cust.relative},personalInfo:function(){return this.orderData.cust.personal},DICT_relativeship:function(){return this.personalInfo&&"1"===this.personalInfo.marriage?("3"==this.formModel.relativeType?this.shipDisabled=!0:(this.formModel.relativeType="",this.shipDisabled=!1),(this.dp.relativeRelationship||[]).filter(function(e){return"3"==e.dictCode})):this.personalInfo&&"0"===this.personalInfo.marriage?(this.shipDisabled=!1,(this.dp.relativeRelationship||[]).filter(function(e){return"3"!=e.dictCode})):(this.shipDisabled=!1,this.dp.relativeRelationship)}},mounted:function(){var e=this;this.queryDictData(["certType","relativeRelationship"]),this.$nextTick(function(){e.todoRecount()})},methods:{createCertNoRule:function(){var e=[(0,i.required)("证件号码")];return"1"!=this.formModel.relativeCertificateType&&"7"!=this.formModel.relativeCertificateType||e.push({validator:i.validators.certNo,trigger:"change"}),e},validate:function(e){var r=this,t=!0,a=[];["formModel","regionRef1"].forEach(function(e){a.push(new o.default(function(t){r.$refs[e]?r.$refs[e].validate(function(e){t(e)}):t(!0)}))}),o.default.all(a).then(function(r){t=_.every(r),e&&e(t)})},handleBlur:function(e){var r=this,t=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v");if(!this.checkFieldIsChange(t))return!1;this.$nextTick(function(){r.cacheData("relative"),r.todoRecount()})},handleChange:function(e,r,t){var o=this;if(!this.checkFieldIsChange(r)&&!t)return!1;this.$nextTick(function(){"relative.relativeCertificateType"==r&&o.formModel.relativeCertificateNo&&o.$refs.formModel.validateField("relativeCertificateNo"),o.cacheData("relative"),o.todoRecount()})},changeRegion:function(e,r){this.setChangeRegion({module:"relative",field:e}),this.handleChange(e,r,!0)},relativeUploadIDCard:function(e){this.$refs[e].value="",this.$refs[e].click()},setOcrRes:function(e){var r=this;if(!(this.formModel.relativeCertificateNo!=e.idcard||this.formModel.relativeName!=e.name||"1"!=this.formModel.relativeCertificateType))return!1;this.formModel.relativeCertificateNo=e.idcard,this.formModel.relativeName=e.name,this.formModel.relativeCertificateType="1",this.$nextTick(function(){r.cacheData("relative"),r.todoRecount()})}},watch:{}}},qyku:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=s(t("rVsN")),a=s(t("Vr9E")),n=s(t("c71f")),i=t("ZgZx");function s(e){return e&&e.__esModule?e:{default:e}}r.default={name:"orderGuarantorPersonalForm",mixins:[a.default],props:{index:{default:0}},components:{},data:function(){return{guarantorPersonalRule:n.default.guarantorPersonalRule,targetObj:{}}},computed:{formModel:function(){var e=this.orderData.cust.guarantorPersonal[this.index];if(e)return e}},mounted:function(){var e=this;this.$nextTick(function(){e.todoRecount()})},methods:{createCertNoRule:function(){var e=[(0,i.required)("证件号码")];return"1"!=this.formModel.guarantorCredentialType&&"7"!=this.formModel.guarantorCredentialType||e.push({validator:i.validators.certNo,trigger:"change"}),e},deleteBondsman:function(){this.$emit("on-delete","1",this.index)},handleBlur:function(e){var r=this,t=e.target.parentNode.getAttribute("v")||e.target.parentNode.parentNode.getAttribute("v"),o=t.split(".");if(o.splice(1,0,this.index),t=o.join("."),!this.checkFieldIsChange(t))return!1;this.$nextTick(function(){r.cacheData("guarantorPersonal"),r.todoRecount()})},handleChange:function(e,r,t){var o=this,a=r.split(".");if(a.splice(1,0,this.index),r=a.join("."),!this.checkFieldIsChange(r)&&!t)return!1;this.$nextTick(function(){"guarantorPersonal.guarantorCredentialType"==r&&o.formModel.guarantorIdentityCard&&o.$refs.formModel.validateField("guarantorIdentityCard"),o.cacheData("guarantorPersonal"),o.todoRecount()})},changeRegion:function(e,r){this.setChangeRegion({module:"guarantorPersonal",index:this.index,field:e}),this.handleChange(e,r,!0)},validate:function(e){var r=this,t=!0,a=[];["formModel","regionRef1","regionRef2","regionRef3"].forEach(function(e){a.push(new o.default(function(t){r.$refs[e]?r.$refs[e].validate(function(e){t(e)}):t(!0)}))}),o.default.all(a).then(function(r){t=_.every(r),e&&e(t)})},setOcrRes:function(e){var r=this;if(!(this.formModel.guarantorIdentityCard!=e.idcard||this.formModel.guarantorName!=e.name||this.formModel.censusRegisterAddress!=e.address))return!1;this.formModel.guarantorIdentityCard=e.idcard,this.formModel.guarantorName=e.name,this.formModel.guarantorCredentialType="1",this.formModel.censusRegisterAddress=e.address||"",this.$nextTick(function(){r.cacheData("guarantorPersonal"),r.todoRecount()})}},watch:{}}},sgIi:function(e,r,t){"use strict";var o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("h3",{staticClass:"margin-b-14"},[e._v("个人信息")]),e._v(" "),t("Form",{ref:"formModel",attrs:{model:e.formModel,rules:e.personalRule,"label-width":120}},[t("Row",[t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"申请人姓名",prop:"custName"}},[t("Input",{attrs:{name:"custName",disabled:"",placeholder:"请输入",v:"personal.custName"},model:{value:e.formModel.custName,callback:function(r){e.$set(e.formModel,"custName",r)},expression:"formModel.custName"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"证件类型",prop:"custCertificateType"}},[t("i-select",{attrs:{name:"custCertificateType",disabled:"",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"personal.custCertificateType")}},model:{value:e.formModel.custCertificateType,callback:function(r){e.$set(e.formModel,"custCertificateType",r)},expression:"formModel.custCertificateType"}},e._l(e.dp.certType,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"证件号码",prop:"custCertificateNo"}},[t("Input",{attrs:{name:"custCertificateNo",disabled:"",placeholder:"请输入",v:"personal.custCertificateNo"},model:{value:e.formModel.custCertificateNo,callback:function(r){e.$set(e.formModel,"custCertificateNo",r)},expression:"formModel.custCertificateNo"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"手机号码",prop:"custPhone"}},[t("Input",{attrs:{name:"custPhone",disabled:"",placeholder:"请输入",v:"personal.custPhone"},model:{value:e.formModel.custPhone,callback:function(r){e.$set(e.formModel,"custPhone",r)},expression:"formModel.custPhone"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"性别",prop:"custGender"}},[t("i-select",{attrs:{name:"custGender",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"personal.custGender")}},model:{value:e.formModel.custGender,callback:function(r){e.$set(e.formModel,"custGender",r)},expression:"formModel.custGender"}},e._l(e.dp.sex,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"婚姻状况",prop:"marriage"}},[t("i-select",{attrs:{name:"marriage",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"personal.marriage")}},model:{value:e.formModel.marriage,callback:function(r){e.$set(e.formModel,"marriage",r)},expression:"formModel.marriage"}},e._l(e.dp.marriage,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"申请人学历",prop:"custEducation"}},[t("i-select",{attrs:{name:"custEducation",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"personal.custEducation")}},model:{value:e.formModel.custEducation,callback:function(r){e.$set(e.formModel,"custEducation",r)},expression:"formModel.custEducation"}},e._l(e.dp.education,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"申请人学位",prop:"custDegree"}},[t("i-select",{attrs:{name:"custDegree",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"personal.custDegree")}},model:{value:e.formModel.custDegree,callback:function(r){e.$set(e.formModel,"custDegree",r)},expression:"formModel.custDegree"}},e._l(e.dp.degree,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"有无房产",prop:"hasEstate"}},[t("i-select",{attrs:{name:"hasEstate",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"personal.hasEstate")}},model:{value:e.formModel.hasEstate,callback:function(r){e.$set(e.formModel,"hasEstate",r)},expression:"formModel.hasEstate"}},e._l(e.dp.hasEstate,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"居住状况",prop:"livingStatus"}},[t("i-select",{attrs:{name:"livingStatus",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"personal.livingStatus")}},model:{value:e.formModel.livingStatus,callback:function(r){e.$set(e.formModel,"livingStatus",r)},expression:"formModel.livingStatus"}},e._l(e.dp.livingStatus,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"所属行业",prop:"industry"}},[t("i-select",{attrs:{name:"industry",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"personal.industry")}},model:{value:e.formModel.industry,callback:function(r){e.$set(e.formModel,"industry",r)},expression:"formModel.industry"}},e._l(e.dp.industry,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"税后年薪（万元）",prop:"annualSalaryAfterTax"}},[t("InputNumber",{attrs:{clearable:"",name:"annualSalaryAfterTax",placeholder:"请输入",v:"personal.annualSalaryAfterTax"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.annualSalaryAfterTax,callback:function(r){e.$set(e.formModel,"annualSalaryAfterTax",r)},expression:"formModel.annualSalaryAfterTax"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"申请人职业",prop:"custProfession"}},[t("i-select",{attrs:{name:"custProfession",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"personal.custProfession")}},model:{value:e.formModel.custProfession,callback:function(r){e.$set(e.formModel,"custProfession",r)},expression:"formModel.custProfession"}},e._l(e.dp.profession,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"申请人职务",prop:"custPosition"}},[t("i-select",{attrs:{name:"custPosition",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"personal.custPosition")}},model:{value:e.formModel.custPosition,callback:function(r){e.$set(e.formModel,"custPosition",r)},expression:"formModel.custPosition"}},e._l(e.dp.position,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"申请人职称",prop:"custTitle"}},[t("i-select",{attrs:{name:"custTitle",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"personal.custTitle")}},model:{value:e.formModel.custTitle,callback:function(r){e.$set(e.formModel,"custTitle",r)},expression:"formModel.custTitle"}},e._l(e.dp.title,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"企业性质",prop:"companyNature"}},[t("i-select",{attrs:{name:"companyNature",placeholder:"请选择"},on:{"on-change":function(r){e.handleChange(r,"personal.companyNature")}},model:{value:e.formModel.companyNature,callback:function(r){e.$set(e.formModel,"companyNature",r)},expression:"formModel.companyNature"}},e._l(e.dp.firmNature,function(r,o){return t("i-option",{key:r.dictCode,attrs:{value:r.dictCode}},[e._v("\n                            "+e._s(r.dictName)+"\n                        ")])}),1)],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"现居住地年限",prop:"currentResidenceYears"}},[t("Input",{attrs:{clearable:"",name:"currentResidenceYears",placeholder:"请输入",v:"personal.currentResidenceYears"},on:{"on-blur":e.handleBlur},model:{value:e.formModel.currentResidenceYears,callback:function(r){e.$set(e.formModel,"currentResidenceYears",r)},expression:"formModel.currentResidenceYears"}})],1)],1),e._v(" "),t("i-col",{attrs:{xs:24,sm:12,md:8}},[t("FormItem",{attrs:{label:"现居住地邮编",prop:"postalCode"}},[t("Input",{attrs:{clearable:"",name:"postalCode",placeholder:"请输入",v:"personal.postalCode"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.postalCode,callback:function(r){e.$set(e.formModel,"postalCode",r)},expression:"formModel.postalCode"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"单位名称",prop:"companyName"}},[t("Input",{attrs:{clearable:"",name:"companyName",placeholder:"请输入",v:"personal.companyName"},on:{"on-blur":e.handleBlur,"on-clear":e.handleBlur},model:{value:e.formModel.companyName,callback:function(r){e.$set(e.formModel,"companyName",r)},expression:"formModel.companyName"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{staticClass:"hascol-form-item",attrs:{label:"单位所在地"}},[t("region-picker",{ref:"regionRef1",attrs:{type:"3",regionlabel:"单位所在地"},on:{"on-change":function(r){return e.changeRegion("company","personal.company_Region")}},model:{value:e.formModel.company_Region,callback:function(r){e.$set(e.formModel,"company_Region",r)},expression:"formModel.company_Region"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"单位详细地址",prop:"companyAddress"}},[t("Input",{attrs:{placeholder:"请输入",clearable:"",v:"personal.companyAddress"},on:{"on-blur":e.handleBlur},model:{value:e.formModel.companyAddress,callback:function(r){e.$set(e.formModel,"companyAddress",r)},expression:"formModel.companyAddress"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{staticClass:"hascol-form-item",attrs:{label:"现居地"}},[t("region-picker",{ref:"regionRef2",attrs:{type:"3",regionlabel:"现居地"},on:{"on-change":function(r){return e.changeRegion("currentResidence","personal.currentResidence_Region")}},model:{value:e.formModel.currentResidence_Region,callback:function(r){e.$set(e.formModel,"currentResidence_Region",r)},expression:"formModel.currentResidence_Region"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"现居地详细地址",prop:"currentResidenceAddress"}},[t("Input",{attrs:{placeholder:"请输入",clearable:"",v:"personal.currentResidenceAddress"},on:{"on-blur":e.handleBlur},model:{value:e.formModel.currentResidenceAddress,callback:function(r){e.$set(e.formModel,"currentResidenceAddress",r)},expression:"formModel.currentResidenceAddress"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{staticClass:"hascol-form-item",attrs:{label:"户籍地"}},[t("region-picker",{ref:"regionRef3",attrs:{type:"3",regionlabel:"户籍地"},on:{"on-change":function(r){return e.changeRegion("censusRegister","personal.censusRegister_Region")}},model:{value:e.formModel.censusRegister_Region,callback:function(r){e.$set(e.formModel,"censusRegister_Region",r)},expression:"formModel.censusRegister_Region"}})],1)],1)],1),e._v(" "),t("Row",[t("i-col",{attrs:{xs:24,sm:16}},[t("FormItem",{attrs:{label:"户籍地详细地址",prop:"censusRegisterAddress"}},[t("Input",{attrs:{placeholder:"请输入",clearable:"",v:"personal.censusRegisterAddress"},on:{"on-blur":e.handleBlur},model:{value:e.formModel.censusRegisterAddress,callback:function(r){e.$set(e.formModel,"censusRegisterAddress",r)},expression:"formModel.censusRegisterAddress"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};r.a=o},"yUk/":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("lGfW"),a=t.n(o);for(var n in o)"default"!==n&&function(e){t.d(r,e,function(){return o[e]})}(n);var i=t("nYYZ"),s=t("C7Lr")(a.a,i.a,!1,null,null,null);r.default=s.exports}});
//# sourceMappingURL=4.7c3bb122fae83e3472be.js.map